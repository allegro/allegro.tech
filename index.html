<!DOCTYPE html><html lang="pl"><head><meta charSet="utf-8"/><link rel="prefetch" href="https://allegrotechio.disqus.com/count.js"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="Allegro Tech to miejsce, w którym nasi inżynierowie dzielą się wiedzą oraz case study z wybranych projektów w firmie - w formie artykułów, podcastów oraz eventów."/><title>Allegro Tech</title><meta property="og:site_name" content="allegro.tech"/><meta property="og:title" content="allegro.tech"/><meta property="og:url" content="https://allegro.tech"/><meta property="og:type" content="site"/><meta property="og:image" content="https://allegro.tech/images/allegro-tech.png"/><link rel="shortcut icon" href="favicon.ico"/><link rel="canonical" href="https://allegro.tech" itemProp="url"/><link rel="preload" href="images/splash.jpg" as="image"/><link rel="author" href="humans.txt"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1M1FJ5PXWW"></script><script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'G-1M1FJ5PXWW');
                </script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/66933eaa547aae51.css" as="style"/><link rel="stylesheet" href="/_next/static/css/66933eaa547aae51.css" data-n-g=""/><link rel="preload" href="/_next/static/css/79db8b1e27b0a093.css" as="style"/><link rel="stylesheet" href="/_next/static/css/79db8b1e27b0a093.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-f635b472c367d1c7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-179adf437ae674f2.js" defer=""></script><script src="/_next/static/chunks/206-3a56e5ded293e83e.js" defer=""></script><script src="/_next/static/chunks/pages/index-486cce7aaae65867.js" defer=""></script><script src="/_next/static/NFsI-UqgFbjugbM-wVEdD/_buildManifest.js" defer=""></script><script src="/_next/static/NFsI-UqgFbjugbM-wVEdD/_ssgManifest.js" defer=""></script><script src="/_next/static/NFsI-UqgFbjugbM-wVEdD/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card Header_navbar__Zc5aN m-color-bg_card"><nav class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-display-flex m-flex-justify-between m-flex-items-center"><a href="/"><img src="images/logo.svg" alt="Allegro Tech" width="205" height="45"/></a><div><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0 m-display-flex@lg m-display-none"><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://blog.allegro.tech">Blog</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://ml.allegro.tech">Machine Learning</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://podcast.allegro.tech">Podcast</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://github.com/Allegro">Open Source</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://www.meetup.com/allegrotech/events">Wydarzenia</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://praca.allegro.pl">Praca</a></li></ul><button class="m-display-none@lg m-height_40 m-line-height_40 m-border-style-top_none m-border-style-right_none m-border-style-bottom_none m-border-style-left_none m-border-radius-top-left_2 m-border-radius-top-right_2 m-border-radius-bottom-left_2 m-border-radius-bottom-right_2 m-cursor_pointer m-overflow_hidden m-appearance_none m-padding-left_4 m-padding-right_4 m-padding-top_4 m-padding-bottom_4 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button" style="background:transparent" aria-label="Otwórz menu"><img src="https://assets.allegrostatic.com/metrum/icon/menu-23e046bf68.svg" alt="" class="m-icon" width="32" height="32"/></button></div></nav></header><div class="Header_hero__PYE0B"><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-display-flex m-flex-column m-flex-justify-end Header_image__Cj6ZF"><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-color-bg_desk"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text  m-font-weight_100 m-font-size_32 m-font-size_43_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125">O nas</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">Allegro to jedna z najbardziej zaawansowanych technologicznie firm w naszej części Europy. Allegro to również ponad 1000 specjalistów IT, różnych specjalizacji, rozwijających nasz serwis. Unikatowa skala i złożoność problemów, które rozwiązujemy na co dzień, dają nam możliwość rozwoju przy bardzo różnorodnych projektach. Allegro Tech to miejsce, w którym nasi inżynierowie dzielą się wiedzą oraz case study z wybranych projektów w firmie – w formie artykułów, podcastów oraz eventów.</p></div></div></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Blog</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html" title="How we solved a mobile application performance issue with a few lines of code?"><img width="388" src="images/post-headers/default.jpg" alt="How we solved a mobile application performance issue with a few lines of code?" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html" title="How we solved a mobile application performance issue with a few lines of code?" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">How we solved a mobile application performance issue with a few lines of code?</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">6 dni temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/Server-driven UI">#<!-- -->Server-driven UI</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/mobile">#<!-- -->mobile</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/mbox">#<!-- -->mbox</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/performance">#<!-- -->performance</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Sometimes great results in code performance come with a small amount of work.
We’d like to tell you a story about how we changed the Allegro…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Łukasz Solniczek" src="https://blog.allegro.tech/img/authors/lukasz.solniczek.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/lukasz.solniczek">Łukasz Solniczek</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/12/transactions-in-mongodb.html" title="Transactions in MongoDB"><img width="388" src="images/post-headers/default.jpg" alt="Transactions in MongoDB" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/12/transactions-in-mongodb.html" title="Transactions in MongoDB" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Transactions in MongoDB</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">około miesiąc temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/techradar">#<!-- -->techradar</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/NoSQL">#<!-- -->NoSQL</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Since version 4.0, transactions have been introduced to the world of Mongo databases. However, the way they work differs greatly from the tried and true…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Piotr Kisielewicz" src="https://blog.allegro.tech/img/authors/piotr.kisielewicz.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/piotr.kisielewicz">Piotr Kisielewicz</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/12/transactions-in-mongodb.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/12/transactions-in-mongodb.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html" title="Vanilla JS is not dead! Microfrontends without web performance issues."><img width="388" src="images/post-headers/javascript.png" alt="Vanilla JS is not dead! Microfrontends without web performance issues." class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html" title="Vanilla JS is not dead! Microfrontends without web performance issues." class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Vanilla JS is not dead! Microfrontends without web performance issues.</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">3 miesiące temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/frontend">#<!-- -->frontend</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/microservices">#<!-- -->microservices</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/webperf">#<!-- -->webperf</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/javascript">#<!-- -->javascript</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Building a complex web platform can be a real challenge, especially when parts of it are delivered by independent teams.
Picking out the correct architecture is…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Krzysztof Mikuta" src="https://blog.allegro.tech/img/authors/krzysztof.mikuta.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/krzysztof.mikuta">Krzysztof Mikuta</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/10/probabilistic-algorithms.html" title="Probabilistic Data Structures and Algorithms in NoSQL databases"><img width="388" src="images/post-headers/default.jpg" alt="Probabilistic Data Structures and Algorithms in NoSQL databases" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/10/probabilistic-algorithms.html" title="Probabilistic Data Structures and Algorithms in NoSQL databases" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Probabilistic Data Structures and Algorithms in NoSQL databases</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">4 miesiące temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/performance">#<!-- -->performance</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/NoSQL">#<!-- -->NoSQL</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">One of the four fundamental features of transactional databases is durability. It says that once a
transaction is committed, the stored data remains available even if…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Michał Knasiecki" src="https://blog.allegro.tech/img/authors/michal.knasiecki.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/michal.knasiecki">Michał Knasiecki</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/10/probabilistic-algorithms.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/10/probabilistic-algorithms.html">przejdź do wpisu</a></div></article></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech">Zobacz więcej wpisów</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Podcasty</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/o-pracy-i-rozwoju-w-zespole-it-support/" title="S03E11 - Bartosz Kaczyński - O pracy i rozwoju w zespole IT Support"><img src="images/podcast.png" alt="S03E11 - Bartosz Kaczyński - O pracy i rozwoju w zespole IT Support" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/o-pracy-i-rozwoju-w-zespole-it-support/" title="S03E11 - Bartosz Kaczyński - O pracy i rozwoju w zespole IT Support" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S03E11 - Bartosz Kaczyński - O pracy i rozwoju w zespole IT Support</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">5 dni temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Jak wygląda praca w zespole, który zawsze udziela odpowiedzi na zadane pytania? Co można zautomatyzować w obszarze wsparcia IT i jaki to może mieć cel? Czy praca w zespole IT Support jest bramą do kariery w IT, może dawać możliwości rozwoju i przynosić satysfakcję? Jakie wyzwania przed tym zespołem w Allegro postawiła pandemia koronawirusa? O umożliwianiu pracownikom Grupy Allegro sprawnej pracy na narzędziach i usługach IT dostarczanych przez zespół Business Services &amp; Automation opowiada Bartosz Kaczyński - IT Service Operations Manager w Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/o-pracy-i-rozwoju-w-zespole-it-support/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/o-rozwiazaniach-opartych-na-badaniach/" title="S03E10 - Zosia Śmierzchalska, Jakub Dodot - O tym jak przygotowujemy rozwiązania dla klientów w oparciu o badania"><img src="images/podcast.png" alt="S03E10 - Zosia Śmierzchalska, Jakub Dodot - O tym jak przygotowujemy rozwiązania dla klientów w oparciu o badania" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/o-rozwiazaniach-opartych-na-badaniach/" title="S03E10 - Zosia Śmierzchalska, Jakub Dodot - O tym jak przygotowujemy rozwiązania dla klientów w oparciu o badania" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S03E10 - Zosia Śmierzchalska, Jakub Dodot - O tym jak przygotowujemy rozwiązania dla klientów w oparciu o badania</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">19 dni temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">W jaki sposób przygotowujemy rozwiązania dla klientów Allegro w oparciu o badania? Jak wygląda ścieżka projektu od eksploracji do wdrożenia i późniejszego monitorowania? Jaką korzyść dają badania usability? Dlaczego warto, aby badanie było prowadzone przez dwoje badaczy? O współpracy między badaczami i projektantami UX rozmawialiśmy z Zofią Śmierzchalską - Design Managerką i Jakubem Dodotem - Senior UX Research Managerem w Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/o-rozwiazaniach-opartych-na-badaniach/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/o-allegro-family/" title="S03E09 - Adrianna Dworniak, Łukasz Gomółka - O Allegro Family"><img src="images/podcast.png" alt="S03E09 - Adrianna Dworniak, Łukasz Gomółka - O Allegro Family" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/o-allegro-family/" title="S03E09 - Adrianna Dworniak, Łukasz Gomółka - O Allegro Family" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S03E09 - Adrianna Dworniak, Łukasz Gomółka - O Allegro Family</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">około 2 miesiące temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Czy współpraca dwóch Product Managerów przy jednym produkcie jest możliwa i jak zadbać o jej efektywność? Czym jest “churn” i na czym polega w branży e-commerce? Co wspólnego z błędnymi rekomendacjami zakupowymi mają maty do ćwiczeń? Jak rozwiązywać wielopłaszczyznowe problemy, dzięki kompleksowemu zrozumieniu perspektywy klienta i bez wykorzystywania restrykcji? Jak powstawało Allegro Family oraz dlaczego czasem warto zacząć weryfikację pomysłu na produkt od rozmowy z… teściową? Na te i inne pytania odpowiadają  Adrianna Dworniak - Senior Product Manager i Łukasz Gomółka - Product Team Manager w Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/o-allegro-family/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/o-pracy-w-allegro-ads/" title="S03E08 - Michał Wiśniewski - O pracy w Allegro Ads"><img src="images/podcast.png" alt="S03E08 - Michał Wiśniewski - O pracy w Allegro Ads" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/o-pracy-w-allegro-ads/" title="S03E08 - Michał Wiśniewski - O pracy w Allegro Ads" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S03E08 - Michał Wiśniewski - O pracy w Allegro Ads</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">2 miesiące temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Za co odpowiada, jak działa i co oferuje klientom Allegro Ads? Co charakteryzuje DSP (Demand Side Platform), jeden z produktów w ekosystemie Allegro Ads? Czego dotyczy wyśrubowanie wymagań technicznych w tym produkcie i z jakimi wyzwaniami mierzymy się biznesowo? Skąd biorą się pomysły na rozwój Allegro Ads? I wreszcie - jak wyglądała droga Michała od programu e-xperience do roli Junior Software Engineera oraz czym zaskoczyła go najbardziej? Posłuchajcie kolejnego odcinka Allegro Tech Podcast.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/o-pracy-w-allegro-ads/">Posłuchaj odcinka</a></div></article></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech">Zobacz więcej podcastów</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Wydarzenia</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/290822249/" title="Allegro Tech Live #33 - iOS od podszewki" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #33 - iOS od podszewki"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/290822249/" title="Allegro Tech Live #33 - iOS od podszewki" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #33 - iOS od podszewki</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">12 dni temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">**➡ Transmisja i nagranie ze spotkania:** **[https://www.youtube.com/watch?v=c-AIoOnby3M](https://www.youtube.com/watch?v=c-AIoOnby3M)** **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/290822249/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/290082009/" title="Allegro Tech Live #32 - Storage (nie)standardowy" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #32 - Storage (nie)standardowy"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/290082009/" title="Allegro Tech Live #32 - Storage (nie)standardowy" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #32 - Storage (nie)standardowy</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">około 2 miesiące temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">**➡ Transmisja spotkania:** **[https://www.youtube.com/watch?v=fQLyw_IpaPQ ](https://www.youtube.com/watch?v=fQLyw_IpaPQ)** **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w naszych biurach,…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/290082009/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/289621472/" title="Allegro Tech Live #31 - Frontend: reporting i optymalizacje" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #31 - Frontend: reporting i optymalizacje"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/289621472/" title="Allegro Tech Live #31 - Frontend: reporting i optymalizacje" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #31 - Frontend: reporting i optymalizacje</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">2 miesiące temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">**➡ Rejestracja:** https://app.evenea.pl/event/allegro-tech-talk-31 **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w naszych biurach, ale tym…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/289621472/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/288748190/" title="Allegro Tech Live #30 - Dług technologiczny - jak go spłacić i nie zbankrutować" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #30 - Dług technologiczny - jak go spłacić i nie zbankrutować"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/288748190/" title="Allegro Tech Live #30 - Dług technologiczny - jak go spłacić i nie zbankrutować" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #30 - Dług technologiczny - jak go spłacić i nie zbankrutować</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">4 miesiące temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">**➡ Rejestracja:** [https://app.evenea.pl/event/allegro-tech-talk-30](https://app.evenea.pl/event/allegro-tech-talk-30) UWAGA: Z różnych powodów (mniej lub bardziej zależnych od nas) czwartkowe spotkanie Allegro Tech Talk przenosimy w pełni do świata online. Chociaż…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/288748190/">Szczegóły</a></article></div></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/">Zobacz więcej wydarzeń</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Oferty pracy</h2><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto"><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Front-End Software Engineer - Delivery Experience</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Kraków, Poznań, Toruń, Wrocław, Katowice, Lublin, Gdańsk, Łódź</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999880597874-front-end-software-engineer-delivery-experience?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Software Engineer (Scala) - Data&amp;AI</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Poznań, Warszawa, Kraków</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999880589538-software-engineer-scala-dataai?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Software Engineer (Scala) - Data&amp;AI</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Poznań, Warszawa, Kraków</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999880589545-software-engineer-scala-dataai?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Front-End Software Engineer - Delivery Experience</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Kraków, Poznań, Toruń, Wrocław, Katowice, Lublin, Gdańsk, Łódź</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999879703298-front-end-software-engineer-delivery-experience?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Senior Software Engineer (Java/Kotlin) - Delivery Experience</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Poznań, Kraków, Wrocław, Gdańsk, Katowice, Lublin, Łódź, Toruń</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999879329833-senior-software-engineer-javakotlin-delivery-experience?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://allegro.pl/praca">Zobacz więcej ofert</a></div><footer class="m-color-bg_navy m-margin-top-32"><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24 m-padding-bottom-24 m-display-flex@sm m-flex-justify-between m-flex-items-center m-text-align_center"><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-color_white m-padding-left-24@sm">Proudly built by Allegro Tech engineers</p><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0 m-display-flex m-flex-justify-center"><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://github.com/allegro"><img src="https://assets.allegrostatic.com/metrum/icon/github-6a18df1729.svg" alt="Github" class="m-icon"/></a></li><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://www.facebook.com/allegro.tech/"><img src="https://assets.allegrostatic.com/metrum/icon/facebook-a2b92f9dcb.svg" alt="Facebook" class="m-icon"/></a></li><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/allegrotech"><img src="https://assets.allegrostatic.com/metrum/icon/twitter-25164a58aa.svg" alt="Twitter" class="m-icon"/></a></li></ul></div></footer><div style="visibility:hidden;height:0;overflow:hidden;position:relative"><img alt="doubleclick" width="1" height="1" style="position:absolute" src="https://pubads.g.doubleclick.net/activity;dc_iu=/21612525419/DFPAudiencePixel;ord=4859264717902.911;dc_seg=507368552?"/><img alt="fb" height="1" width="1" style="position:absolute" src="https://www.facebook.com/tr?id=1650870088530325&amp;ev=PageView&amp;noscript=1"/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"How we solved a mobile application performance issue with a few lines of code?","link":"https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html","pubDate":"Wed, 25 Jan 2023 00:00:00 +0100","authors":{"author":[{"name":["Łukasz Solniczek"],"photo":["https://blog.allegro.tech/img/authors/lukasz.solniczek.jpg"],"url":["https://blog.allegro.tech/authors/lukasz.solniczek"]}]},"content":"\u003cp\u003eSometimes great results in code performance come with a small amount of work.\nWe’d like to tell you a story about how we changed the \u003ca href=\"/about-us/\"\u003eAllegro\u003c/a\u003e mobile homepage\nand reduced usage of Allegro service infrastructure with only a few lines of code.\u003c/p\u003e\n\n\u003ch3 id=\"the-problem\"\u003eThe problem\u003c/h3\u003e\n\n\u003cp\u003eThe story is about the homepage in the Allegro app on \u003ca href=\"https://play.google.com/store/apps/details?id=pl.allegro\"\u003eAndroid\u003c/a\u003e\nand \u003ca href=\"https://apps.apple.com/pl/app/allegro/id305659772\"\u003eiOS\u003c/a\u003e, the first screen a user sees when opening the app.\nOriginally it was a long screen with a lot of content rendered with data from tens of, sometimes costly, data sources (services we use to prepare data for our frontend).\u003c/p\u003e\n\n\u003cp\u003eA lot was happening there.\u003c/p\u003e\n\n\u003cp\u003eIt was not a big problem earlier but became one when the number of users of our applications started growing, after the outbreak of the COVID-19 pandemic.\nWithin one year, the number of requests sent to our infrastructure from the Allegro homepage increased almost 3 times, consequently becoming a performance issue.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-rps.png\" alt=\"Lazy Loading Homepage\" /\u003e\u003c/p\u003e\n\n\u003ch3 id=\"the-idea\"\u003eThe idea\u003c/h3\u003e\n\n\u003cp\u003eWe decided to split the homepage content into two parts. The first would load when the user opens the app and would be available immediately.\nAnd the second part would load when the user scrolls to the end of the first part.\nThis technique is called lazy loading.\nIt is not something new, it is used web-wide in many places, but in our case, we had to think about it differently because …\u003c/p\u003e\n\n\u003cp\u003e… we built the Allego homepage in applications using \u003cstrong\u003eMBox\u003c/strong\u003e, the server-driven UI solution created at Allegro, which means that the content and screen logic is defined entirely on the server side.\nImplementation of lazy loading for the Allegro homepage also had to be done on the server side.\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eWhat is \u003cstrong\u003eMBox\u003c/strong\u003e? It is our \u003cstrong\u003eServer-Driven UI (SDUI)\u003c/strong\u003e solution, which we use at Allegro to create and release mobile screens faster on both platforms (iOS and Android). It is a collection of building blocks that let us develop views and actions that link MBox screens with other parts of the application or introduce some interaction on a screen.\nIf you want to learn more about MBox, you can read its introduction on our blog: \u003ca href=\"/2022/08/mbox-server-driven-ui-for-mobile-apps.html\"\u003eMBox: server-driven UI for mobile apps\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eAfter discussing the problem and potential solution, it turned out that all the \u003cstrong\u003eMBox\u003c/strong\u003e building blocks and actions we\nneeded to implement lazy-loading with MBox were already there.\u003c/p\u003e\n\n\u003ch3 id=\"the-solution\"\u003eThe solution\u003c/h3\u003e\n\n\u003cp\u003eThanks to modular architecture, independent elements, and a clear interface between them, all we needed to do was combine already existing mechanisms.\u003c/p\u003e\n\n\u003cp\u003eWe used the \u003cstrong\u003eSpinner\u003c/strong\u003e component, which shows the native spinner view in the applications, and \u003cstrong\u003ereplaceComponent\u003c/strong\u003e action, which can fetch the next portion of the mobile screen and display it in place of some other component.\nThe homepage endpoint had already supported pagination.\u003c/p\u003e\n\n\u003cp\u003eAt the end of the first part of the Allegro homepage, we added \u003cstrong\u003eSpinner\u003c/strong\u003e component with \u003cstrong\u003ereplaceComponent\u003c/strong\u003e action triggered when the \u003cstrong\u003eSpinner\u003c/strong\u003e shows.\u003c/p\u003e\n\n\u003cp\u003eAction \u003cstrong\u003ereplaceComponent\u003c/strong\u003e loads the second part of the homepage and alters \u003cstrong\u003eSpinner\u003c/strong\u003e with it.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-homepage.png\" alt=\"Lazy Loading Homepage\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eThis change was implemented entirely server-side and was available on both platforms (iOS and Android) \u003cstrong\u003ewithout a new application release\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003eThese few lines of \u003cstrong\u003eMBox\u003c/strong\u003e code helped us divide the Allegro homepage into two parts, and fix our original performance problem.\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003espinner\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"spinnerID\"\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eactions\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eshow\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003ereplaceComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecomponentId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"spinnerID\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eroute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"url-to-second-part\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAnd here are some results.\u003c/p\u003e\n\n\u003ch3 id=\"the-result\"\u003eThe result\u003c/h3\u003e\n\n\u003cp\u003eWe have added metrics to our lazy loading solution to gather information about how our users interact with new Allegro homepage.\nWe learned that only about \u003cstrong\u003e5% of iOS\u003c/strong\u003e,\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-mobile-requests-ios.png\" alt=\"Lazy Loading mobile requests\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eand about \u003cstrong\u003e10% of Android\u003c/strong\u003e users\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-mobile-requests-android.png\" alt=\"Lazy Loading mobile requests\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eload the second part of the Allegro homepage.\nMost users do not scroll down, and preparing the entire homepage at once was an unnecessary use of our resources.\u003c/p\u003e\n\n\u003cp\u003eThe Allegro app measures \u003cstrong\u003eFirst Meaningful Paint (FMP)\u003c/strong\u003e for screen content. This metric shows us how quickly the primary content is visible to the user.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-fmp.png\" alt=\"Lazy loading fmp\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eAfter introducing lazy loading, \u003cstrong\u003eFMP\u003c/strong\u003e improved, and the first content is visible to users \u003cstrong\u003e61% faster\u003c/strong\u003e than before on both platforms (iOS and Android).\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eFMP\u003c/strong\u003e improved because we reduced the response size of the Allegro homepage load by \u003cstrong\u003eabout 90%\u003c/strong\u003e,\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-response-size.png\" alt=\"Lazy loading response size\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eand the backend rendering time by \u003cstrong\u003eabout 56%\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2023-01-25-lazy-loading-with-mbox/lazy-loading-render-time.png\" alt=\"Lazy loading render time\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eWe could do that because, when we load the homepage for a user, we use \u003cstrong\u003eabout 90% fewer\u003c/strong\u003e data sources than before.\u003c/p\u003e\n\n\u003ch3 id=\"summary\"\u003eSummary\u003c/h3\u003e\n\n\u003cp\u003eWe designed \u003cstrong\u003eMBox\u003c/strong\u003e to allow developers to create and modify mobile screens faster and easier, but we are pleased that it also helps improve app performance. Thanks to MBox, and its modular architecture, we were able to modify\ncode on the server and introduce this improvement on both platforms (iOS and Android) fast, and deliver it to users of the Allegro apps without a long mobile release process.\u003c/p\u003e\n","contentSnippet":"Sometimes great results in code performance come with a small amount of work.\nWe’d like to tell you a story about how we changed the Allegro mobile homepage\nand reduced usage of Allegro service infrastructure with only a few lines of code.\nThe problem\nThe story is about the homepage in the Allegro app on Android\nand iOS, the first screen a user sees when opening the app.\nOriginally it was a long screen with a lot of content rendered with data from tens of, sometimes costly, data sources (services we use to prepare data for our frontend).\nA lot was happening there.\nIt was not a big problem earlier but became one when the number of users of our applications started growing, after the outbreak of the COVID-19 pandemic.\nWithin one year, the number of requests sent to our infrastructure from the Allegro homepage increased almost 3 times, consequently becoming a performance issue.\n\nThe idea\nWe decided to split the homepage content into two parts. The first would load when the user opens the app and would be available immediately.\nAnd the second part would load when the user scrolls to the end of the first part.\nThis technique is called lazy loading.\nIt is not something new, it is used web-wide in many places, but in our case, we had to think about it differently because …\n… we built the Allego homepage in applications using MBox, the server-driven UI solution created at Allegro, which means that the content and screen logic is defined entirely on the server side.\nImplementation of lazy loading for the Allegro homepage also had to be done on the server side.\nWhat is MBox? It is our Server-Driven UI (SDUI) solution, which we use at Allegro to create and release mobile screens faster on both platforms (iOS and Android). It is a collection of building blocks that let us develop views and actions that link MBox screens with other parts of the application or introduce some interaction on a screen.\nIf you want to learn more about MBox, you can read its introduction on our blog: MBox: server-driven UI for mobile apps.\nAfter discussing the problem and potential solution, it turned out that all the MBox building blocks and actions we\nneeded to implement lazy-loading with MBox were already there.\nThe solution\nThanks to modular architecture, independent elements, and a clear interface between them, all we needed to do was combine already existing mechanisms.\nWe used the Spinner component, which shows the native spinner view in the applications, and replaceComponent action, which can fetch the next portion of the mobile screen and display it in place of some other component.\nThe homepage endpoint had already supported pagination.\nAt the end of the first part of the Allegro homepage, we added Spinner component with replaceComponent action triggered when the Spinner shows.\nAction replaceComponent loads the second part of the homepage and alters Spinner with it.\n\nThis change was implemented entirely server-side and was available on both platforms (iOS and Android) without a new application release.\nThese few lines of MBox code helped us divide the Allegro homepage into two parts, and fix our original performance problem.\n\nspinner {\n    id = \"spinnerID\"\n    actions {\n        show {\n            replaceComponent(componentId = \"spinnerID\", route = \"url-to-second-part\")\n        }\n    }\n}\n\n\nAnd here are some results.\nThe result\nWe have added metrics to our lazy loading solution to gather information about how our users interact with new Allegro homepage.\nWe learned that only about 5% of iOS,\n\nand about 10% of Android users\n\nload the second part of the Allegro homepage.\nMost users do not scroll down, and preparing the entire homepage at once was an unnecessary use of our resources.\nThe Allegro app measures First Meaningful Paint (FMP) for screen content. This metric shows us how quickly the primary content is visible to the user.\n\nAfter introducing lazy loading, FMP improved, and the first content is visible to users 61% faster than before on both platforms (iOS and Android).\nFMP improved because we reduced the response size of the Allegro homepage load by about 90%,\n\nand the backend rendering time by about 56%.\n\nWe could do that because, when we load the homepage for a user, we use about 90% fewer data sources than before.\nSummary\nWe designed MBox to allow developers to create and modify mobile screens faster and easier, but we are pleased that it also helps improve app performance. Thanks to MBox, and its modular architecture, we were able to modify\ncode on the server and introduce this improvement on both platforms (iOS and Android) fast, and deliver it to users of the Allegro apps without a long mobile release process.","guid":"https://blog.allegro.tech/2023/01/lazy-loading-with-mbox.html","categories":["tech","Server-driven UI","mobile","mbox","performance"],"isoDate":"2023-01-24T23:00:00.000Z","thumbnail":"images/post-headers/default.jpg"},{"title":"Transactions in MongoDB","link":"https://blog.allegro.tech/2022/12/transactions-in-mongodb.html","pubDate":"Wed, 21 Dec 2022 00:00:00 +0100","authors":{"author":[{"name":["Piotr Kisielewicz"],"photo":["https://blog.allegro.tech/img/authors/piotr.kisielewicz.jpg"],"url":["https://blog.allegro.tech/authors/piotr.kisielewicz"]}]},"content":"\u003cp\u003eSince version 4.0, transactions have been introduced to the world of Mongo databases. However, the way they work differs greatly from the tried and true world of SQL.\u003c/p\u003e\n\n\u003cp\u003eIn databases like PostgreSQL or MySQL there are transactions based on tables and relations with isolation levels such as \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eREAD_UNCOMMITED\u003c/code\u003e, \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eREAD_COMMITED\u003c/code\u003e, \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eREPEATABLE_READ\u003c/code\u003e and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eSERIALIZABLE\u003c/code\u003e. These help us to recognize if the record we’re working on is dirty, both when we want to access it or when someone else wants to do it after we’ve made some changes. In the world of documents, shards and replicas, the changes made to a single document are already atomic by design.\u003c/p\u003e\n\n\u003cp\u003eWhy do we need transactions then? I only talked about single documents, but after all, documents can be modified in bulk, and these operations are no longer atomic.\u003c/p\u003e\n\n\u003cp\u003eThat’s why transactions were introduced into MongoDB. In this blog post, we will check how they work and what their use cases are.\u003c/p\u003e\n\n\u003ch3 id=\"what-is-a-transaction\"\u003eWhat is a transaction?\u003c/h3\u003e\n\n\u003cp\u003eA database transaction is a unit of work, designed to handle the changes of data in the database. It makes sure that the output of the data is consistent and doesn’t generate errors. It helps with concurrent changes to the database, and makes the database more scalable.\u003c/p\u003e\n\n\u003cp\u003eBy definition, database transactions are atomic, consistent, isolated and durable. Sounds familiar? Exactly, it’s \u003cstrong\u003eACID\u003c/strong\u003e.\u003c/p\u003e\n\n\u003ch3 id=\"does-mongodb-implement-acid\"\u003eDoes MongoDB implement ACID?\u003c/h3\u003e\n\n\u003cp\u003eBefore implementing transactions? Not really. Of course, there are some properties of ACID that are present (as stated earlier), but before version 4.0 they were impossible to achieve in a distributed ecosystem.\u003c/p\u003e\n\n\u003cp\u003eHere’s an excerpt from the MongoDB website: \u003ca href=\"https://www.mongodb.com/basics/acid-transactions\"\u003ewe estimate that 80%-90% of applications that leverage the document model will not need to utilize transactions in MongoDB\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eAlas, when you need to make changes to multiple documents, or worse, if they are split across multiple shards, then there is no guarantee that the changes will adhere to ACID properties. That’s why the need for ACID transactions arose.\u003c/p\u003e\n\n\u003cp\u003eFortunately, since version 4.0 transactions were added to MongoDB, first for multi-document changes, and then, in 4.2, for distributed data.\u003c/p\u003e\n\n\u003ch3 id=\"specifics-of-mongodb-transactions\"\u003eSpecifics of MongoDB transactions\u003c/h3\u003e\n\n\u003cp\u003eHaving in mind the differences between MongoDB and SQL DB engines, we need to first take a look at how transactions in Mongo are specified. Since the problems that arise from having multiple documents, replica sets and shards differ from the issues of concurrent access to a table row, resolutions to these problems are also different in nature.\u003c/p\u003e\n\n\u003cp\u003eThe transaction in MongoDB is denoted by two properties: \u003cstrong\u003eReadConcern\u003c/strong\u003e and \u003cstrong\u003eWriteConcern\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003eA \u003cstrong\u003eReadConcern\u003c/strong\u003e property is used to control the consistency and isolation of the data we read from the database.\u003c/p\u003e\n\n\u003cp\u003eSimilarly, the \u003cstrong\u003eWriteConcern\u003c/strong\u003e property is us defining when we consider the data we write to be consistent in the database.\u003c/p\u003e\n\n\u003cp\u003e(Side note: when we are talking about majority we are talking about calculated majority. You can read more about it in \u003ca href=\"https://www.mongodb.com/docs/manual/reference/write-concern/#std-label-calculating-majority-count\"\u003eCalculating majority count\u003c/a\u003e)\u003c/p\u003e\n\n\u003cp\u003eWe distinguish between three levels of \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eReadConcern\u003c/code\u003e for transactions (others are unavailable to use in this case):\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003elocal, which reads the latest data from a node that has been queried. There are no guarantees that the data read is the most recent across the system,\u003c/li\u003e\n  \u003cli\u003emajority, which reads the data at the point of majority-commit. Said point is calculated by the primary node. This ReadConcern doesn’t guarantee consistency unless WriteConcern of at least majority is also stated,\u003c/li\u003e\n  \u003cli\u003esnapshot, which reads from a snapshot of majority-commited data. This ReadConcern level is mainly only available in transactions (so we can’t use it in single-document reads save for some outliers) and provides its benefits mainly with sharded transactions as it guarantees that the data is synchronized across shards\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAs we can see, we can draw some parallels between MongoDB’s ReadConcern options and the SQL world, where local would be equal to READ UNCOMMITED, majority would be similar to REPEATABLE READ and snapshot has near likeness to SERIALIZABLE.\u003c/p\u003e\n\n\u003cp\u003eWhat about WriteConcerns? There are three main descriptors:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003e1, which basically means that we are only interested in primary node committing the changes. Unfortunately, using this WriteConcern means that you will have no guarantees for any of the ReadConcerns stated above,\u003c/li\u003e\n  \u003cli\u003eAny {number} greater than 1 states that we want to get the data committed by the primary and {number - 1} of secondary nodes. This WriteConcern depends on the number of nodes in the system, since it can denote more than the majority of the nodes and in this case would provide us with read guarantees,\u003c/li\u003e\n  \u003cli\u003emajority, which means that majority of nodes acknowledge the changes in data. This WriteConcern provides us with read guarantees, and also gives us benefits of eventual consistency.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"enough-theory-i-want-to-see-it-in-action\"\u003eEnough theory, I want to see it in action!\u003c/h3\u003e\n\n\u003cp\u003eFor this example I’m using \u003ca href=\"https://www.mongodb.com/docs/manual/installation/\"\u003eMongoDB community edition 6.0 for macOS\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eI’ve created a MongoDB server consisting of one config database and one shard replica set with three members. You can find the steps in the official MongoDB \u003ca href=\"https://www.mongodb.com/docs/manual/tutorial/deploy-shard-cluster/\"\u003edocumentation\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eTo start, we need some data that’s already present in the database, so that we can see the changes that are being made. First, let’s connect to one of our nodes in a replica set:\u003c/p\u003e\n\n\u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003emongosh --host localhost --port 27027\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eThen, let’s insert the following data:\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003einsertMany\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eGC, hands off my data!\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAllegro Blogperson\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edate\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-06-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eurl\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttps://blog.allegro.tech/2022/06/gc-hands-off-my-data.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eHow to facilitate EventStorming workshops\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eBlog Stormer\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edate\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-07-19\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eurl\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttps://blog.allegro.tech/2022/07/event-storming-workshops.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMBox: server-driven UI for mobile apps\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMobile Guru\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edate\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-08-03\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eurl\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttps://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eLet’s also connect to a different node in our replica set:\u003c/p\u003e\n\n\u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003emongosh --host localhost --port 27028\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eWe can verify here that the data is present:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003edb.blog.find()\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThis should return all our data that we inserted earlier.\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMBox: server-driven UI for mobile apps\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMobile Guru\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-08-03\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHow to facilitate EventStorming workshops\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Stormer\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-07-19\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/07/event-storming-workshops.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eGC, hands off my data!\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAllegro Blogperson\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-06-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/06/gc-hands-off-my-data.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eTime to add some data in a transaction. To do that, we first need to establish a transaction using the following command (in the first shell):\u003c/p\u003e\n\n\u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003evar session = db.getMongo().startSession()\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eAfter we start the session, it’s time to open the transaction:\u003c/p\u003e\n\n\u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003esession.startTransaction({\"readConcern\": {\"level\": \"snapshot\"}, \"writeConcern\": {\"w\": \"majority\"}})\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eThen, to make sure that we are using our collection in the context of a session, we need to run this:\u003c/p\u003e\n\n\u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003evar blog = session.getDatabase('test').getCollection('blog');\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eWe can now insert new data into our collection while transaction is active:\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003einsertOne\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eTransactions in MongoDB\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ePiotr Kisielewicz\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edate\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-11-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eurl\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttps://blog.allegro.tech/2022/11/transactions-in-mongodb.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e{acknowledged: true, insertedId: ObjectId(\"6319e60accc51dfa32ca495a\")}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eBefore committing our transaction, let’s try to read the data from another replica (in the second shell which we opened previously):\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMBox: server-driven UI for mobile apps\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMobile Guru\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-08-03\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHow to facilitate EventStorming workshops\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Stormer\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-07-19\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/07/event-storming-workshops.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eGC, hands off my data!\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAllegro Blogperson\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-06-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/06/gc-hands-off-my-data.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAs you can see, the new record is nowhere to be found. Let’s now commit the transaction (in the first shell):\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003esession.commitTransaction();\n{\n    readOnly: false,\n    ok: 1,\n    lastCommittedOpTime: Timestamp({ t: 1662641697, i: 1 }),\n    '$clusterTime': {\n        clusterTime: Timestamp({ t: 1662641697, i: 1 }),\n        signature: {\n            hash: Binary(Buffer.from(\"0000000000000000000000000000000000000000\", \"hex\"), 0),\n            keyId: 0\n        }\n    },\n    operationTime: Timestamp({ t: 1662641697, i: 1 })\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAnd now, let’s run the same query (in the second shell):\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMBox: server-driven UI for mobile apps\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMobile Guru\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-08-03\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHow to facilitate EventStorming workshops\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Stormer\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-07-19\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/07/event-storming-workshops.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6311eebd6effda71326b35d1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eGC, hands off my data!\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAllegro Blogperson\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-06-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/06/gc-hands-off-my-data.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eObjectId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e6319e60accc51dfa32ca495a\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eTransactions in MongoDB\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ePiotr Kisielewicz\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eISODate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2022-09-30\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://blog.allegro.tech/2022/09/transactions-in-mongodb.html\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eSuccess! The data is now present after the commit, and we could see it being absent before committing the change.\u003c/p\u003e\n\n\u003ch3 id=\"it-was-all-in-cli-is-there-support-for-transactions-in-code\"\u003eIt was all in CLI, is there support for transactions in code?\u003c/h3\u003e\n\n\u003cp\u003eYeah, the drivers are already there! For example, if you are using Spring, the only thing you need to do to get MongoDB transaction support is to annotate your methods with \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@Transactional\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eIf you’re using specific driver libraries, e.g. mongo-java-driver, then here’s a code snippet for you:\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003eclient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eMongoClient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euri\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003edb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetDatabase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"blog\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003eblogCollection\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetCollection\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"blogPost\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogPost\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ejava\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003esession\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estartSession\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estartTransaction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eTransactionOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003ewriteConcern\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eWriteConcern\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nc\"\u003eMAJORITY\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003ebuild\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eblogCollection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einsertOne\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogPost\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecommitTransaction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nc\"\u003eMongoCommandException\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eabortTransaction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efinally\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eclose\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3 id=\"do-we-use-mongodb-transactions-at-allegro\"\u003eDo we use MongoDB transactions at Allegro?\u003c/h3\u003e\n\n\u003cp\u003eNot yet. We are evaluating transactions internally and are checking whether they would fit our use cases.\u003c/p\u003e\n\n\u003ch3 id=\"further-reading\"\u003eFurther reading\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.mongodb.com/basics/acid-transactions\"\u003eACID transactions in MongoDB\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.mongodb.com/docs/manual/core/transactions/\"\u003eMongoDB transactions\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.mongodb.com/docs/manual/reference/read-concern/\"\u003eRead concern\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.mongodb.com/docs/manual/reference/write-concern/\"\u003eWrite concern\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://spring.io/projects/spring-data-mongodb\"\u003espring-data-mongodb\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://mongodb.github.io/mongo-java-driver/3.12/javadoc/com/mongodb/client/package-summary.html\"\u003emongo-java-driver\u003c/a\u003e\u003c/p\u003e\n\n","contentSnippet":"Since version 4.0, transactions have been introduced to the world of Mongo databases. However, the way they work differs greatly from the tried and true world of SQL.\nIn databases like PostgreSQL or MySQL there are transactions based on tables and relations with isolation levels such as READ_UNCOMMITED, READ_COMMITED, REPEATABLE_READ and SERIALIZABLE. These help us to recognize if the record we’re working on is dirty, both when we want to access it or when someone else wants to do it after we’ve made some changes. In the world of documents, shards and replicas, the changes made to a single document are already atomic by design.\nWhy do we need transactions then? I only talked about single documents, but after all, documents can be modified in bulk, and these operations are no longer atomic.\nThat’s why transactions were introduced into MongoDB. In this blog post, we will check how they work and what their use cases are.\nWhat is a transaction?\nA database transaction is a unit of work, designed to handle the changes of data in the database. It makes sure that the output of the data is consistent and doesn’t generate errors. It helps with concurrent changes to the database, and makes the database more scalable.\nBy definition, database transactions are atomic, consistent, isolated and durable. Sounds familiar? Exactly, it’s ACID.\nDoes MongoDB implement ACID?\nBefore implementing transactions? Not really. Of course, there are some properties of ACID that are present (as stated earlier), but before version 4.0 they were impossible to achieve in a distributed ecosystem.\nHere’s an excerpt from the MongoDB website: we estimate that 80%-90% of applications that leverage the document model will not need to utilize transactions in MongoDB.\nAlas, when you need to make changes to multiple documents, or worse, if they are split across multiple shards, then there is no guarantee that the changes will adhere to ACID properties. That’s why the need for ACID transactions arose.\nFortunately, since version 4.0 transactions were added to MongoDB, first for multi-document changes, and then, in 4.2, for distributed data.\nSpecifics of MongoDB transactions\nHaving in mind the differences between MongoDB and SQL DB engines, we need to first take a look at how transactions in Mongo are specified. Since the problems that arise from having multiple documents, replica sets and shards differ from the issues of concurrent access to a table row, resolutions to these problems are also different in nature.\nThe transaction in MongoDB is denoted by two properties: ReadConcern and WriteConcern.\nA ReadConcern property is used to control the consistency and isolation of the data we read from the database.\nSimilarly, the WriteConcern property is us defining when we consider the data we write to be consistent in the database.\n(Side note: when we are talking about majority we are talking about calculated majority. You can read more about it in Calculating majority count)\nWe distinguish between three levels of ReadConcern for transactions (others are unavailable to use in this case):\nlocal, which reads the latest data from a node that has been queried. There are no guarantees that the data read is the most recent across the system,\nmajority, which reads the data at the point of majority-commit. Said point is calculated by the primary node. This ReadConcern doesn’t guarantee consistency unless WriteConcern of at least majority is also stated,\nsnapshot, which reads from a snapshot of majority-commited data. This ReadConcern level is mainly only available in transactions (so we can’t use it in single-document reads save for some outliers) and provides its benefits mainly with sharded transactions as it guarantees that the data is synchronized across shards\nAs we can see, we can draw some parallels between MongoDB’s ReadConcern options and the SQL world, where local would be equal to READ UNCOMMITED, majority would be similar to REPEATABLE READ and snapshot has near likeness to SERIALIZABLE.\nWhat about WriteConcerns? There are three main descriptors:\n1, which basically means that we are only interested in primary node committing the changes. Unfortunately, using this WriteConcern means that you will have no guarantees for any of the ReadConcerns stated above,\nAny {number} greater than 1 states that we want to get the data committed by the primary and {number - 1} of secondary nodes. This WriteConcern depends on the number of nodes in the system, since it can denote more than the majority of the nodes and in this case would provide us with read guarantees,\nmajority, which means that majority of nodes acknowledge the changes in data. This WriteConcern provides us with read guarantees, and also gives us benefits of eventual consistency.\nEnough theory, I want to see it in action!\nFor this example I’m using MongoDB community edition 6.0 for macOS.\nI’ve created a MongoDB server consisting of one config database and one shard replica set with three members. You can find the steps in the official MongoDB documentation.\nTo start, we need some data that’s already present in the database, so that we can see the changes that are being made. First, let’s connect to one of our nodes in a replica set:\nmongosh --host localhost --port 27027\nThen, let’s insert the following data:\n\ndb.blog.insertMany([\n    {\n    \"title\": \"GC, hands off my data!\",\n    \"author\": \"Allegro Blogperson\",\n    \"date\": ISODate(\"2022-06-30\"),\n    \"url\": \"https://blog.allegro.tech/2022/06/gc-hands-off-my-data.html\"\n    },\n    {\n    \"title\": \"How to facilitate EventStorming workshops\",\n    \"author\": \"Blog Stormer\",\n    \"date\": ISODate(\"2022-07-19\"),\n    \"url\": \"https://blog.allegro.tech/2022/07/event-storming-workshops.html\"\n    },\n    {\n    \"title\": \"MBox: server-driven UI for mobile apps\",\n    \"author\": \"Mobile Guru\",\n    \"date\": ISODate(\"2022-08-03\"),\n    \"url\": \"https://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html\"\n    }\n])\n\n\nLet’s also connect to a different node in our replica set:\nmongosh --host localhost --port 27028\nWe can verify here that the data is present:\n\ndb.blog.find()\n\n\nThis should return all our data that we inserted earlier.\n\n[\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d3\"),\n    title: 'MBox: server-driven UI for mobile apps',\n    author: 'Mobile Guru',\n    date: ISODate(\"2022-08-03\"),\n    url: 'https://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d2\"),\n    title: 'How to facilitate EventStorming workshops',\n    author: 'Blog Stormer',\n    date: ISODate(\"2022-07-19\"),\n    url: 'https://blog.allegro.tech/2022/07/event-storming-workshops.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d1\"),\n    title: 'GC, hands off my data!',\n    author: 'Allegro Blogperson',\n    date: ISODate(\"2022-06-30\"),\n    url: 'https://blog.allegro.tech/2022/06/gc-hands-off-my-data.html'\n    }\n]\n\n\nTime to add some data in a transaction. To do that, we first need to establish a transaction using the following command (in the first shell):\nvar session = db.getMongo().startSession()\nAfter we start the session, it’s time to open the transaction:\nsession.startTransaction({\"readConcern\": {\"level\": \"snapshot\"}, \"writeConcern\": {\"w\": \"majority\"}})\nThen, to make sure that we are using our collection in the context of a session, we need to run this:\nvar blog = session.getDatabase('test').getCollection('blog');\nWe can now insert new data into our collection while transaction is active:\n\nblog.insertOne({\n        \"title\": \"Transactions in MongoDB\",\n        \"author\": \"Piotr Kisielewicz\",\n        \"date\": ISODate(\"2022-11-30\"),\n        \"url\": \"https://blog.allegro.tech/2022/11/transactions-in-mongodb.html\"\n    })\n\n\n\n{acknowledged: true, insertedId: ObjectId(\"6319e60accc51dfa32ca495a\")}\n\n\nBefore committing our transaction, let’s try to read the data from another replica (in the second shell which we opened previously):\n\ndb.blog.find()\n[\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d3\"),\n    title: 'MBox: server-driven UI for mobile apps',\n    author: 'Mobile Guru',\n    date: ISODate(\"2022-08-03\"),\n    url: 'https://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d2\"),\n    title: 'How to facilitate EventStorming workshops',\n    author: 'Blog Stormer',\n    date: ISODate(\"2022-07-19\"),\n    url: 'https://blog.allegro.tech/2022/07/event-storming-workshops.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d1\"),\n    title: 'GC, hands off my data!',\n    author: 'Allegro Blogperson',\n    date: ISODate(\"2022-06-30\"),\n    url: 'https://blog.allegro.tech/2022/06/gc-hands-off-my-data.html'\n    }\n]\n\n\nAs you can see, the new record is nowhere to be found. Let’s now commit the transaction (in the first shell):\n\nsession.commitTransaction();\n{\n    readOnly: false,\n    ok: 1,\n    lastCommittedOpTime: Timestamp({ t: 1662641697, i: 1 }),\n    '$clusterTime': {\n        clusterTime: Timestamp({ t: 1662641697, i: 1 }),\n        signature: {\n            hash: Binary(Buffer.from(\"0000000000000000000000000000000000000000\", \"hex\"), 0),\n            keyId: 0\n        }\n    },\n    operationTime: Timestamp({ t: 1662641697, i: 1 })\n}\n\n\nAnd now, let’s run the same query (in the second shell):\n\ndb.blog.find()\n[\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d3\"),\n    title: 'MBox: server-driven UI for mobile apps',\n    author: 'Mobile Guru',\n    date: ISODate(\"2022-08-03\"),\n    url: 'https://blog.allegro.tech/2022/08/mbox-server-driven-ui-for-mobile-apps.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d2\"),\n    title: 'How to facilitate EventStorming workshops',\n    author: 'Blog Stormer',\n    date: ISODate(\"2022-07-19\"),\n    url: 'https://blog.allegro.tech/2022/07/event-storming-workshops.html'\n    },\n    {\n    _id: ObjectId(\"6311eebd6effda71326b35d1\"),\n    title: 'GC, hands off my data!',\n    author: 'Allegro Blogperson',\n    date: ISODate(\"2022-06-30\"),\n    url: 'https://blog.allegro.tech/2022/06/gc-hands-off-my-data.html'\n    },\n    {\n    _id: ObjectId(\"6319e60accc51dfa32ca495a\"),\n    title: 'Transactions in MongoDB',\n    author: 'Piotr Kisielewicz',\n    date: ISODate(\"2022-09-30\"),\n    url: 'https://blog.allegro.tech/2022/09/transactions-in-mongodb.html'\n    }\n]\n\n\nSuccess! The data is now present after the commit, and we could see it being absent before committing the change.\nIt was all in CLI, is there support for transactions in code?\nYeah, the drivers are already there! For example, if you are using Spring, the only thing you need to do to get MongoDB transaction support is to annotate your methods with @Transactional.\nIf you’re using specific driver libraries, e.g. mongo-java-driver, then here’s a code snippet for you:\n\nval client = new MongoClient(uri)\nval db = client.getDatabase(\"blog\")\nval blogCollection = db.getCollection(\"blogPost\", BlogPost::class.java)\nval session = client.startSession()\ntry {\n    session.startTransaction(TransactionOptions.builder().writeConcern(WriteConcern.MAJORITY).build())\n    blogCollection.insertOne(session, BlogPost())\n    session.commitTransaction()\n} catch (e: MongoCommandException) {\n    session.abortTransaction()\n} finally {\n    session.close()\n}\n\n\nDo we use MongoDB transactions at Allegro?\nNot yet. We are evaluating transactions internally and are checking whether they would fit our use cases.\nFurther reading\nACID transactions in MongoDB\nMongoDB transactions\nRead concern\nWrite concern\nspring-data-mongodb\nmongo-java-driver","guid":"https://blog.allegro.tech/2022/12/transactions-in-mongodb.html","categories":["tech","techradar","NoSQL"],"isoDate":"2022-12-20T23:00:00.000Z","thumbnail":"images/post-headers/default.jpg"},{"title":"Vanilla JS is not dead! Microfrontends without web performance issues.","link":"https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html","pubDate":"Thu, 10 Nov 2022 00:00:00 +0100","authors":{"author":[{"name":["Krzysztof Mikuta"],"photo":["https://blog.allegro.tech/img/authors/krzysztof.mikuta.jpg"],"url":["https://blog.allegro.tech/authors/krzysztof.mikuta"]}]},"content":"\u003cp\u003eBuilding a complex web platform can be a real challenge, especially when parts of it are delivered by independent teams.\nPicking out the correct architecture is crucial, but maintaining it can be even more challenging.\nFrontend microservices, aka microfrontends, is an architecture that gives a lot of flexibility, but can cause\nperformance issues in the future, if not managed well. This article presents an approach to the microfrontends\narchitecture to keep the frontend technology stack efficient based on the complexity of user interface.\u003c/p\u003e\n\n\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eIt’s 2022. In the frontend world, we have at least four major frameworks and libraries that have been around for a while\nand provide great resources to build fast and responsive user interfaces. The idea of delivering frontend components in\nvanilla JS seems to be pointless. Why should I even think about getting rid of the great features provided by well known,\nprecisely documented and strongly supported mature libraries? Well, as always, it pretty much depends on the\narchitecture. You have a single big frontend application running in React? Great! You have a couple applications with\na bunch of shared components inside an Angular monorepo? Good for you! But what if you have a big platform with huge\ntraffic, where frontend features are being delivered as independent fragments by independent teams across\nthe whole company? Well, let’s talk about the last option and go through some reasonable use cases for vanilla JS/TS as\nAllegro platform is built upon frontend microservices.\u003c/p\u003e\n\n\u003ch2 id=\"dealing-with-the-frontend-microservices-architecture\"\u003eDealing with the frontend microservices architecture\u003c/h2\u003e\n\u003cp\u003eThe idea of splitting up the frontend of a big e-commerce platform into smaller pieces has been described in\nthe article \u003ca href=\"/2016/03/Managing-Frontend-in-the-microservices-architecture.html\"\u003eManaging Frontend in the Microservices Architecture\u003c/a\u003e.\nIt’s been 6 years since the article appeared and even more since the architecture was implemented at Allegro.\nNowadays, we manage over 1000 microservices and 600+ Opbox components that power the Allegro platform.\nWe can say that it works pretty well for us. As software engineers, we don’t need to worry about things like routing,\nSSR or monitoring, because they’re already served by Opbox. Also, we have overcome the problems the architecture causes\nand implemented efficient solutions. One problem has been described in the article\n\u003ca href=\"/2021/07/css-architecture-and-performance-of-micro-frontends.html\"\u003eCSS Architecture and Performance in Micro Frontends\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eTo clear things up a little bit, imagine building a page made of tens of components, delivered by independent teams.\nEvery component, even the simplest one was implemented using one of the popular libraries. Seems harmless, but it can\ntruly hurt web performance. Rendering plain HTML on the server is much faster than evaluation of library mechanisms to\nproduce static markup. Moreover, client bundles need to be fetched in a browser, but they are pretty heavy as they\ninclude not only the custom code, but the libraries’ code as well… It’s going to take even more time when the internet\nconnection is weak (try setting up throttling in the dev tools). Well, undeniably working with distributed components\nrequires a lot of discipline. Also, monitoring and measuring is pretty important to figure out if the components\nthe team takes care of perform well. If you want to learn more, take a look at the article\n\u003ca href=\"/2021/06/measuring-web-performance.html\"\u003eMeasuring Web Performance\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eHow much discipline do you need to keep the system fast and efficient? Enough to have a reasonable approach to\npick out the correct technology to solve the problem. You know you’re asking for trouble, when you decide to use\na complex rendering library for rendering static labels that don’t behave in a reactive way. What could you do instead?\nJust map data to plain HTML! This is the case for vanilla JS. In the next paragraph, I’ll present and discuss\nthe approach we use on our team.\u003c/p\u003e\n\n\u003ch2 id=\"pick-the-right-technology\"\u003ePick the right technology\u003c/h2\u003e\n\u003cp\u003eFor organizational purposes, we decided to define three types of complexity of UI components and assigned\nthree technology stacks that are suitable to solve different kinds of problems. Let’s dive into the details.\u003c/p\u003e\n\n\u003ch3 id=\"simple-ui-component\"\u003eSimple UI Component\u003c/h3\u003e\n\u003cp\u003eThis one doesn’t do anything spectacular. In most cases, it’s entirely rendered on the server and has no\nclient side scripting, or it may have some simple event handling. You can easily navigate through the platform using\njust an HTML anchor, can’t you? Also, CSS is so powerful nowadays that javascript is not always necessary to implement\ndynamic behaviors in browsers. The approach for such a component is simple: take the response of the backend service,\nwrite some HTML and CSS representing this data and send it to the client.\u003c/p\u003e\n\n\u003ch3 id=\"ui-component-that-is-reactive\"\u003eUI Component that is reactive\u003c/h3\u003e\n\u003cp\u003eIn this case, the component is rendered server-side, but the client side scripts run in a browser\nto provide reactivity. Partial changes of the state require updating the existing parts of the DOM. The challenge here\nis to implement a fine-grained reactivity mechanism, organize the code in a functional manner and separate\nside effects. The first thing can be easily handled using reactive streams like \u003ca href=\"https://github.com/staltz/xstream\"\u003exstream\u003c/a\u003e,\nwhich is lighter than the well known rxjs, but still powerful. To keep code organized in a functional manner we borrowed\nthe \u003ca href=\"https://cycle.js.org/model-view-intent.html\"\u003eModel-View-Intent pattern from cycle.js\u003c/a\u003e and adjusted it to our case,\nwhere the HTML is provided by the server and “hydrated” on the client side. The idea is simple: we mount event handlers\nin Intent, map it to state in Model and react to changes in View. At the end of the system there are side effects\nthat run as a result of reactive subscriptions inside View. It’s still vanilla JS/TS on the server side and\nvanilla JS/TS with a touch of reactivity on the client side.\u003c/p\u003e\n\n\u003ch3 id=\"complex-ui-component\"\u003eComplex UI component\u003c/h3\u003e\n\u003cp\u003eThis one can be rendered on the server side, but then always hydrates on the client side. It can also be entirely\nrendered on the client side, forming a single-page application. It’s strongly reactive, changes its state constantly\nand re-renders. Also, state changes affect many parts of the DOM. You surely know it is a great use case for libraries\nlike React, where state changes trigger a reconciliation algorithm, which figures out what has changed and operates on\nan effective layer called Virtual DOM. I don’t think this approach requires any more explanation, as it’s the most\npopular approach in the frontend world nowadays. We just write one piece of code, run renderToString() on the server\nand hydrate() on the client, that’s it.\u003c/p\u003e\n\n\u003ch2 id=\"conclusions\"\u003eConclusions\u003c/h2\u003e\n\u003cp\u003eThe presented approach may sound artificially complicated, but it does do its job. Using a sledgehammer to crack a nut\ncauses web performance issues that can go even further in a distributed environment. Spending a little bit more time on\nplanning features to pick an effective technology definitely pays off! Here are some conclusions based on our experience\nwe would like to share:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eDon’t reinvent the wheel! Look for small, stable, well-supported packages in the npm registry.\nUse \u003ca href=\"https://bundlephobia.com/\"\u003ebundlephobia.com\u003c/a\u003e to analyze them and look for alternatives if needed.\u003c/li\u003e\n  \u003cli\u003eIf code complexity grows, use a library/framework. Don’t write your own! I know it’s tempting and trendy,\nbut you will end up maintaining this code instead of focusing on business features.\u003c/li\u003e\n  \u003cli\u003eMonitor bundle sizes to ensure your code transpiles efficiently. You will figure out which expressions add more code\nto the bundle. You can set up extra tests for checking bundle sizes during your build pipeline to ensure you’re not\nrunning out of limits.\u003c/li\u003e\n  \u003cli\u003eSeparate side effects like DOM manipulations from business logic. It will make the code more predictable\nand easily testable. There are a bunch of patterns and state management libraries that can help you.\u003c/li\u003e\n  \u003cli\u003eRespond fast by rendering on the server side, and hydrate wisely on the client side. If the component you create\nis not reactive, make it a server component that does not need to hydrate on the client. It’s a great way to optimize\nwebsite interactivity.\u003c/li\u003e\n\u003c/ul\u003e\n","contentSnippet":"Building a complex web platform can be a real challenge, especially when parts of it are delivered by independent teams.\nPicking out the correct architecture is crucial, but maintaining it can be even more challenging.\nFrontend microservices, aka microfrontends, is an architecture that gives a lot of flexibility, but can cause\nperformance issues in the future, if not managed well. This article presents an approach to the microfrontends\narchitecture to keep the frontend technology stack efficient based on the complexity of user interface.\nIntroduction\nIt’s 2022. In the frontend world, we have at least four major frameworks and libraries that have been around for a while\nand provide great resources to build fast and responsive user interfaces. The idea of delivering frontend components in\nvanilla JS seems to be pointless. Why should I even think about getting rid of the great features provided by well known,\nprecisely documented and strongly supported mature libraries? Well, as always, it pretty much depends on the\narchitecture. You have a single big frontend application running in React? Great! You have a couple applications with\na bunch of shared components inside an Angular monorepo? Good for you! But what if you have a big platform with huge\ntraffic, where frontend features are being delivered as independent fragments by independent teams across\nthe whole company? Well, let’s talk about the last option and go through some reasonable use cases for vanilla JS/TS as\nAllegro platform is built upon frontend microservices.\nDealing with the frontend microservices architecture\nThe idea of splitting up the frontend of a big e-commerce platform into smaller pieces has been described in\nthe article Managing Frontend in the Microservices Architecture.\nIt’s been 6 years since the article appeared and even more since the architecture was implemented at Allegro.\nNowadays, we manage over 1000 microservices and 600+ Opbox components that power the Allegro platform.\nWe can say that it works pretty well for us. As software engineers, we don’t need to worry about things like routing,\nSSR or monitoring, because they’re already served by Opbox. Also, we have overcome the problems the architecture causes\nand implemented efficient solutions. One problem has been described in the article\nCSS Architecture and Performance in Micro Frontends.\nTo clear things up a little bit, imagine building a page made of tens of components, delivered by independent teams.\nEvery component, even the simplest one was implemented using one of the popular libraries. Seems harmless, but it can\ntruly hurt web performance. Rendering plain HTML on the server is much faster than evaluation of library mechanisms to\nproduce static markup. Moreover, client bundles need to be fetched in a browser, but they are pretty heavy as they\ninclude not only the custom code, but the libraries’ code as well… It’s going to take even more time when the internet\nconnection is weak (try setting up throttling in the dev tools). Well, undeniably working with distributed components\nrequires a lot of discipline. Also, monitoring and measuring is pretty important to figure out if the components\nthe team takes care of perform well. If you want to learn more, take a look at the article\nMeasuring Web Performance.\nHow much discipline do you need to keep the system fast and efficient? Enough to have a reasonable approach to\npick out the correct technology to solve the problem. You know you’re asking for trouble, when you decide to use\na complex rendering library for rendering static labels that don’t behave in a reactive way. What could you do instead?\nJust map data to plain HTML! This is the case for vanilla JS. In the next paragraph, I’ll present and discuss\nthe approach we use on our team.\nPick the right technology\nFor organizational purposes, we decided to define three types of complexity of UI components and assigned\nthree technology stacks that are suitable to solve different kinds of problems. Let’s dive into the details.\nSimple UI Component\nThis one doesn’t do anything spectacular. In most cases, it’s entirely rendered on the server and has no\nclient side scripting, or it may have some simple event handling. You can easily navigate through the platform using\njust an HTML anchor, can’t you? Also, CSS is so powerful nowadays that javascript is not always necessary to implement\ndynamic behaviors in browsers. The approach for such a component is simple: take the response of the backend service,\nwrite some HTML and CSS representing this data and send it to the client.\nUI Component that is reactive\nIn this case, the component is rendered server-side, but the client side scripts run in a browser\nto provide reactivity. Partial changes of the state require updating the existing parts of the DOM. The challenge here\nis to implement a fine-grained reactivity mechanism, organize the code in a functional manner and separate\nside effects. The first thing can be easily handled using reactive streams like xstream,\nwhich is lighter than the well known rxjs, but still powerful. To keep code organized in a functional manner we borrowed\nthe Model-View-Intent pattern from cycle.js and adjusted it to our case,\nwhere the HTML is provided by the server and “hydrated” on the client side. The idea is simple: we mount event handlers\nin Intent, map it to state in Model and react to changes in View. At the end of the system there are side effects\nthat run as a result of reactive subscriptions inside View. It’s still vanilla JS/TS on the server side and\nvanilla JS/TS with a touch of reactivity on the client side.\nComplex UI component\nThis one can be rendered on the server side, but then always hydrates on the client side. It can also be entirely\nrendered on the client side, forming a single-page application. It’s strongly reactive, changes its state constantly\nand re-renders. Also, state changes affect many parts of the DOM. You surely know it is a great use case for libraries\nlike React, where state changes trigger a reconciliation algorithm, which figures out what has changed and operates on\nan effective layer called Virtual DOM. I don’t think this approach requires any more explanation, as it’s the most\npopular approach in the frontend world nowadays. We just write one piece of code, run renderToString() on the server\nand hydrate() on the client, that’s it.\nConclusions\nThe presented approach may sound artificially complicated, but it does do its job. Using a sledgehammer to crack a nut\ncauses web performance issues that can go even further in a distributed environment. Spending a little bit more time on\nplanning features to pick an effective technology definitely pays off! Here are some conclusions based on our experience\nwe would like to share:\nDon’t reinvent the wheel! Look for small, stable, well-supported packages in the npm registry.\nUse bundlephobia.com to analyze them and look for alternatives if needed.\nIf code complexity grows, use a library/framework. Don’t write your own! I know it’s tempting and trendy,\nbut you will end up maintaining this code instead of focusing on business features.\nMonitor bundle sizes to ensure your code transpiles efficiently. You will figure out which expressions add more code\nto the bundle. You can set up extra tests for checking bundle sizes during your build pipeline to ensure you’re not\nrunning out of limits.\nSeparate side effects like DOM manipulations from business logic. It will make the code more predictable\nand easily testable. There are a bunch of patterns and state management libraries that can help you.\nRespond fast by rendering on the server side, and hydrate wisely on the client side. If the component you create\nis not reactive, make it a server component that does not need to hydrate on the client. It’s a great way to optimize\nwebsite interactivity.","guid":"https://blog.allegro.tech/2022/11/vanilla-js-is-not-dead.html","categories":["tech","frontend","microservices","webperf","javascript"],"isoDate":"2022-11-09T23:00:00.000Z","thumbnail":"images/post-headers/javascript.png"},{"title":"Probabilistic Data Structures and Algorithms in NoSQL databases","link":"https://blog.allegro.tech/2022/10/probabilistic-algorithms.html","pubDate":"Tue, 04 Oct 2022 00:00:00 +0200","authors":{"author":[{"name":["Michał Knasiecki"],"photo":["https://blog.allegro.tech/img/authors/michal.knasiecki.jpg"],"url":["https://blog.allegro.tech/authors/michal.knasiecki"]}]},"content":"\u003cp\u003eOne of the \u003ca href=\"https://en.wikipedia.org/wiki/ACID\"\u003efour fundamental\u003c/a\u003e features of transactional databases is durability. It says that once a\ntransaction is committed, the stored data remains available even if the database crashes. If we upload some information\ninto the database, we must be able to read it later, no matter what happens.\u003c/p\u003e\n\n\u003cp\u003eIt is so elementary that we frequently don’t even think about it: if we save a record with the ’42’\nvalue in a database, we will get ’42’ every time we read that\nrecord, until the next modification. The durability concept can be generalized somewhat, by considering not only transactional\ndatabases but those that do not provide transactions. After all, in each of them, after a\ncorrect write we can be sure that the stored information is in the database and we have access\nto it.\u003c/p\u003e\n\n\u003cp\u003eBut it turns out that there are databases that provide us with solutions making that the concept of durability —\neven in this generalized form — no longer so obvious. What would you say if we stored\n1 000 records in a database, and the database claimed that there were only 998 of them? Or, if we\ncreated a database storing sets of values and in some cases the database would claim that an\nelement was in that set, while in fact it was not? Seeing such a behavior many would probably start\nlooking for an error. However, behavior like this is not necessarily an error, as long as we use a database\nthat implements probabilistic algorithms and data structures. Solutions based on these methods allow some\ninaccuracy in the results, but in return they are able to provide us with great savings in the resources\nused. More interesting is that there is a good chance that you are already using such a DB.\u003c/p\u003e\n\n\u003cp\u003eIn this post we will learn about two probability-based techniques, perform some experiments and\nconsider when it is worth using a database that lies to us a bit.\u003c/p\u003e\n\n\u003ch2 id=\"fast-cardinality-aggregation\"\u003eFast cardinality aggregation\u003c/h2\u003e\n\n\u003cp\u003eSome time ago I had the opportunity to work on a service based on Elasticsearch. This service collects\nhuge amounts of data, which is later analyzed by our customer care specialists. One of the key elements to be analyzed\nis a simple aggregate — the number of unique occurrences of certain values. In mathematics, this\nquantity is called the power of the set or the cardinal number.\u003c/p\u003e\n\n\u003cp\u003eThe easiest way to understand this is to use an example: imagine that I take out all the banknotes\nfrom my wallet and it turns out that I have 10 of them, with the following nominal values:\u003c/p\u003e\n\n\u003cdiv class=\"language-javascript highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIf we arranged them by value, we would end up collecting these 10\nbanknotes in four piles with values: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e[10, 20, 50, 100]\u003c/code\u003e, so the cardinal number of the set containing my 10\nbanknotes equals: 4.\u003c/p\u003e\n\n\u003cp\u003eElasticsearch has a special function: \u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-cardinality-aggregation.html\"\u003ecardinality\u003c/a\u003e, which is used to determine the power of the set and we use\nthis function specifically to count unique occurrences that I mentioned earlier.\u003c/p\u003e\n\n\u003cp\u003eIt may seem that counting unique occurrences of values is a trivial task.\nLet’s go back to our example with the banknotes. You can think of many ways to check how many\nunique values there are in this list, probably one of the simplest is to use the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e class. One of its main features is\nthat it de-duplicates the elements added to it, thus it stores only one occurrence of each.\u003c/p\u003e\n\n\u003cp\u003eAfter adding 10 values of banknotes: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e[10, 20, 50, 20, 50, 100, 50, 20, 10, 10]\u003c/code\u003e to an instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e\nclass, it will ultimately only store the values \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e[10, 20, 50, 100]\u003c/code\u003e (not necessarily in that order, but it\ndoesn’t matter it this case). So all we need to do is check the size of this set and we have the result we were\nlooking for: 4.\u003c/p\u003e\n\n\u003cp\u003eThis solution is simple and looks tempting, yet it has a certain drawback: the more unique elements the set stores,\nthe more memory our program needs. In an extreme case, when each added element is different from\nthe others, the memory complexity of this approach will be linear. This is bad news when we\nwant to operate on a large volume of data, because we will immediately use all available memory.\nIf, additionally, requests for the cardinal number come from\nclients with high intensity, and the input set contains billions of elements, it is easy to imagine that the\napproach described above has no chance of success.\u003c/p\u003e\n\n\u003cp\u003eHow to address this issue? In such a situation we can switch to one of ingenious probabilistic algorithms. Their\nmain feature is that they give approximate rather than exact results. The huge advantage, on the\nother hand, is that they are much less resource-intensive.\u003c/p\u003e\n\n\u003ch2 id=\"near-optimal-cardinality-estimator\"\u003eNear-optimal cardinality estimator\u003c/h2\u003e\n\n\u003cp\u003eOne such algorithm — HyperLogLog (HLL) — has been implemented in the aforementioned\nElasticsearch to build the cardinality function. It is used to count the unique values of a given field of\nan indexed document, and it does so with a certain approximation, using very little memory.\nInterestingly, you can control the accuracy of this approximation with a special parameter. This is\nbecause in addition to the field to be counted, the cardinality function also accepts a\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eprecision_threshold\u003c/code\u003e argument, due to which we can specify how much inaccuracy we agree to, in\nexchange for less or more memory usage.\u003c/p\u003e\n\n\u003cp\u003eObviously, in some cases even a small error is unacceptable. We must then abandon the probabilistic\napproach and look for another solution. However, for a sizable class of problems, certain\napproximation is completely sufficient. Imagine a video clip uploaded to a popular streaming service.\nIf the author of the clip has a bit of luck, the counter of unique views of his/her work starts spinning\nvery quickly. In case of very high popularity, when displaying the current number of visits, full\naccuracy will not matter so much; we can reconcile with displaying a value that differs from the\nactual one by a few percent. It is completely sufficient that the accurate data — e.g. for monetization\npurposes — is available the next day, when we calculate it accurately using, for example, Apache Spark.\u003c/p\u003e\n\n\u003cp\u003eImplementing such a counter of unique visitors into a site operating on huge data sets, we could\ntherefore consider using the HLL algorithm.\u003c/p\u003e\n\n\u003cp\u003eReaders interested in a detailed description of the HLL algorithm are referred to a great article on\n\u003ca href=\"http://blog.notdot.net/2012/09/Dam-Cool-Algorithms-Cardinality-Estimation\"\u003eDamn Cool Algorithms post\u003c/a\u003e.\nHowever, its most important features are worth noting here:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003ethe results, although approximate, are deterministic,\u003c/li\u003e\n  \u003cli\u003ethe maximum possible error is known,\u003c/li\u003e\n  \u003cli\u003eamount of memory used is fixed.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe last two features are closely related and can be controlled: we can decrease the error level by increasing\nthe available memory limit and vice versa.\nThere are many ready-made implementations of the HLL algorithm available, so it’s worth reaching\nfor one of them and doing some experiments. I will use \u003ca href=\"https://datasketches.apache.org/docs/HLL/HLL.html\"\u003edatasketches\u003c/a\u003e\nand compare the memory consumption with the classic approach using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e. Moreover, I will add a third variant based\non a \u003ccode class=\"language-plaintext highlighter-rouge\"\u003edistinct\u003c/code\u003e method from the Kotlin language, which — like the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e constructor — de-duplicates\nelements from the list.\u003c/p\u003e\n\n\u003cp\u003eBelow there is a code snippet of a simple program that determines the cardinal number of a set of numbers using \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e\nclass from Java language. In order to be able to run some trials, I’ve introduced a couple of basic parameters. The\ninput list consists of \u003ccode class=\"language-plaintext highlighter-rouge\"\u003en\u003c/code\u003e numbers, while using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ef\u003c/code\u003e parameter and the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003emodulo\u003c/code\u003e function I decide what\npart of the input list is unique. For example, for n=1 000 000 and f=0.1, the result will be a cardinal\nnumber equal to 100 000.\u003c/p\u003e\n\n\u003cp\u003ePlease note the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e constructor parameter. By default, when the constructor is empty - this class is\n\u003ca href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html#%3Cinit%3E()\"\u003einitialized with the value 16\u003c/a\u003e,\nwhich means that before adding the 17th element, memory reallocation must occur for next portion of elements, which takes time.\nTo eliminate this extra time I allocate in advance as much memory as needed.\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003emod\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoLong\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003eHashSet\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eLong\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003emod\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoInt\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003eelapsed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003emeasureTimeMillis\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"n\"\u003euntil\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"n\"\u003emod\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ecardinality\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eTwo other programs do exactly the same thing: determine the cardinal number of a set of numbers, but one uses Kotlin\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003edistinct\u003c/code\u003e method and the second one uses HLL algorithm. You can find full code of all three applications\non this \u003ca href=\"https://github.com/mknasiecki/prob-alg-post\"\u003erepository\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eAll three programs, in addition to the result, also measure total execution time. Moreover, using\n\u003ca href=\"https://openjdk.java.net/tools/svc/jconsole/\"\u003ejConsole\u003c/a\u003e I am also able to measure the amount of memory used. I decided\nto measure the total memory used by the\nprograms, because measuring the size of the data structures is not a trivial task.\u003c/p\u003e\n\n\u003cp\u003eWe start by checking the variant n=1 000 000/f=0.25 as a result of which we should get a power of set\nequal 250 000. Let’s take a look at the results:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=1 000 000/f=0.25\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003edistinct\u003c/th\u003e\n      \u003cth\u003eHLL\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ecardinality\u003c/td\u003e\n      \u003ctd\u003e250 000\u003c/td\u003e\n      \u003ctd\u003e250 000\u003c/td\u003e\n      \u003ctd\u003e249 979.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror [%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003etime [ms]\u003c/td\u003e\n      \u003ctd\u003e71\u003c/td\u003e\n      \u003ctd\u003e106\u003c/td\u003e\n      \u003ctd\u003e53\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e42\u003c/td\u003e\n      \u003ctd\u003e73\u003c/td\u003e\n      \u003ctd\u003e21\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eIn case of such a small set the deviation of the result of the HLL variant from the true value is far less than\n1%, while in this case you can already see the benefits of this method; the amount of memory used is\nhalf compared to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e version and as much as 3 times less when compared to the\nversion using the Kotlin language function.\u003c/p\u003e\n\n\u003cp\u003eIt is worth pausing here for a moment to consider what is the reason for such a big difference in consumed memory.\nThe first two programs are based on collections of objects, thus storing in memory entire instances along with their references.\nThe HLL method, on the other hand, uses memory-efficient bit arrays that store data based on object hashes. This makes\nit insensitive to the original size of the processed data. It means that the benefits of using HLL increase with the\nmemory needed to store the objects you want to count. The results presented above would be even more spectacular if we\nused, for example, email addresses or IP addresses instead of numbers.\u003c/p\u003e\n\n\u003cp\u003eDuring the next attempt we increase the value of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003en\u003c/code\u003e parameter tenfold:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=10 000 000/f=0.25\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003edistinct\u003c/th\u003e\n      \u003cth\u003eHLL\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ecardinality\u003c/td\u003e\n      \u003ctd\u003e2 500 000\u003c/td\u003e\n      \u003ctd\u003e2 500 000\u003c/td\u003e\n      \u003ctd\u003e2 484 301.4\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror [%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.63\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003etime [ms]\u003c/td\u003e\n      \u003ctd\u003e483\u003c/td\u003e\n      \u003ctd\u003e863\u003c/td\u003e\n      \u003ctd\u003e189\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e233\u003c/td\u003e\n      \u003ctd\u003e574\u003c/td\u003e\n      \u003ctd\u003e21\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eThe error value has increased slightly, while the difference in memory usage and the performance\ntime is even greater than before. Therefore, it is worthwhile to increase the size of the set again:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=100 000 000/f=0.25\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003edistinct\u003c/th\u003e\n      \u003cth\u003eHLL\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ecardinality\u003c/td\u003e\n      \u003ctd\u003e25 000 000\u003c/td\u003e\n      \u003ctd\u003e25 000 000\u003c/td\u003e\n      \u003ctd\u003e25 301 157.2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror [%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e1.2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003etime [ms]\u003c/td\u003e\n      \u003ctd\u003e3857\u003c/td\u003e\n      \u003ctd\u003e7718\u003c/td\u003e\n      \u003ctd\u003e1538\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e1800\u003c/td\u003e\n      \u003ctd\u003e5300\u003c/td\u003e\n      \u003ctd\u003e21\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eDeviation from the correct result exceeded 1%; the times also went up, although they are still many\ntimes shorter compared to other variants. It’s worth noting that the amount of memory used has practically not changed.\u003c/p\u003e\n\n\u003cp\u003eNow let’s see what happens when we change the second parameter, which determines the number of\nunique elements in the input set:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=10 000 000/f=0.5\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003edistinct\u003c/th\u003e\n      \u003cth\u003eHLL\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ecardinality\u003c/td\u003e\n      \u003ctd\u003e5 000 000\u003c/td\u003e\n      \u003ctd\u003e5 000 000\u003c/td\u003e\n      \u003ctd\u003e5 067 045.2\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror [%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e1.34\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003etime [ms]\u003c/td\u003e\n      \u003ctd\u003e467\u003c/td\u003e\n      \u003ctd\u003e914\u003c/td\u003e\n      \u003ctd\u003e183\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e420\u003c/td\u003e\n      \u003ctd\u003e753\u003c/td\u003e\n      \u003ctd\u003e21\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\u003cem\u003en=10 000 000/f=0.75\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003edistinct\u003c/th\u003e\n      \u003cth\u003eHLL\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ecardinality\u003c/td\u003e\n      \u003ctd\u003e7 500 000\u003c/td\u003e\n      \u003ctd\u003e7 500 000\u003c/td\u003e\n      \u003ctd\u003e7 619 136.7\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror [%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e1.59\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003etime [ms]\u003c/td\u003e\n      \u003ctd\u003e589\u003c/td\u003e\n      \u003ctd\u003e1187\u003c/td\u003e\n      \u003ctd\u003e191\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e616\u003c/td\u003e\n      \u003ctd\u003e843\u003c/td\u003e\n      \u003ctd\u003e26\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eAgain, the results clearly show the advantages of the HLL algorithm. With a relatively low error we\nsignificantly reduced the amount of memory used and the time required for calculations.\nAs you can see and as expected, the classical approach gives accurate results but it consumes a lot of\nmemory, while the solution using HLL brings results characterized by approx. 1% error, but in return\nwe use much less memory. A certain surprise for me is the poor result of the Kotlin \u003ccode class=\"language-plaintext highlighter-rouge\"\u003edistinct\u003c/code\u003e function; I\nexpected results more similar to the variant based on the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e. Presumably the key difference is that it returns an instance\nof the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eList\u003c/code\u003e class rather than \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e. This requires further investigation, which is beyond the scope of my considerations.\u003c/p\u003e\n\n\u003cp\u003eThe HLL algorithm is implemented in several solutions, including the aforementioned Elasticsearch,\nas well as in e.g. \u003ca href=\"https://redis.com/redis-best-practices/counting/hyperloglog/\"\u003eRedis\u003c/a\u003e and \u003ca href=\"https://prestodb.io/docs/current/functions/hyperloglog.html\"\u003ePresto\u003c/a\u003e. The above experiments clearly show that the approximate method, in case\nwe need to process huge amounts of data, is a good idea provided that we allow a result with a small\nerror.\u003c/p\u003e\n\n\u003ch2 id=\"memory-efficient-presence-test\"\u003eMemory-efficient presence test\u003c/h2\u003e\n\n\u003cp\u003eIt turns out that the HLL is not the only probabilistic algorithm available in popular databases —\nanother example of this approach is the Bloom Filter. This is an implementation of a memory-saving structure that is\nused in the so-called presence test. Let’s go back to our example with my cash: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e[10, 20, 50, 20, 50, 100, 50, 20, 10, 10]\u003c/code\u003e.\nImagine that we want to test whether there is a 100 value banknote in my wallet. In this case the answer is positive, but the test\nfor the 200 value banknote should be false, since there is no such a banknote in the wallet.\u003c/p\u003e\n\n\u003cp\u003eOf course, we are able again to implement a solution to this problem by simply using the properties\nof the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e class and the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003econtains\u003c/code\u003e method. However, similarly as in case of determining the\ncardinality — the memory requirement increases with the size of the dataset.\nAgain, the solution for this problem may be an approximate method.\u003c/p\u003e\n\n\u003cp\u003eSimilarly as in case of the HLL algorithm the Bloom Filter allows for some inaccuracy, and in this case\nthis means false positive results. This is because it can happen that the Bloom Filter finds that an element\nbelongs to a given set, while in fact it is not there. However, the opposite situation is not possible\nso if the Bloom Filter states that an element is not part of the set, it is certainly true. Referring this to\nour example with the content of my wallet, the Bloom Filter could therefore assure me that there was a\n200 value banknote in it, while standing at the checkout in a store it would turn out that,\nunfortunately, it is not there. What a pity…\u003c/p\u003e\n\n\u003cp\u003eBefore we move on to examine how this algorithm works, let’s consider where it could be useful. A\ntypical example is a recommendation system. Imagine we are designing a system intended to suggest\narticles for users to read, a feature common on social media sites. Such a system needs to store a\nlist of articles read by each user so that it does not suggest them again. It is easy to imagine that\nstoring these articles with each user in the classic way would quickly exhaust memory resources. If we\ndon’t use any data removal mechanism, the database will grow indefinitely. The discussed Bloom\nFilter fits perfectly here as it will allow us to save a lot of memory, although, one must consider\nconsequences of its limitations related to possible false results. It may happen that we will get false\ninformation that a certain article has already been read by someone, while in fact this is not true.\nConsequently, we will not offer that user to read the material. On the other hand, the opposite\nsituation is not possible: we will never display to a user a recommendation of an article that he/she\nhas already read.\u003c/p\u003e\n\n\u003cp\u003eAt this point it is worth checking how much we gain by accepting the inconvenience described\nabove. I have prepared two implementations of a program that adds to a set of values and then\nchecks if they are there.\nThe first program uses the classic approach — the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eHashSet\u003c/code\u003e class, while the second uses the Bloom\nFilter available in the popular \u003ca href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/hash/BloomFilter.html\"\u003eguava\u003c/a\u003e library.\nAgain, using jConsole we register for both programs the amount of memory used, and additionally — for the version with\nthe Bloom Filter we also check the\nnumber of false positives. This value can be easily controlled, as the maximum allowed false positive\nrate can be set in the API; for needs of the following tests we will set it to 1%.\u003c/p\u003e\n\n\u003cp\u003eMoreover, we will measure the total time of adding values to the set and the total time of querying\nwhether there are values in the set.\u003c/p\u003e\n\n\u003cp\u003eSame as before we will perform a number of tests using the following parameters: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003en\u003c/code\u003e — the size of the set of\nnumbers, and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ef\u003c/code\u003e — what part of it should be added to the set. The configuration n=1 000 000 and f=0.1 means\nthat the first 100 000 numbers out of 1 000 000 will be added to the set. So, in the first part, the program will\nadd 100 000 numbers to the set and then — in the second stage — it will perform a presence test\nby checking whether the numbers above 100 000 belong to the set. There is no point in checking the\nnumbers added to the set beforehand, because we know that Bloom Filters do not give false\nnegative results. On the other hand, if any number above 100 000 is found according to the Bloom Filter in\nthe set, we will consider it a false positive.\u003c/p\u003e\n\n\u003cp\u003eFollowing code snippet presents fragment of the Bloom Filter variant:\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003einsertions\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoInt\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003efilter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003eBloomFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eFunnels\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eintegerFunnel\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003einsertions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"py\"\u003efalsePositives\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003einsertTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003emeasureTimeMillis\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"n\"\u003euntil\u003c/span\u003e \u003cspan class=\"n\"\u003einsertions\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efilter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003equeryTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003emeasureTimeMillis\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003einsertions\u003c/span\u003e \u003cspan class=\"n\"\u003euntil\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emightContain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003efalsePositives\u003c/span\u003e\u003cspan class=\"p\"\u003e++;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003efpRatio\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efalsePositives\u003c/span\u003e\u003cspan class=\"p\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoDouble\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAgain — you can find full code of both programs on aforementioned \u003ca href=\"https://github.com/mknasiecki/prob-alg-post\"\u003erepository\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eLet’s start with the following configuration: n=10 000 000/f=0.1:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=10 000 000/f=0.1\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003eBloom filter\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror[%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003einsert time [ms]\u003c/td\u003e\n      \u003ctd\u003e81\u003c/td\u003e\n      \u003ctd\u003e293\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003equery time [ms]\u003c/td\u003e\n      \u003ctd\u003e82\u003c/td\u003e\n      \u003ctd\u003e846\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e94\u003c/td\u003e\n      \u003ctd\u003e30\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eAs you can see, the Bloom Filter returned less than 1% false results, but — at the same time — it used three times\nless memory than HashSet variant. Unfortunately, the times of Bloom Filter’s version are significantly higher.\nLet’s check what happens when we increase the size of the input set:\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003en=100 000 000/f=0.1\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003eBloom filter\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror[%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003einsert time [ms]\u003c/td\u003e\n      \u003ctd\u003e593\u003c/td\u003e\n      \u003ctd\u003e318\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003equery time [ms]\u003c/td\u003e\n      \u003ctd\u003e988\u003c/td\u003e\n      \u003ctd\u003e944\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e876\u003c/td\u003e\n      \u003ctd\u003e29\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\u003cem\u003en=500 000 000/f=0.1\u003c/em\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth\u003eMetric\\Variant\u003c/th\u003e\n      \u003cth\u003eHashSet\u003c/th\u003e\n      \u003cth\u003eBloom filter\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003eerror[%]\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.9\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003einsert time [ms]\u003c/td\u003e\n      \u003ctd\u003e1975\u003c/td\u003e\n      \u003ctd\u003e1372\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003equery time [ms]\u003c/td\u003e\n      \u003ctd\u003e4115\u003c/td\u003e\n      \u003ctd\u003e4923\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003ememory [MB]\u003c/td\u003e\n      \u003ctd\u003e4400\u003c/td\u003e\n      \u003ctd\u003e81\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eThe number of false positives is still below the preset 1%, the amount of memory used is still lower\nthan the classic implementation, and interestingly also the times of the probabilistic variant are\nlower, at least for inserting. Thus, it can be seen that along with the increase in the size of the data the benefit of this\nmethod increases.\u003c/p\u003e\n\n\u003ch2 id=\"summary\"\u003eSummary\u003c/h2\u003e\n\n\u003cp\u003eThe above results clearly show that by accepting a small share of false answers, we can gain significant savings in memory usage.\nSimilarly to the HLL algorithm, the structure based on the Bloom Filters is available in many popular\ndatabases like \u003ca href=\"https://redis.com/redis-best-practices/bloom-filter-pattern/\"\u003eRedis\u003c/a\u003e,\n\u003ca href=\"https://hbase.apache.org/2.2/devapidocs/org/apache/hadoop/hbase/util/BloomFilter.html\"\u003eHBase\u003c/a\u003e\nor \u003ca href=\"https://cassandra.apache.org/doc/latest/cassandra/operating/bloom_filters.html\"\u003eCassandra\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eThe simple experiments we conducted showed that probabilistic algorithms can save a lot\nof memory, which is especially important if our database stores huge amounts of data. In such cases it\nis sometimes worth letting your database lie to you a little.\u003c/p\u003e\n","contentSnippet":"One of the four fundamental features of transactional databases is durability. It says that once a\ntransaction is committed, the stored data remains available even if the database crashes. If we upload some information\ninto the database, we must be able to read it later, no matter what happens.\nIt is so elementary that we frequently don’t even think about it: if we save a record with the ’42’\nvalue in a database, we will get ’42’ every time we read that\nrecord, until the next modification. The durability concept can be generalized somewhat, by considering not only transactional\ndatabases but those that do not provide transactions. After all, in each of them, after a\ncorrect write we can be sure that the stored information is in the database and we have access\nto it.\nBut it turns out that there are databases that provide us with solutions making that the concept of durability —\neven in this generalized form — no longer so obvious. What would you say if we stored\n1 000 records in a database, and the database claimed that there were only 998 of them? Or, if we\ncreated a database storing sets of values and in some cases the database would claim that an\nelement was in that set, while in fact it was not? Seeing such a behavior many would probably start\nlooking for an error. However, behavior like this is not necessarily an error, as long as we use a database\nthat implements probabilistic algorithms and data structures. Solutions based on these methods allow some\ninaccuracy in the results, but in return they are able to provide us with great savings in the resources\nused. More interesting is that there is a good chance that you are already using such a DB.\nIn this post we will learn about two probability-based techniques, perform some experiments and\nconsider when it is worth using a database that lies to us a bit.\nFast cardinality aggregation\nSome time ago I had the opportunity to work on a service based on Elasticsearch. This service collects\nhuge amounts of data, which is later analyzed by our customer care specialists. One of the key elements to be analyzed\nis a simple aggregate — the number of unique occurrences of certain values. In mathematics, this\nquantity is called the power of the set or the cardinal number.\nThe easiest way to understand this is to use an example: imagine that I take out all the banknotes\nfrom my wallet and it turns out that I have 10 of them, with the following nominal values:\n\n[10, 20, 50, 20, 50, 100, 50, 20, 10, 10]\n\n\nIf we arranged them by value, we would end up collecting these 10\nbanknotes in four piles with values: [10, 20, 50, 100], so the cardinal number of the set containing my 10\nbanknotes equals: 4.\nElasticsearch has a special function: cardinality, which is used to determine the power of the set and we use\nthis function specifically to count unique occurrences that I mentioned earlier.\nIt may seem that counting unique occurrences of values is a trivial task.\nLet’s go back to our example with the banknotes. You can think of many ways to check how many\nunique values there are in this list, probably one of the simplest is to use the HashSet class. One of its main features is\nthat it de-duplicates the elements added to it, thus it stores only one occurrence of each.\nAfter adding 10 values of banknotes: [10, 20, 50, 20, 50, 100, 50, 20, 10, 10] to an instance of the HashSet\nclass, it will ultimately only store the values [10, 20, 50, 100] (not necessarily in that order, but it\ndoesn’t matter it this case). So all we need to do is check the size of this set and we have the result we were\nlooking for: 4.\nThis solution is simple and looks tempting, yet it has a certain drawback: the more unique elements the set stores,\nthe more memory our program needs. In an extreme case, when each added element is different from\nthe others, the memory complexity of this approach will be linear. This is bad news when we\nwant to operate on a large volume of data, because we will immediately use all available memory.\nIf, additionally, requests for the cardinal number come from\nclients with high intensity, and the input set contains billions of elements, it is easy to imagine that the\napproach described above has no chance of success.\nHow to address this issue? In such a situation we can switch to one of ingenious probabilistic algorithms. Their\nmain feature is that they give approximate rather than exact results. The huge advantage, on the\nother hand, is that they are much less resource-intensive.\nNear-optimal cardinality estimator\nOne such algorithm — HyperLogLog (HLL) — has been implemented in the aforementioned\nElasticsearch to build the cardinality function. It is used to count the unique values of a given field of\nan indexed document, and it does so with a certain approximation, using very little memory.\nInterestingly, you can control the accuracy of this approximation with a special parameter. This is\nbecause in addition to the field to be counted, the cardinality function also accepts a\nprecision_threshold argument, due to which we can specify how much inaccuracy we agree to, in\nexchange for less or more memory usage.\nObviously, in some cases even a small error is unacceptable. We must then abandon the probabilistic\napproach and look for another solution. However, for a sizable class of problems, certain\napproximation is completely sufficient. Imagine a video clip uploaded to a popular streaming service.\nIf the author of the clip has a bit of luck, the counter of unique views of his/her work starts spinning\nvery quickly. In case of very high popularity, when displaying the current number of visits, full\naccuracy will not matter so much; we can reconcile with displaying a value that differs from the\nactual one by a few percent. It is completely sufficient that the accurate data — e.g. for monetization\npurposes — is available the next day, when we calculate it accurately using, for example, Apache Spark.\nImplementing such a counter of unique visitors into a site operating on huge data sets, we could\ntherefore consider using the HLL algorithm.\nReaders interested in a detailed description of the HLL algorithm are referred to a great article on\nDamn Cool Algorithms post.\nHowever, its most important features are worth noting here:\nthe results, although approximate, are deterministic,\nthe maximum possible error is known,\namount of memory used is fixed.\nThe last two features are closely related and can be controlled: we can decrease the error level by increasing\nthe available memory limit and vice versa.\nThere are many ready-made implementations of the HLL algorithm available, so it’s worth reaching\nfor one of them and doing some experiments. I will use datasketches\nand compare the memory consumption with the classic approach using the HashSet. Moreover, I will add a third variant based\non a distinct method from the Kotlin language, which — like the HashSet constructor — de-duplicates\nelements from the list.\nBelow there is a code snippet of a simple program that determines the cardinal number of a set of numbers using HashSet\nclass from Java language. In order to be able to run some trials, I’ve introduced a couple of basic parameters. The\ninput list consists of n numbers, while using the f parameter and the modulo function I decide what\npart of the input list is unique. For example, for n=1 000 000 and f=0.1, the result will be a cardinal\nnumber equal to 100 000.\nPlease note the HashSet constructor parameter. By default, when the constructor is empty - this class is\ninitialized with the value 16,\nwhich means that before adding the 17th element, memory reallocation must occur for next portion of elements, which takes time.\nTo eliminate this extra time I allocate in advance as much memory as needed.\n\nval mod = (n * f).toLong()\nval set = HashSet\u003cLong\u003e(mod.toInt())\n\nval elapsed = measureTimeMillis {\n    for (i in 0 until n) {\n        set.add(i % mod)\n    }\n\n    cardinality = set.size\n}\n\n\nTwo other programs do exactly the same thing: determine the cardinal number of a set of numbers, but one uses Kotlin\ndistinct method and the second one uses HLL algorithm. You can find full code of all three applications\non this repository.\nAll three programs, in addition to the result, also measure total execution time. Moreover, using\njConsole I am also able to measure the amount of memory used. I decided\nto measure the total memory used by the\nprograms, because measuring the size of the data structures is not a trivial task.\nWe start by checking the variant n=1 000 000/f=0.25 as a result of which we should get a power of set\nequal 250 000. Let’s take a look at the results:\nn=1 000 000/f=0.25\nMetric\\Variant\n      HashSet\n      distinct\n      HLL\n    \ncardinality\n      250 000\n      250 000\n      249 979.9\n    \nerror [%]\n      0\n      0\n      0.01\n    \ntime [ms]\n      71\n      106\n      53\n    \nmemory [MB]\n      42\n      73\n      21\n    \nIn case of such a small set the deviation of the result of the HLL variant from the true value is far less than\n1%, while in this case you can already see the benefits of this method; the amount of memory used is\nhalf compared to the HashSet version and as much as 3 times less when compared to the\nversion using the Kotlin language function.\nIt is worth pausing here for a moment to consider what is the reason for such a big difference in consumed memory.\nThe first two programs are based on collections of objects, thus storing in memory entire instances along with their references.\nThe HLL method, on the other hand, uses memory-efficient bit arrays that store data based on object hashes. This makes\nit insensitive to the original size of the processed data. It means that the benefits of using HLL increase with the\nmemory needed to store the objects you want to count. The results presented above would be even more spectacular if we\nused, for example, email addresses or IP addresses instead of numbers.\nDuring the next attempt we increase the value of the n parameter tenfold:\nn=10 000 000/f=0.25\nMetric\\Variant\n      HashSet\n      distinct\n      HLL\n    \ncardinality\n      2 500 000\n      2 500 000\n      2 484 301.4\n    \nerror [%]\n      0\n      0\n      0.63\n    \ntime [ms]\n      483\n      863\n      189\n    \nmemory [MB]\n      233\n      574\n      21\n    \nThe error value has increased slightly, while the difference in memory usage and the performance\ntime is even greater than before. Therefore, it is worthwhile to increase the size of the set again:\nn=100 000 000/f=0.25\nMetric\\Variant\n      HashSet\n      distinct\n      HLL\n    \ncardinality\n      25 000 000\n      25 000 000\n      25 301 157.2\n    \nerror [%]\n      0\n      0\n      1.2\n    \ntime [ms]\n      3857\n      7718\n      1538\n    \nmemory [MB]\n      1800\n      5300\n      21\n    \nDeviation from the correct result exceeded 1%; the times also went up, although they are still many\ntimes shorter compared to other variants. It’s worth noting that the amount of memory used has practically not changed.\nNow let’s see what happens when we change the second parameter, which determines the number of\nunique elements in the input set:\nn=10 000 000/f=0.5\nMetric\\Variant\n      HashSet\n      distinct\n      HLL\n    \ncardinality\n      5 000 000\n      5 000 000\n      5 067 045.2\n    \nerror [%]\n      0\n      0\n      1.34\n    \ntime [ms]\n      467\n      914\n      183\n    \nmemory [MB]\n      420\n      753\n      21\n    \nn=10 000 000/f=0.75\nMetric\\Variant\n      HashSet\n      distinct\n      HLL\n    \ncardinality\n      7 500 000\n      7 500 000\n      7 619 136.7\n    \nerror [%]\n      0\n      0\n      1.59\n    \ntime [ms]\n      589\n      1187\n      191\n    \nmemory [MB]\n      616\n      843\n      26\n    \nAgain, the results clearly show the advantages of the HLL algorithm. With a relatively low error we\nsignificantly reduced the amount of memory used and the time required for calculations.\nAs you can see and as expected, the classical approach gives accurate results but it consumes a lot of\nmemory, while the solution using HLL brings results characterized by approx. 1% error, but in return\nwe use much less memory. A certain surprise for me is the poor result of the Kotlin distinct function; I\nexpected results more similar to the variant based on the HashSet. Presumably the key difference is that it returns an instance\nof the List class rather than HashSet. This requires further investigation, which is beyond the scope of my considerations.\nThe HLL algorithm is implemented in several solutions, including the aforementioned Elasticsearch,\nas well as in e.g. Redis and Presto. The above experiments clearly show that the approximate method, in case\nwe need to process huge amounts of data, is a good idea provided that we allow a result with a small\nerror.\nMemory-efficient presence test\nIt turns out that the HLL is not the only probabilistic algorithm available in popular databases —\nanother example of this approach is the Bloom Filter. This is an implementation of a memory-saving structure that is\nused in the so-called presence test. Let’s go back to our example with my cash: [10, 20, 50, 20, 50, 100, 50, 20, 10, 10].\nImagine that we want to test whether there is a 100 value banknote in my wallet. In this case the answer is positive, but the test\nfor the 200 value banknote should be false, since there is no such a banknote in the wallet.\nOf course, we are able again to implement a solution to this problem by simply using the properties\nof the HashSet class and the contains method. However, similarly as in case of determining the\ncardinality — the memory requirement increases with the size of the dataset.\nAgain, the solution for this problem may be an approximate method.\nSimilarly as in case of the HLL algorithm the Bloom Filter allows for some inaccuracy, and in this case\nthis means false positive results. This is because it can happen that the Bloom Filter finds that an element\nbelongs to a given set, while in fact it is not there. However, the opposite situation is not possible\nso if the Bloom Filter states that an element is not part of the set, it is certainly true. Referring this to\nour example with the content of my wallet, the Bloom Filter could therefore assure me that there was a\n200 value banknote in it, while standing at the checkout in a store it would turn out that,\nunfortunately, it is not there. What a pity…\nBefore we move on to examine how this algorithm works, let’s consider where it could be useful. A\ntypical example is a recommendation system. Imagine we are designing a system intended to suggest\narticles for users to read, a feature common on social media sites. Such a system needs to store a\nlist of articles read by each user so that it does not suggest them again. It is easy to imagine that\nstoring these articles with each user in the classic way would quickly exhaust memory resources. If we\ndon’t use any data removal mechanism, the database will grow indefinitely. The discussed Bloom\nFilter fits perfectly here as it will allow us to save a lot of memory, although, one must consider\nconsequences of its limitations related to possible false results. It may happen that we will get false\ninformation that a certain article has already been read by someone, while in fact this is not true.\nConsequently, we will not offer that user to read the material. On the other hand, the opposite\nsituation is not possible: we will never display to a user a recommendation of an article that he/she\nhas already read.\nAt this point it is worth checking how much we gain by accepting the inconvenience described\nabove. I have prepared two implementations of a program that adds to a set of values and then\nchecks if they are there.\nThe first program uses the classic approach — the HashSet class, while the second uses the Bloom\nFilter available in the popular guava library.\nAgain, using jConsole we register for both programs the amount of memory used, and additionally — for the version with\nthe Bloom Filter we also check the\nnumber of false positives. This value can be easily controlled, as the maximum allowed false positive\nrate can be set in the API; for needs of the following tests we will set it to 1%.\nMoreover, we will measure the total time of adding values to the set and the total time of querying\nwhether there are values in the set.\nSame as before we will perform a number of tests using the following parameters: n — the size of the set of\nnumbers, and f — what part of it should be added to the set. The configuration n=1 000 000 and f=0.1 means\nthat the first 100 000 numbers out of 1 000 000 will be added to the set. So, in the first part, the program will\nadd 100 000 numbers to the set and then — in the second stage — it will perform a presence test\nby checking whether the numbers above 100 000 belong to the set. There is no point in checking the\nnumbers added to the set beforehand, because we know that Bloom Filters do not give false\nnegative results. On the other hand, if any number above 100 000 is found according to the Bloom Filter in\nthe set, we will consider it a false positive.\nFollowing code snippet presents fragment of the Bloom Filter variant:\n\nval insertions = (n * f).toInt()\nval filter = BloomFilter.create(Funnels.integerFunnel(), insertions, 0.01)\nvar falsePositives = 0\n\nval insertTime = measureTimeMillis {\n    for (i in 0 until insertions) {\n        filter.put(i)\n    }\n}\n\nval queryTime = measureTimeMillis {\n    for (i in insertions until n) {\n        if (filter.mightContain(i)) {\n            falsePositives++;\n        }\n    }\n}\n\nval fpRatio = falsePositives/n.toDouble()\n\n\nAgain — you can find full code of both programs on aforementioned repository.\nLet’s start with the following configuration: n=10 000 000/f=0.1:\nn=10 000 000/f=0.1\nMetric\\Variant\n      HashSet\n      Bloom filter\n    \nerror[%]\n      0\n      0.9\n    \ninsert time [ms]\n      81\n      293\n    \nquery time [ms]\n      82\n      846\n    \nmemory [MB]\n      94\n      30\n    \nAs you can see, the Bloom Filter returned less than 1% false results, but — at the same time — it used three times\nless memory than HashSet variant. Unfortunately, the times of Bloom Filter’s version are significantly higher.\nLet’s check what happens when we increase the size of the input set:\nn=100 000 000/f=0.1\nMetric\\Variant\n      HashSet\n      Bloom filter\n    \nerror[%]\n      0\n      0.9\n    \ninsert time [ms]\n      593\n      318\n    \nquery time [ms]\n      988\n      944\n    \nmemory [MB]\n      876\n      29\n    \nn=500 000 000/f=0.1\nMetric\\Variant\n      HashSet\n      Bloom filter\n    \nerror[%]\n      0\n      0.9\n    \ninsert time [ms]\n      1975\n      1372\n    \nquery time [ms]\n      4115\n      4923\n    \nmemory [MB]\n      4400\n      81\n    \nThe number of false positives is still below the preset 1%, the amount of memory used is still lower\nthan the classic implementation, and interestingly also the times of the probabilistic variant are\nlower, at least for inserting. Thus, it can be seen that along with the increase in the size of the data the benefit of this\nmethod increases.\nSummary\nThe above results clearly show that by accepting a small share of false answers, we can gain significant savings in memory usage.\nSimilarly to the HLL algorithm, the structure based on the Bloom Filters is available in many popular\ndatabases like Redis,\nHBase\nor Cassandra.\nThe simple experiments we conducted showed that probabilistic algorithms can save a lot\nof memory, which is especially important if our database stores huge amounts of data. In such cases it\nis sometimes worth letting your database lie to you a little.","guid":"https://blog.allegro.tech/2022/10/probabilistic-algorithms.html","categories":["tech","performance","NoSQL"],"isoDate":"2022-10-03T22:00:00.000Z","thumbnail":"images/post-headers/default.jpg"}],"jobs":[{"id":"743999880597874","name":"Front-End Software Engineer - Delivery Experience","uuid":"b43c3e88-1ee5-4ea1-9145-8fdc256ae1e6","jobAdId":"05b6643a-43dd-46a2-b998-bfbaa0a31c68","refNumber":"REF3941R","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2023-01-24T15:22:51.859Z","location":{"city":"Warszawa, Kraków, Poznań, Toruń, Wrocław, Katowice, Lublin, Gdańsk, Łódź","region":"","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572770","label":"IT - Software Development"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"id":"permanent","label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"185eb5a9-b884-4ee8-8ebc-0e5f3e852b27","valueLabel":"Tak"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"7d33e23d-3fa7-4d7d-86ae-7d7caff54fa9","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"cde0f8e7-5c9d-4d78-9f5c-e1c17ee499a8","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"60cb31a9c87e511299a3a050","fieldLabel":"Department II","valueId":"743f6067-ce19-4a83-9a0d-10d49cd63004","valueLabel":"Delivery Experience"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Recruitment Process","valueId":"ed4682c7-33c9-41c2-8d13-428ed39046f5","valueLabel":"Tech. Engineer - IC"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572770","valueLabel":"IT - Software Development"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"02d54f00-48b9-4669-b7b3-10c16ac4bada","valueLabel":"Tak"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999880597874","creator":{"name":"Martyna Maziarska"},"language":{"code":"pl","label":"Polish","labelNative":"polski"}},{"id":"743999880589538","name":"Software Engineer (Scala) - Data\u0026AI","uuid":"05e4ec2c-7ebb-4f32-b7c8-99ab8f2de44d","jobAdId":"4bdac056-8e6f-43d1-9437-9b396cefea0d","refNumber":"REF3897K","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2023-01-24T14:49:57.433Z","location":{"city":"Poznań, Warszawa, Kraków","region":"","country":"pl","address":"","postalCode":"","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572770","label":"IT - Software Development"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"id":"permanent","label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"3df4cd37-be2f-409a-8871-60e1c2319007","valueLabel":"Nie"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"50675cc6-acd3-46a5-901c-54e68167e826","valueLabel":"Nie"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"a6765624-e047-4a26-9481-9621086d8b96","valueLabel":"Nie"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"c4ab8d4b-916c-49d3-9ffb-bad301fb62f6","valueLabel":"Nie"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Recruitment Process","valueId":"ed4682c7-33c9-41c2-8d13-428ed39046f5","valueLabel":"Tech. Engineer - IC"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"31873284-1e97-427d-8918-6ce504344351","valueLabel":"Nie"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572770","valueLabel":"IT - Software Development"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"25416dd5-3ba7-4e71-ab12-7b3af24269dc","valueLabel":"Nie"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999880589538","creator":{"name":"Martyna Stafa"},"language":{"code":"en","label":"English","labelNative":"English (US)"}},{"id":"743999880589545","name":"Software Engineer (Scala) - Data\u0026AI","uuid":"12cbd8f4-7d63-411f-adbe-172ca66db674","jobAdId":"3e89e7a1-e30b-470f-9cc7-28bf8d6f8fcc","refNumber":"REF3897K","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2023-01-24T14:49:25.495Z","location":{"city":"Poznań, Warszawa, Kraków","region":"","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572770","label":"IT - Software Development"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"id":"permanent","label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"3df4cd37-be2f-409a-8871-60e1c2319007","valueLabel":"Nie"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"50675cc6-acd3-46a5-901c-54e68167e826","valueLabel":"Nie"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"a6765624-e047-4a26-9481-9621086d8b96","valueLabel":"Nie"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"c4ab8d4b-916c-49d3-9ffb-bad301fb62f6","valueLabel":"Nie"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Recruitment Process","valueId":"ed4682c7-33c9-41c2-8d13-428ed39046f5","valueLabel":"Tech. Engineer - IC"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"31873284-1e97-427d-8918-6ce504344351","valueLabel":"Nie"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572770","valueLabel":"IT - Software Development"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"25416dd5-3ba7-4e71-ab12-7b3af24269dc","valueLabel":"Nie"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999880589545","creator":{"name":"Martyna Stafa"},"language":{"code":"pl","label":"Polish","labelNative":"polski"}},{"id":"743999879703298","name":"Front-End Software Engineer - Delivery Experience","uuid":"d0a50962-ce05-4b2e-9e25-8f6300775e39","jobAdId":"89c1b056-3e0e-4544-b8ed-001c7833fe0f","refNumber":"REF3941R","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2023-01-20T10:23:52.994Z","location":{"city":"Warszawa, Kraków, Poznań, Toruń, Wrocław, Katowice, Lublin, Gdańsk, Łódź","region":"","country":"pl","address":"","postalCode":"","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572770","label":"IT - Software Development"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"id":"permanent","label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"185eb5a9-b884-4ee8-8ebc-0e5f3e852b27","valueLabel":"Tak"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"7d33e23d-3fa7-4d7d-86ae-7d7caff54fa9","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"cde0f8e7-5c9d-4d78-9f5c-e1c17ee499a8","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"60cb31a9c87e511299a3a050","fieldLabel":"Department II","valueId":"743f6067-ce19-4a83-9a0d-10d49cd63004","valueLabel":"Delivery Experience"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Recruitment Process","valueId":"ed4682c7-33c9-41c2-8d13-428ed39046f5","valueLabel":"Tech. Engineer - IC"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572770","valueLabel":"IT - Software Development"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"02d54f00-48b9-4669-b7b3-10c16ac4bada","valueLabel":"Tak"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999879703298","creator":{"name":"Paulina Siwek"},"language":{"code":"en","label":"English","labelNative":"English (US)"}},{"id":"743999879329833","name":"Senior Software Engineer (Java/Kotlin) - Delivery Experience","uuid":"ac0b310c-6564-444a-9277-8c1a5c5f6eb6","jobAdId":"bd251e77-8c7b-4496-90d8-f824c3193f46","refNumber":"REF3176R","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2023-01-19T09:15:20.654Z","location":{"city":"Warszawa, Poznań, Kraków, Wrocław, Gdańsk, Katowice, Lublin, Łódź, Toruń","region":"","country":"pl","address":"","postalCode":"","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572770","label":"IT - Software Development"},"function":{"id":"engineering","label":"Engineering"},"typeOfEmployment":{"id":"permanent","label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"60cb31a9c87e511299a3a050","fieldLabel":"Department II","valueId":"743f6067-ce19-4a83-9a0d-10d49cd63004","valueLabel":"Delivery Experience"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Recruitment Process","valueId":"ed4682c7-33c9-41c2-8d13-428ed39046f5","valueLabel":"Tech. Engineer - IC"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572770","valueLabel":"IT - Software Development"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro sp. z o.o."}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999879329833","creator":{"name":"Monika Walaszek"},"language":{"code":"en","label":"English","labelNative":"English (US)"}}],"events":[{"created":1673254351000,"duration":7200000,"id":"290822249","name":"Allegro Tech Live #33 - iOS od podszewki","date_in_series_pattern":false,"status":"past","time":1674147600000,"local_date":"2023-01-19","local_time":"18:00","updated":1674157831000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":39,"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/290822249/","description":"**➡ Transmisja i nagranie ze spotkania:** **[https://www.youtube.com/watch?v=c-AIoOnby3M](https://www.youtube.com/watch?v=c-AIoOnby3M)** **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w…","visibility":"public","member_pay_fee":false},{"created":1669910743000,"duration":7200000,"id":"290082009","name":"Allegro Tech Live #32 - Storage (nie)standardowy","date_in_series_pattern":false,"status":"past","time":1671123600000,"local_date":"2022-12-15","local_time":"18:00","updated":1671134039000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":53,"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/290082009/","description":"**➡ Transmisja spotkania:** **[https://www.youtube.com/watch?v=fQLyw_IpaPQ ](https://www.youtube.com/watch?v=fQLyw_IpaPQ)** **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w naszych biurach,…","visibility":"public","member_pay_fee":false},{"created":1667908912000,"duration":5400000,"id":"289621472","name":"Allegro Tech Live #31 - Frontend: reporting i optymalizacje","date_in_series_pattern":false,"status":"past","time":1669914000000,"local_date":"2022-12-01","local_time":"18:00","updated":1669925130000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":43,"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/289621472/","description":"**➡ Rejestracja:** https://app.evenea.pl/event/allegro-tech-talk-31 **Allegro Tech Live** to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Zazwyczaj spotykaliśmy się w naszych biurach, ale tym…","visibility":"public","member_pay_fee":false},{"created":1664275530000,"duration":5400000,"id":"288748190","name":"Allegro Tech Live #30 - Dług technologiczny - jak go spłacić i nie zbankrutować","date_in_series_pattern":false,"status":"past","time":1665676800000,"local_date":"2022-10-13","local_time":"18:00","updated":1665684962000,"utc_offset":7200000,"waitlist_count":0,"yes_rsvp_count":58,"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/288748190/","description":"**➡ Rejestracja:** [https://app.evenea.pl/event/allegro-tech-talk-30](https://app.evenea.pl/event/allegro-tech-talk-30) UWAGA: Z różnych powodów (mniej lub bardziej zależnych od nas) czwartkowe spotkanie Allegro Tech Talk przenosimy w pełni do świata online. Chociaż…","visibility":"public","member_pay_fee":false}],"podcasts":[{"title":"S03E11 - Bartosz Kaczyński - O pracy i rozwoju w zespole IT Support","link":"https://podcast.allegro.tech/o-pracy-i-rozwoju-w-zespole-it-support/","pubDate":"Thu, 26 Jan 2023 00:00:00 GMT","content":"Jak wygląda praca w zespole, który zawsze udziela odpowiedzi na zadane pytania? Co można zautomatyzować w obszarze wsparcia IT i jaki to może mieć cel? Czy praca w zespole IT Support jest bramą do kariery w IT, może dawać możliwości rozwoju i przynosić satysfakcję? Jakie wyzwania przed tym zespołem w Allegro postawiła pandemia koronawirusa? O umożliwianiu pracownikom Grupy Allegro sprawnej pracy na narzędziach i usługach IT dostarczanych przez zespół Business Services \u0026 Automation opowiada Bartosz Kaczyński - IT Service Operations Manager w Allegro.","contentSnippet":"Jak wygląda praca w zespole, który zawsze udziela odpowiedzi na zadane pytania? Co można zautomatyzować w obszarze wsparcia IT i jaki to może mieć cel? Czy praca w zespole IT Support jest bramą do kariery w IT, może dawać możliwości rozwoju i przynosić satysfakcję? Jakie wyzwania przed tym zespołem w Allegro postawiła pandemia koronawirusa? O umożliwianiu pracownikom Grupy Allegro sprawnej pracy na narzędziach i usługach IT dostarczanych przez zespół Business Services \u0026 Automation opowiada Bartosz Kaczyński - IT Service Operations Manager w Allegro.","guid":"https://podcast.allegro.tech/o-pracy-i-rozwoju-w-zespole-it-support/","isoDate":"2023-01-26T00:00:00.000Z"},{"title":"S03E10 - Zosia Śmierzchalska, Jakub Dodot - O tym jak przygotowujemy rozwiązania dla klientów w oparciu o badania","link":"https://podcast.allegro.tech/o-rozwiazaniach-opartych-na-badaniach/","pubDate":"Thu, 12 Jan 2023 00:00:00 GMT","content":"W jaki sposób przygotowujemy rozwiązania dla klientów Allegro w oparciu o badania? Jak wygląda ścieżka projektu od eksploracji do wdrożenia i późniejszego monitorowania? Jaką korzyść dają badania usability? Dlaczego warto, aby badanie było prowadzone przez dwoje badaczy? O współpracy między badaczami i projektantami UX rozmawialiśmy z Zofią Śmierzchalską - Design Managerką i Jakubem Dodotem - Senior UX Research Managerem w Allegro.","contentSnippet":"W jaki sposób przygotowujemy rozwiązania dla klientów Allegro w oparciu o badania? Jak wygląda ścieżka projektu od eksploracji do wdrożenia i późniejszego monitorowania? Jaką korzyść dają badania usability? Dlaczego warto, aby badanie było prowadzone przez dwoje badaczy? O współpracy między badaczami i projektantami UX rozmawialiśmy z Zofią Śmierzchalską - Design Managerką i Jakubem Dodotem - Senior UX Research Managerem w Allegro.","guid":"https://podcast.allegro.tech/o-rozwiazaniach-opartych-na-badaniach/","isoDate":"2023-01-12T00:00:00.000Z"},{"title":"S03E09 - Adrianna Dworniak, Łukasz Gomółka - O Allegro Family","link":"https://podcast.allegro.tech/o-allegro-family/","pubDate":"Thu, 15 Dec 2022 00:00:00 GMT","content":"Czy współpraca dwóch Product Managerów przy jednym produkcie jest możliwa i jak zadbać o jej efektywność? Czym jest “churn” i na czym polega w branży e-commerce? Co wspólnego z błędnymi rekomendacjami zakupowymi mają maty do ćwiczeń? Jak rozwiązywać wielopłaszczyznowe problemy, dzięki kompleksowemu zrozumieniu perspektywy klienta i bez wykorzystywania restrykcji? Jak powstawało Allegro Family oraz dlaczego czasem warto zacząć weryfikację pomysłu na produkt od rozmowy z… teściową? Na te i inne pytania odpowiadają  Adrianna Dworniak - Senior Product Manager i Łukasz Gomółka - Product Team Manager w Allegro.","contentSnippet":"Czy współpraca dwóch Product Managerów przy jednym produkcie jest możliwa i jak zadbać o jej efektywność? Czym jest “churn” i na czym polega w branży e-commerce? Co wspólnego z błędnymi rekomendacjami zakupowymi mają maty do ćwiczeń? Jak rozwiązywać wielopłaszczyznowe problemy, dzięki kompleksowemu zrozumieniu perspektywy klienta i bez wykorzystywania restrykcji? Jak powstawało Allegro Family oraz dlaczego czasem warto zacząć weryfikację pomysłu na produkt od rozmowy z… teściową? Na te i inne pytania odpowiadają  Adrianna Dworniak - Senior Product Manager i Łukasz Gomółka - Product Team Manager w Allegro.","guid":"https://podcast.allegro.tech/o-allegro-family/","isoDate":"2022-12-15T00:00:00.000Z"},{"title":"S03E08 - Michał Wiśniewski - O pracy w Allegro Ads","link":"https://podcast.allegro.tech/o-pracy-w-allegro-ads/","pubDate":"Thu, 01 Dec 2022 00:00:00 GMT","content":"Za co odpowiada, jak działa i co oferuje klientom Allegro Ads? Co charakteryzuje DSP (Demand Side Platform), jeden z produktów w ekosystemie Allegro Ads? Czego dotyczy wyśrubowanie wymagań technicznych w tym produkcie i z jakimi wyzwaniami mierzymy się biznesowo? Skąd biorą się pomysły na rozwój Allegro Ads? I wreszcie - jak wyglądała droga Michała od programu e-xperience do roli Junior Software Engineera oraz czym zaskoczyła go najbardziej? Posłuchajcie kolejnego odcinka Allegro Tech Podcast.","contentSnippet":"Za co odpowiada, jak działa i co oferuje klientom Allegro Ads? Co charakteryzuje DSP (Demand Side Platform), jeden z produktów w ekosystemie Allegro Ads? Czego dotyczy wyśrubowanie wymagań technicznych w tym produkcie i z jakimi wyzwaniami mierzymy się biznesowo? Skąd biorą się pomysły na rozwój Allegro Ads? I wreszcie - jak wyglądała droga Michała od programu e-xperience do roli Junior Software Engineera oraz czym zaskoczyła go najbardziej? Posłuchajcie kolejnego odcinka Allegro Tech Podcast.","guid":"https://podcast.allegro.tech/o-pracy-w-allegro-ads/","isoDate":"2022-12-01T00:00:00.000Z"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"NFsI-UqgFbjugbM-wVEdD","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>