<!DOCTYPE html><html lang="pl"><head><meta charSet="utf-8"/><link rel="prefetch" href="https://allegrotechio.disqus.com/count.js"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="Allegro Tech to miejsce, w którym nasi inżynierowie dzielą się wiedzą oraz case study z wybranych projektów w firmie - w formie artykułów, podcastów oraz eventów."/><title>Allegro Tech</title><meta property="og:site_name" content="allegro.tech"/><meta property="og:title" content="allegro.tech"/><meta property="og:url" content="https://allegro.tech"/><meta property="og:type" content="site"/><meta property="og:image" content="https://allegro.tech/images/allegro-tech.png"/><link rel="shortcut icon" href="favicon.ico"/><link rel="canonical" href="https://allegro.tech" itemProp="url"/><link rel="preload" href="images/splash.jpg" as="image"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1M1FJ5PXWW"></script><script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'G-1M1FJ5PXWW');
                </script><meta name="next-head-count" content="15"/><link rel="preload" href="/_next/static/css/66933eaa547aae51.css" as="style"/><link rel="stylesheet" href="/_next/static/css/66933eaa547aae51.css" data-n-g=""/><link rel="preload" href="/_next/static/css/79db8b1e27b0a093.css" as="style"/><link rel="stylesheet" href="/_next/static/css/79db8b1e27b0a093.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-f635b472c367d1c7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-179adf437ae674f2.js" defer=""></script><script src="/_next/static/chunks/206-3a56e5ded293e83e.js" defer=""></script><script src="/_next/static/chunks/pages/index-f037c91132ed6a0a.js" defer=""></script><script src="/_next/static/ETAZLkkz-7JFcJ9CFiM8w/_buildManifest.js" defer=""></script><script src="/_next/static/ETAZLkkz-7JFcJ9CFiM8w/_ssgManifest.js" defer=""></script><script src="/_next/static/ETAZLkkz-7JFcJ9CFiM8w/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card Header_navbar__Zc5aN m-color-bg_card"><nav class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-display-flex m-flex-justify-between m-flex-items-center"><a href="/"><img src="images/logo.svg" alt="Allegro Tech" width="205" height="45"/></a><div><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0 m-display-flex@lg m-display-none"><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://blog.allegro.tech">Blog</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://ml.allegro.tech">Machine Learning</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://podcast.allegro.tech">Podcast</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://github.com/Allegro">Open Source</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://www.meetup.com/allegrotech/events">Wydarzenia</a></li><li class="m-margin-left-16@lg"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display-block m-display-inline@lg m-padding-left-16 m-padding-right-16 m-padding-top-16 m-padding-bottom-16 m-padding-left-0@lg m-padding-top-0@lg m-padding-right-0@lg m-padding-bottom-0@lg m-link--signal m-line-height_21" href="https://praca.allegro.pl">Praca</a></li></ul><button class="m-display-none@lg m-height_40 m-line-height_40 m-border-style-top_none m-border-style-right_none m-border-style-bottom_none m-border-style-left_none m-border-radius-top-left_2 m-border-radius-top-right_2 m-border-radius-bottom-left_2 m-border-radius-bottom-right_2 m-cursor_pointer m-overflow_hidden m-appearance_none m-padding-left_4 m-padding-right_4 m-padding-top_4 m-padding-bottom_4 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button" style="background:transparent" aria-label="Otwórz menu"><img src="https://assets.allegrostatic.com/metrum/icon/menu-23e046bf68.svg" alt="" class="m-icon" width="32" height="32"/></button></div></nav></header><div class="Header_hero__PYE0B"><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-display-flex m-flex-column m-flex-justify-end Header_image__Cj6ZF"><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-color-bg_desk"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text  m-font-weight_100 m-font-size_32 m-font-size_43_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125">O nas</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">Allegro to jedna z najbardziej zaawansowanych technologicznie firm w naszej części Europy. Allegro to również ponad 1000 specjalistów IT, różnych specjalizacji, rozwijających nasz serwis. Unikatowa skala i złożoność problemów, które rozwiązujemy na co dzień, dają nam możliwość rozwoju przy bardzo różnorodnych projektach. Allegro Tech to miejsce, w którym nasi inżynierowie dzielą się wiedzą oraz case study z wybranych projektów w firmie – w formie artykułów, podcastów oraz eventów.</p></div></div></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Blog</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html" title="Android UI testing in Allegro Pay organization"><img width="388" src="images/post-headers/default.jpg" alt="Android UI testing in Allegro Pay organization" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html" title="Android UI testing in Allegro Pay organization" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Android UI testing in Allegro Pay organization</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">15 dni temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/kotlin">#<!-- -->kotlin</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/android">#<!-- -->android</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/ui-testing">#<!-- -->ui-testing</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/allegro-pay">#<!-- -->allegro-pay</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Will automatic UI tests be able to replace manual testers as artificial intelligence will try to replace
programmers? I’ll show you how we write automatic UI…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Michał Kwiatek" src="https://blog.allegro.tech/img/authors/michal.kwiatek.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/michal.kwiatek">Michał Kwiatek</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/03/war-in-ukraine.html" title="The War in Ukraine"><img width="388" src="images/post-headers/default.jpg" alt="The War in Ukraine" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/03/war-in-ukraine.html" title="The War in Ukraine" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">The War in Ukraine</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">23 dni temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/soft skills">#<!-- -->soft skills</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/helping">#<!-- -->helping</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">The attack on Ukraine has shocked the entire world, but in Poland it is making especially big waves. Not just due to geographical proximity -…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Michał Kosmulski" src="https://blog.allegro.tech/img/authors/michal.kosmulski.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/michal.kosmulski">Michał Kosmulski</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/03/war-in-ukraine.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/03/war-in-ukraine.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/02/readable-tests-by-example.html" title="Make your tests readable by example"><img width="388" src="images/post-headers/java.png" alt="Make your tests readable by example" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/02/readable-tests-by-example.html" title="Make your tests readable by example" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Make your tests readable by example</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">30 dni temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/backend">#<!-- -->backend</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/testing">#<!-- -->testing</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tdd">#<!-- -->tdd</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/bdd">#<!-- -->bdd</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/java">#<!-- -->java</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/groovy">#<!-- -->groovy</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/ddd">#<!-- -->ddd</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Have you ever worked on a project where after downloading the code from the repository you start to wonder what business
requirements are hidden under the…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Kamil Jędrzejuk" src="https://blog.allegro.tech/img/authors/kamil.jedrzejuk.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/kamil.jedrzejuk">Kamil Jędrzejuk</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/02/readable-tests-by-example.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/02/readable-tests-by-example.html">przejdź do wpisu</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html" title="Why should we rewrite enzyme.js to react-testing-library and how to do that?"><img width="388" src="images/post-headers/javascript.png" alt="Why should we rewrite enzyme.js to react-testing-library and how to do that?" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html" title="Why should we rewrite enzyme.js to react-testing-library and how to do that?" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Why should we rewrite enzyme.js to react-testing-library and how to do that?</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">około miesiąc temu</time><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0"><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/tech">#<!-- -->tech</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/frontend">#<!-- -->frontend</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/javascript">#<!-- -->javascript</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/jest">#<!-- -->jest</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/enzyme">#<!-- -->enzyme</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/react-testing-library">#<!-- -->react-testing-library</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/rtl">#<!-- -->rtl</a></li><li class="m-margin-right-8 m-display-inline-block"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/hashtag/react">#<!-- -->react</a></li></ul><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1 m-padding-top-16">Everyone repeats like a mantra that tests are an indispensable element of development work. Is there anything to it?
Well, I need to admit that as…</p><div class="m-display-flex m-flex-justify-between m-padding-top-16 m-flex-items_center"><div class="m-display-flex m-flex-items_center"><div class="MuiAvatarGroup-root m-padding-right_16 Post_avatars__FHMgb"><div class="MuiAvatar-root MuiAvatar-circle MuiAvatarGroup-avatar" style="z-index:1"><img alt="Magdalena Mazur" src="https://blog.allegro.tech/img/authors/magdalena.mazur.jpg" class="MuiAvatar-img" width="32" height="32"/></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/authors/magdalena.mazur">Magdalena Mazur</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html#disqus_thread">0 Comments</a></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html">przejdź do wpisu</a></div></article></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://blog.allegro.tech">Zobacz więcej wpisów</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Podcasty</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/rola_architekta_w_allegro/" title="S02E12 - Piotr Betkier - Rola architekta w Allegro"><img src="images/podcast.png" alt="S02E12 - Piotr Betkier - Rola architekta w Allegro" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/rola_architekta_w_allegro/" title="S02E12 - Piotr Betkier - Rola architekta w Allegro" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S02E12 - Piotr Betkier - Rola architekta w Allegro</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">9 miesięcy temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Od kodowania do tworzenia strategii technicznej... Jak wygląda rola architekta w Allegro? Ile takich osób pracuje w naszej firmie i dlaczego ta rola jest tak różnorodna? Czym jest Andamio i jak rozwijamy naszą platformę – o tym wszystkim opowie Piotr Betkier – Inżynier, Architekt Platformy Technicznej w Allegro oraz twórca piosenek o IT :)</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/rola_architekta_w_allegro/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/infrastruktura_Allegro/" title="S02E11 - Piotr Michoński - Infrastruktura Allegro"><img src="images/podcast.png" alt="S02E11 - Piotr Michoński - Infrastruktura Allegro" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/infrastruktura_Allegro/" title="S02E11 - Piotr Michoński - Infrastruktura Allegro" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S02E11 - Piotr Michoński - Infrastruktura Allegro</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">10 miesięcy temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Jak jest zbudowane środowisko uruchomienia aplikacji Allegro? Jak działają serwerownie firmy i ile ich potrzeba, a które elementy Allegro działają w chmurze publicznej? Jak przebiegała transformacja w Allegro i co zmieniało się przez lata? Jak wzrost biznesu wpływa na wielkość infrastruktury i jak infrastruktura Allegro odczuła przyjście pandemii? O tym, a także o rozwoju liderów technologii w Allegro oraz o historii powstania dżingla do naszych podcastów, opowie Piotr Michoński - menadżer Zespołów tworzących infrastrukturę Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/infrastruktura_Allegro/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/praca_architekta_ekosystemu_big_data_w_Allegro/" title="S02E10 - Dariusz Eliasz - Praca architekta ekosystemu big data w Allegro"><img src="images/podcast.png" alt="S02E10 - Dariusz Eliasz - Praca architekta ekosystemu big data w Allegro" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/praca_architekta_ekosystemu_big_data_w_Allegro/" title="S02E10 - Dariusz Eliasz - Praca architekta ekosystemu big data w Allegro" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S02E10 - Dariusz Eliasz - Praca architekta ekosystemu big data w Allegro</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">10 miesięcy temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Jak wygląda praca architekta ekosystemu big data w Allegro? Jakie zadania realizuje nasz zespół odpowiedzialny za narzędzia i infrastrukturę dla przetwarzania danych? Kiedy możemy mówić o dużych danych i ile petabajtów przetwarza Allegro? Skąd pochodzą dane Allegro i dlaczego jest ich tak dużo oraz z jakiego powodu dopiero teraz przenosimy się do chmury? O tym wszystkim opowie zdobywca statuetki Allegro Tech Hero - Dariusz Eliasz – Team Manager &amp; Platform Architect w Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/praca_architekta_ekosystemu_big_data_w_Allegro/">Posłuchaj odcinka</a></div></article></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--3@xl m-display-flex m-flex-direction_column"><article class="m-margin-bottom_16 m-display-flex m-flex-column m-flex-grow_1"><a href="https://podcast.allegro.tech/od_inzyniera_do_lidera_w_allegro/" title="S02E09 - Bartosz Gałek - Od inżyniera do lidera w Allegro"><img src="images/podcast.png" alt="S02E09 - Bartosz Gałek - Od inżyniera do lidera w Allegro" class="m-display-block m-width-fluid"/></a><div class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-column m-flex-grow_1 m-padding-bottom-0 m-color-bg_card"><a href="https://podcast.allegro.tech/od_inzyniera_do_lidera_w_allegro/" title="S02E09 - Bartosz Gałek - Od inżyniera do lidera w Allegro" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">S02E09 - Bartosz Gałek - Od inżyniera do lidera w Allegro</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-bottom-16">11 miesięcy temu</time><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-flex-grow-1">Czym jest Opbox i jakie wyzwania przed nim stoją? Jak w Allegro angażujemy się w rozwój kultury Open Source? Ile mamy projektów na GitHubie i jak świętujemy Hacktoberfest? W jaki sposób można rozwinąć się od inżyniera do lidera? Na te pytania w najnowszym Allegro Tech Podcast odpowie Bartek Gałek, Team Leader w Allegro.</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech/od_inzyniera_do_lidera_w_allegro/">Posłuchaj odcinka</a></div></article></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://podcast.allegro.tech">Zobacz więcej podcastów</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Wydarzenia</h2><div class="m-display_flex m-flex-wrap_1 m-flex-grow_1 m-grid"><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/284469437/" title="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/284469437/" title="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">6 dni temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">Wydarzenie przełożone z 24 lutego. OBOWIĄZUJE REJESTRACJA: https://app.evenea.pl/event/allegro-tech-live-25/ Allegro Tech Live to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Kiedyś spotykaliśmy się…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/284469437/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/283913049/" title="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/283913049/" title="Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">27 dni temu</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">Ze względu na obecną sytuację polityczną pewnie dzisiaj wszyscy jesteśmy myślami z mieszkańcami Ukrainy, dlatego postanowiliśmy odwołać dzisiejszy Allegro Tech Live. Obiecujemy, że wrócimy z…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/283913049/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/283335598/" title="Allegro Tech Live #24 - Automatyzacja i usługi biznesowe w Allegro" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Live #24 - Automatyzacja i usługi biznesowe w Allegro"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/283335598/" title="Allegro Tech Live #24 - Automatyzacja i usługi biznesowe w Allegro" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Live #24 - Automatyzacja i usługi biznesowe w Allegro</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">około 2 miesiące temu<!-- -->, Online event</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">REJESTRACJA NA WYDARZENIE ---&amp;gt; https://app.evenea.pl/event/allegro-tech-live-24/ Allegro Tech Live to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Kiedyś spotykaliśmy się w naszych biurach,…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/283335598/">Szczegóły</a></article></div></div><div class="m-grid__col m-grid__col--12 m-grid__col--6@sm m-grid__col--6@xl m-display-flex m-flex-direction_column"><div class="m-margin-bottom_16 m-display-flex m-flex-direction_column m-flex-direction_row_sm m-padding-bottom_0"><a href="https://www.meetup.com/allegrotech/events/282421464/" title="Allegro Tech Labs #9 Online: System design workshop" class="m-display_none m-display_block_lg" style="background-color:#fd4a02"><img width="218" src="images/event.png" alt="Allegro Tech Labs #9 Online: System design workshop"/></a><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-display-flex m-flex-direction_column m-padding-bottom_0 m-flex_1 m-flex-justify_between m-color-bg_card"><a href="https://www.meetup.com/allegrotech/events/282421464/" title="Allegro Tech Labs #9 Online: System design workshop" class="m-text-decoration_none"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm" style="text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:2em;overflow:hidden">Allegro Tech Labs #9 Online: System design workshop</h2></a><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text">3 miesiące temu<!-- -->, Online event</time><time class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-padding-top-8">❗NA WYDARZENIE OBOWIĄZUJE REJESTRACJA: Liczba miejsc jest organiczona: https://app.evenea.pl/event/allegro-tech-labs-9/ ❗ To już druga edycja naszych warsztatów System Design Workshop! Czy chcesz poznać tajniki tworzenia systemów?…</time><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-margin-top-16 m-display_block m-border-width_1 m-border-color_gray m-border-style-top_solid m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/282421464/">Szczegóły</a></article></div></div></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.meetup.com/allegrotech/events/">Zobacz więcej wydarzeń</a></div><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_300 m-font-size_27 m-font-size_36_sm m-margin-bottom_16 m-margin-bottom_24_sm m-line-height_125 m-padding-left-24 m-padding-right-24">Oferty pracy</h2><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto"><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Research Engineer - Machine Learning (Computer Vision)</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999810853837-research-engineer-machine-learning-computer-vision?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Research Engineer - Machine Learning (Reinforcement Learning)</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999785422127-research-engineer-machine-learning-reinforcement-learning?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Research Engineer - Machine Learning (Ranking and Recommendations)</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Poznań, Kraków, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999785421861-research-engineer-machine-learning-ranking-and-recommendations?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Research Engineer - Machine Learning (Reinforcement Learning)</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999779448775-research-engineer-machine-learning-reinforcement-learning?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article><article class="m-padding-top_16 m-padding-top_24_lg m-padding-right_16 m-padding-right_24_lg m-padding-bottom_16 m-padding-bottom_24_lg m-padding-left_16 m-padding-left_24_lg m-card m-margin-bottom_16 m-display-flex m-flex-justify_between m-flex-items-center m-flex-direction_column m-flex-direction_row_md m-color-bg_card"><h2 class="m-font-family_roboto m-margin-left_0 m-margin-right_0 m-margin-top_0 m-color_text m-font-weight_500 m-line-height_130 m-margin-bottom_8 m-margin-bottom_16_sm m-font-size_21 m-font-size_25_sm m-margin-bottom_0_sm m-flex-grow_1">Research Engineer - Machine Learning (Ranking and Recommendations)</h2><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-font-size_21 m-font-size_25_sm m-font-weight_300 m-line-height_normal m-margin-top_16 m-text-align_left m-padding-right_16">Warszawa, Poznań, Kraków, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin</p><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://www.smartrecruiters.com/Allegro/743999779448676-research-engineer-machine-learning-ranking-and-recommendations?trid=de9dfdf3-7f9e-4ebf-8a64-49f6c69ad640">Sprawdź</a></article></div><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-display_block m-margin-bottom_8 m-width_100 m-height_40 m-line-height_40 m-text-transform_uppercase m-letter-spacing_2 m-white-space_nowrap m-cursor_pointer m-overflow_hidden m-padding-left_16 m-padding-right_16 m-padding-top_0 m-padding-bottom_0 m-outline-style_dotted--focus m-outline-width_2 m-outline-color_teal m-outline-offset_n2 m-button m-box_border m-text-align_center m-display_inline-block m-color_secondary m-background-position_50p m-background-size_5000p m-transition-property_background-color m-transition-duration_fast m-button--secondary" href="https://allegro.pl/praca">Zobacz więcej ofert</a></div><footer class="m-color-bg_navy m-margin-top-32"><div class="m-width-max_1600 m-margin-left_auto m-margin-right_auto m-padding-top-24 m-padding-bottom-24 m-display-flex@sm m-flex-justify-between m-flex-items-center m-text-align_center"><p class="m-font-family_sans m-line-height_21 m-font-size_14 m-text-size-adjust_100p m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-color_text m-color_white m-padding-left-24@sm">Proudly built by Allegro Tech engineers</p><ul class="m-font-family_sans m-font-size_14 m-line-height_21 m-color_text m-text-size-adjust_100p m-list-style-type_none m-margin-top_0 m-margin-right_0 m-margin-bottom_0 m-margin-left_0 m-padding-top_0 m-padding-right_0 m-padding-bottom_0 m-padding-left_0 m-display-flex m-flex-justify-center"><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://github.com/allegro"><img src="https://assets.allegrostatic.com/metrum/icon/github-6a18df1729.svg" alt="Github" class="m-icon"/></a></li><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://www.facebook.com/allegro.tech/"><img src="https://assets.allegrostatic.com/metrum/icon/facebook-a2b92f9dcb.svg" alt="Facebook" class="m-icon"/></a></li><li style="filter:brightness(0) invert(1);opacity:0.5" class="m-margin-right-8 m-margin-top-16 m-margin-top-0@sm m-color_white"><a class="m-font-size_14 m-font-family_sans m-color_text m-text-decoration_none m-text-size-adjust_100p m-cursor_pointer m-link m-line-height_21" href="https://twitter.com/allegrotech"><img src="https://assets.allegrostatic.com/metrum/icon/twitter-25164a58aa.svg" alt="Twitter" class="m-icon"/></a></li></ul></div></footer><div style="visibility:hidden;height:0;overflow:hidden;position:relative"><img alt="doubleclick" width="1" height="1" style="position:absolute" src="https://pubads.g.doubleclick.net/activity;dc_iu=/21612525419/DFPAudiencePixel;ord=831459547487.5896;dc_seg=507368552?"/><img alt="fb" height="1" width="1" style="position:absolute" src="https://www.facebook.com/tr?id=1650870088530325&amp;ev=PageView&amp;noscript=1"/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"Android UI testing in Allegro Pay organization","link":"https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html","pubDate":"Wed, 09 Mar 2022 00:00:00 +0100","authors":{"author":[{"name":["Michał Kwiatek"],"photo":["https://blog.allegro.tech/img/authors/michal.kwiatek.jpg"],"url":["https://blog.allegro.tech/authors/michal.kwiatek"]}]},"content":"\u003cp\u003eWill automatic UI tests be able to replace manual testers as artificial intelligence will try to replace\nprogrammers? I’ll show you how we write automatic UI tests on Android in Allegro Pay.\u003c/p\u003e\n\n\u003ch2 id=\"the-introduction\"\u003eThe Introduction\u003c/h2\u003e\n\u003cp\u003eTests are designed to check whether the user interface is working properly. For example they verify\nif users see an appropriate screen with correct data and don’t encounter an unexpected behavior.\nThese tests, apart from checking the correctness of displayed screen, should also check whether the\nuser sees the appropriate screen after clicking a button. They allow to check the business process\nin a controlled manner. At Allegro Pay, we have several critical processes, such as onboarding a new\ncustomer or repayment of liabilities. Until now, these processes have been tested manually. Automating\nthese tests allows us to save the tester’s time and eliminates possible human errors.\u003c/p\u003e\n\n\u003ch2 id=\"the-application-class\"\u003eThe Application Class\u003c/h2\u003e\n\u003cp\u003eYou can have your tests running the whole \u003ca href=\"https://play.google.com/store/apps/details?id=pl.allegro\"\u003eapplication\u003c/a\u003e\nor go for partial coverage only. In our case, they run only single module, namely Allegro Pay. This solution\nis associated with certain changes that needed to be made. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAllegroPayTestApplication\u003c/code\u003e class has been created\ninheriting from the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eTestApplication\u003c/code\u003e class. It contains dependencies needed to run our module as a separate\napplication. Apart from this class, you need to prepare a manifest so that it has references to all activities\navailable in our module.\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAllegroPayTestApplication\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nc\"\u003eTestApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n   \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003efun\u003c/span\u003e \u003cspan class=\"nf\"\u003eonCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n       \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eonCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"nf\"\u003einitKoin\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n   \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003efun\u003c/span\u003e \u003cspan class=\"nf\"\u003einitKoin\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n       \u003cspan class=\"nf\"\u003eloadKoinModules\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n           \u003cspan class=\"n\"\u003eloadNeededModulesHere\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2 id=\"the-tool-framework-and-pattern\"\u003eThe Tool, Framework And Pattern\u003c/h2\u003e\n\u003cp\u003eTools and frameworks used in the process of adding tests are Espresso and Wiremock Stubbing\nand the PageObject pattern.\n\u003cimg src=\"/img/articles/2022-03-09-android-ui-testing-in-allegro-pay-organization/espresso_and_wiremock.png\" alt=\"Espresso and Wiremock logos\" /\u003e\u003c/p\u003e\n\n\u003ch3 id=\"wiremock\"\u003eWiremock\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://wiremock.org/\"\u003eWiremock\u003c/a\u003e is a tool which allows mocking the response for\na given endpoint with a declared data example. In addition, it can also record requests, map responses, edit\nresponse data, and act as a transparent proxy. This solution supports testing of edge cases and different response\nstatuses that are difficult or impossible to automatically simulate in a real test environment. Another big\nreason for using this tool is stability. Since the test environment to which these tests need to connect doesn’t\nalways work, running the test would not bring any benefits. This would be wasting resources and generating costs.\nThanks to Wiremock, it is possible to obtain the same answer each time. Here is an example stub:\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eopen\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStub\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003emappingBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nc\"\u003eMappingBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003einternal\u003c/span\u003e \u003cspan class=\"kd\"\u003eobject\u003c/span\u003e \u003cspan class=\"nc\"\u003eGreetingStub\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nc\"\u003eStub\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n   \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n       \u003cspan class=\"nf\"\u003eurlEqualTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/allegropay/greeting\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003ewillReturn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n       \u003cspan class=\"nf\"\u003eaResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n           \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ewithStatus\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n           \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ewithBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eGREETING_STUB\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// \u0026lt;editor-fold defaultstate=collapsed desc=\"GreetingStub\"\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nd\"\u003e@Language\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"json\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003eGREETING_STUB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\"\n {\n   \"greeting\": \"hello\"\n }\n\"\"\"\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// \u0026lt;/editor-fold\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe above code shows a stub, that allows any query to \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e/allegropay/greeting\u003c/code\u003e to respond with a status\nof 200 and data entered in the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eGREETING_STUB\u003c/code\u003e field.\u003c/p\u003e\n\n\u003ch3 id=\"espresso\"\u003eEspresso\u003c/h3\u003e\n\u003cp\u003eAnother tool which I would like to present is \u003ca href=\"https://developer.android.com/training/testing/espresso\"\u003eEspresso\u003c/a\u003e.\nIt allows describing what we want to test in our activity. You can simulate the operation of the application as\nif it was used by the customer. This tool provides several simple methods for ensuring the interaction and\nassertion of the view state. I put a cheat sheet with the most needed and most used matchers, actions,\nassertions, etc. below. Espresso provides management of the main thread, what significantly speeds up and\nfacilitates writing tests. An important consideration when using this tool is that \u003cstrong\u003e\u003cem\u003esystem animations and\n“don’t keep activities” function cannot be enabled on the test device\u003c/em\u003e\u003c/strong\u003e.\n\u003cimg src=\"/img/articles/2022-03-09-android-ui-testing-in-allegro-pay-organization/espresso_cheatsheet.png\" alt=\"Espresso cheat sheet\" /\u003e\u003c/p\u003e\n\n\u003ch3 id=\"pageobject-pattern\"\u003ePageObject Pattern\u003c/h3\u003e\n\u003cp\u003eThe last thing needed to write perfect tests is the \u003ca href=\"https://martinfowler.com/bliki/PageObject.html\"\u003ePageObject\u003c/a\u003e pattern\nwhich allows you to store the interactions and assertions in one place in the context of each screen. According to\nMartin Fowler (if you haven’t read his books, you should!):\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003eThe basic rule of thumb for a page object is that it should allow a software client to do anything and\nsee anything that a human can.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch2 id=\"the-test\"\u003eThe test\u003c/h2\u003e\n\u003cp\u003eBelow is one of the tests written for the Dashboard screen:\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nd\"\u003e@Test\u003c/span\u003e\n\u003cspan class=\"nd\"\u003e@Stubs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n   \u003cspan class=\"nc\"\u003eStub1\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"nc\"\u003eStub2\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"nc\"\u003eStub3\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"nc\"\u003eStub4\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"nc\"\u003eStub5\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003efun\u003c/span\u003e \u003cspan class=\"nf\"\u003etestUserCanSeeDashboardThenSettingsThenOverpaymentThenGoBackToDashboard\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003elaunchDashboardActivity\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"nf\"\u003einDashboard\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eDASHBOARD_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edashboardMenuItemPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003emenuItem\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n                   \u003cspan class=\"n\"\u003emenuItem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etapOnOptionsButton\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n   \u003cspan class=\"nf\"\u003einSettings\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eSETTINGS_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}.\u003c/span\u003e\u003cspan class=\"nf\"\u003eoverpaymentItemPage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etapOnOverpayment\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n   \u003cspan class=\"nf\"\u003einOverpayment\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eparseOverpaymentData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eOVERPAYMENT_WITHOUT_IBAN_POSITIVE\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eOVERPAYMENT_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etapToolbarBack\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n   \u003cspan class=\"nf\"\u003einSettings\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eSETTINGS_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etapToolbarBack\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n   \u003cspan class=\"nf\"\u003einDashboard\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eDASHBOARD_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n       \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe above test allows you to check the path followed by the user who wants to see the overpayment screen\nfrom the dashboard and then return. Methods with the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ein\u003c/code\u003e prefix contain a page object that provides the\nnecessary interactions and assertions to check the view. By running this test on the test device, you can\nsee the start of the application with the dashboard screen, where the title of the toolbar is checked\nand the button that takes you to the options screen is clicked. In the options screen, the title of\nthe toolbar is checked and you click on the option that takes you to the overpayment screen.\nThe toolbar title also is checked in the overpayment screen and the back arrow is clicked. The\napplication returns to the options screen, the title of the toolbar is checked and the back arrow\nis clicked. The last screen that is checked is the dashboard screen. And then the test\npasses.\u003c/p\u003e\n\n\u003cp\u003eThe class fragment presented below has the method that was used in the previous test. This method allows\nto create settings page object and run check on toolbar page and overpayment item page. Toolbar page object\nlets us check name by string resource defined in \u003ccode class=\"language-plaintext highlighter-rouge\"\u003estrings.xml\u003c/code\u003e file. Whereas \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoverpaymentItemPage()\u003c/code\u003e method\nsearches for item on the first position on the recycler view. After that it clicks on overpayment option on screen.\nThis means that the methods can be used for other tests without unnecessarily duplicating it.\u003c/p\u003e\n\n\u003cdiv class=\"language-kotlin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003einSettings\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etoolbarPage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n       \u003cspan class=\"n\"\u003etoolbar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003echeckName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003eSETTINGS_TOOLBAR_NAME_RES_ID\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}.\u003c/span\u003e\u003cspan class=\"nf\"\u003eoverpaymentItemPage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n       \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etapOnOverpayment\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2 id=\"the-future\"\u003eThe Future\u003c/h2\u003e\n\u003cp\u003eOur test team proposed to provide test scenarios that should be implemented in addition to the so-called\nhappy paths. These were be the most frequently reported problems by our customers regarding the display\nof data or switching between screens. However, it should also be noted that the number of these tests\nshouldn’t be too large, because running one test usually takes a few seconds, what may cause queues in the\ntest environment. Additionally, the tests need to be merged into the main branch. The 10 sample tests took\nalmost 30 seconds to complete, but the entire procedure took almost a minute.\n\u003cimg src=\"/img/articles/2022-03-09-android-ui-testing-in-allegro-pay-organization/10_tests.png\" alt=\"10 sample tests\" /\u003e\u003c/p\u003e\n\n\u003ch2 id=\"the-end\"\u003eThe End\u003c/h2\u003e\n\u003cp\u003eWe expect that the addition of tests will reduce the work of manual testers. Testing cases that require simulating\na specific, very rare behavior or response from the backend takes the longest time. Reducing it by any value is\na profit. Happy paths and paths with standard errors can be easily programmed in tests. Additionally, programmers\nat an earlier stage are able to catch and correct errors resulting from regression. We are already working on\nadding tests to further processes such as onboarding a new customer, consolidation or repayment. We will also\nextend our test scenarios with additional cases. And the question posed at the very beginning of this article\nis still open.\u003c/p\u003e\n","contentSnippet":"Will automatic UI tests be able to replace manual testers as artificial intelligence will try to replace\nprogrammers? I’ll show you how we write automatic UI tests on Android in Allegro Pay.\nThe Introduction\nTests are designed to check whether the user interface is working properly. For example they verify\nif users see an appropriate screen with correct data and don’t encounter an unexpected behavior.\nThese tests, apart from checking the correctness of displayed screen, should also check whether the\nuser sees the appropriate screen after clicking a button. They allow to check the business process\nin a controlled manner. At Allegro Pay, we have several critical processes, such as onboarding a new\ncustomer or repayment of liabilities. Until now, these processes have been tested manually. Automating\nthese tests allows us to save the tester’s time and eliminates possible human errors.\nThe Application Class\nYou can have your tests running the whole application\nor go for partial coverage only. In our case, they run only single module, namely Allegro Pay. This solution\nis associated with certain changes that needed to be made. The AllegroPayTestApplication class has been created\ninheriting from the TestApplication class. It contains dependencies needed to run our module as a separate\napplication. Apart from this class, you need to prepare a manifest so that it has references to all activities\navailable in our module.\n\nclass AllegroPayTestApplication : TestApplication() {\n\n   override fun onCreate() {\n       super.onCreate()\n       initKoin()\n   }\n\n   private fun initKoin() {\n       loadKoinModules(\n           loadNeededModulesHere\n       )\n   }\n}\n\n\nThe Tool, Framework And Pattern\nTools and frameworks used in the process of adding tests are Espresso and Wiremock Stubbing\nand the PageObject pattern.\n\nWiremock\nWiremock is a tool which allows mocking the response for\na given endpoint with a declared data example. In addition, it can also record requests, map responses, edit\nresponse data, and act as a transparent proxy. This solution supports testing of edge cases and different response\nstatuses that are difficult or impossible to automatically simulate in a real test environment. Another big\nreason for using this tool is stability. Since the test environment to which these tests need to connect doesn’t\nalways work, running the test would not bring any benefits. This would be wasting resources and generating costs.\nThanks to Wiremock, it is possible to obtain the same answer each time. Here is an example stub:\n\nopen class Stub(val mappingBuilder: MappingBuilder)\n\ninternal object GreetingStub : Stub(\n   get(\n       urlEqualTo(\"/allegropay/greeting\")\n   ).willReturn(\n       aResponse()\n           .withStatus(200)\n           .withBody(GREETING_STUB)\n   )\n)\n\n// \u003ceditor-fold defaultstate=collapsed desc=\"GreetingStub\"\u003e\n\n@Language(\"json\")\nval GREETING_STUB = \"\"\"\n {\n   \"greeting\": \"hello\"\n }\n\"\"\"\n\n// \u003c/editor-fold\u003e\n\n\nThe above code shows a stub, that allows any query to /allegropay/greeting to respond with a status\nof 200 and data entered in the GREETING_STUB field.\nEspresso\nAnother tool which I would like to present is Espresso.\nIt allows describing what we want to test in our activity. You can simulate the operation of the application as\nif it was used by the customer. This tool provides several simple methods for ensuring the interaction and\nassertion of the view state. I put a cheat sheet with the most needed and most used matchers, actions,\nassertions, etc. below. Espresso provides management of the main thread, what significantly speeds up and\nfacilitates writing tests. An important consideration when using this tool is that system animations and\n“don’t keep activities” function cannot be enabled on the test device.\n\nPageObject Pattern\nThe last thing needed to write perfect tests is the PageObject pattern\nwhich allows you to store the interactions and assertions in one place in the context of each screen. According to\nMartin Fowler (if you haven’t read his books, you should!):\nThe basic rule of thumb for a page object is that it should allow a software client to do anything and\nsee anything that a human can.\nThe test\nBelow is one of the tests written for the Dashboard screen:\n\n@Test\n@Stubs(\n   Stub1::class,\n   Stub2::class,\n   Stub3::class,\n   Stub4::class,\n   Stub5::class\n)\nfun testUserCanSeeDashboardThenSettingsThenOverpaymentThenGoBackToDashboard() = launchDashboardActivity {\n   inDashboard()\n       .toolbarPage { toolbar -\u003e\n           toolbar.checkName(DASHBOARD_TOOLBAR_NAME_RES_ID)\n               .dashboardMenuItemPage { menuItem -\u003e\n                   menuItem.tapOnOptionsButton()\n               }\n       }\n\n   inSettings()\n       .toolbarPage { toolbar -\u003e\n           toolbar.checkName(SETTINGS_TOOLBAR_NAME_RES_ID)\n       }.overpaymentItemPage(position = 1) { item -\u003e\n           item.tapOnOverpayment()\n       }\n\n   inOverpayment(parseOverpaymentData(OVERPAYMENT_WITHOUT_IBAN_POSITIVE))\n       .toolbarPage { toolbar -\u003e\n           toolbar.checkName(OVERPAYMENT_TOOLBAR_NAME_RES_ID)\n               .tapToolbarBack()\n       }\n\n   inSettings()\n       .toolbarPage { toolbar -\u003e\n           toolbar.checkName(SETTINGS_TOOLBAR_NAME_RES_ID)\n               .tapToolbarBack()\n       }\n\n   inDashboard()\n       .toolbarPage { toolbar -\u003e\n           toolbar.checkName(DASHBOARD_TOOLBAR_NAME_RES_ID)\n       }\n}\n\n\nThe above test allows you to check the path followed by the user who wants to see the overpayment screen\nfrom the dashboard and then return. Methods with the in prefix contain a page object that provides the\nnecessary interactions and assertions to check the view. By running this test on the test device, you can\nsee the start of the application with the dashboard screen, where the title of the toolbar is checked\nand the button that takes you to the options screen is clicked. In the options screen, the title of\nthe toolbar is checked and you click on the option that takes you to the overpayment screen.\nThe toolbar title also is checked in the overpayment screen and the back arrow is clicked. The\napplication returns to the options screen, the title of the toolbar is checked and the back arrow\nis clicked. The last screen that is checked is the dashboard screen. And then the test\npasses.\nThe class fragment presented below has the method that was used in the previous test. This method allows\nto create settings page object and run check on toolbar page and overpayment item page. Toolbar page object\nlets us check name by string resource defined in strings.xml file. Whereas overpaymentItemPage() method\nsearches for item on the first position on the recycler view. After that it clicks on overpayment option on screen.\nThis means that the methods can be used for other tests without unnecessarily duplicating it.\n\ninSettings()\n   .toolbarPage { toolbar -\u003e\n       toolbar.checkName(SETTINGS_TOOLBAR_NAME_RES_ID)\n   }.overpaymentItemPage(position = 1) { item -\u003e\n       item.tapOnOverpayment()\n   }\n\n\nThe Future\nOur test team proposed to provide test scenarios that should be implemented in addition to the so-called\nhappy paths. These were be the most frequently reported problems by our customers regarding the display\nof data or switching between screens. However, it should also be noted that the number of these tests\nshouldn’t be too large, because running one test usually takes a few seconds, what may cause queues in the\ntest environment. Additionally, the tests need to be merged into the main branch. The 10 sample tests took\nalmost 30 seconds to complete, but the entire procedure took almost a minute.\n\nThe End\nWe expect that the addition of tests will reduce the work of manual testers. Testing cases that require simulating\na specific, very rare behavior or response from the backend takes the longest time. Reducing it by any value is\na profit. Happy paths and paths with standard errors can be easily programmed in tests. Additionally, programmers\nat an earlier stage are able to catch and correct errors resulting from regression. We are already working on\nadding tests to further processes such as onboarding a new customer, consolidation or repayment. We will also\nextend our test scenarios with additional cases. And the question posed at the very beginning of this article\nis still open.","guid":"https://blog.allegro.tech/2022/03/android-ui-testing-in-allegro-pay-organization.html","categories":["tech","kotlin","android","ui-testing","allegro-pay"],"isoDate":"2022-03-08T23:00:00.000Z","thumbnail":"images/post-headers/default.jpg"},{"title":"The War in Ukraine","link":"https://blog.allegro.tech/2022/03/war-in-ukraine.html","pubDate":"Tue, 01 Mar 2022 00:00:00 +0100","authors":{"author":[{"name":["Michał Kosmulski"],"photo":["https://blog.allegro.tech/img/authors/michal.kosmulski.jpg"],"url":["https://blog.allegro.tech/authors/michal.kosmulski"]}]},"content":"\u003cp\u003eThe attack on Ukraine has shocked the entire world, but in Poland it is making especially big waves. Not just due to geographical proximity - Ukrainians are one of the largest minorities in Poland and simply put it is affecting people we know personally.\u003c/p\u003e\n\n\u003cp\u003eWhile the fighting continues, here’s what \u003ca href=\"https://allegro.tech\"\u003eAllegro\u003c/a\u003e is doing, and what you can do, too, to help\nhumanitarian efforts.\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eIf you know any Ukrainians, your coworkers in particular, talk to them and show your support. Even minor gestures are\nimportant. Ask directly what kind of help they might need rather than trying to guess.\u003c/li\u003e\n  \u003cli\u003eDo not marginalize Russians and Belarussians. People are not the same as their governments, and often do not support\ntheir states’ actions.\u003c/li\u003e\n  \u003cli\u003eWork with your HR people and consider what kind of help you can offer as a company. Some examples would be extra days\noff, legal and financial support for bringing families to safety, or offering psychological support.\u003c/li\u003e\n  \u003cli\u003eAsk if the company can \u003ca href=\"https://spolecznosc.allegro.pl/t5/blog/wsparcie-dla-ukrainy-co-mo%C5%BCesz-zrobi%C4%87-na-allegro-aby-pom%C3%B3c/ba-p/334998\"\u003edonate directly, make donations by others easier\u003c/a\u003e [PL],\nprovide means of communication, etc., depending on the industry.\u003c/li\u003e\n  \u003cli\u003eOn a personal level, consider supporting one of the trustworthy humanitarian organizations. You can support them\nwith cash, volunteer work, or donate necessary items which are being collected in most cities.\nBe extremely cautious of fake fundraising campaigns that are popping up on every fundraising platform. Carefully\ncheck the fundraiser.\u003c/li\u003e\n  \u003cli\u003eIf you work in tech, you are likely an authority on IT matters for your family and friends. Make them aware of\nthe issue of disinformation, and encourage them to use only reliable information sources. Due to the threat of\ncyberattacks, encourage them to upgrade their systems and make backups.\u003c/li\u003e\n  \u003cli\u003eYou might also be able to \u003ca href=\"https://www.techtotherescue.org/tech/tech-for-ukraine\"\u003eapply your tech skills directly\u003c/a\u003e.\u003c/li\u003e\n  \u003cli\u003eRegardless of how the situation develops, its consequences will last for years. Do not stop with one-off actions,\nand keep on providing help as necessary.\u003c/li\u003e\n\u003c/ul\u003e\n","contentSnippet":"The attack on Ukraine has shocked the entire world, but in Poland it is making especially big waves. Not just due to geographical proximity - Ukrainians are one of the largest minorities in Poland and simply put it is affecting people we know personally.\nWhile the fighting continues, here’s what Allegro is doing, and what you can do, too, to help\nhumanitarian efforts.\nIf you know any Ukrainians, your coworkers in particular, talk to them and show your support. Even minor gestures are\nimportant. Ask directly what kind of help they might need rather than trying to guess.\nDo not marginalize Russians and Belarussians. People are not the same as their governments, and often do not support\ntheir states’ actions.\nWork with your HR people and consider what kind of help you can offer as a company. Some examples would be extra days\noff, legal and financial support for bringing families to safety, or offering psychological support.\nAsk if the company can donate directly, make donations by others easier [PL],\nprovide means of communication, etc., depending on the industry.\nOn a personal level, consider supporting one of the trustworthy humanitarian organizations. You can support them\nwith cash, volunteer work, or donate necessary items which are being collected in most cities.\nBe extremely cautious of fake fundraising campaigns that are popping up on every fundraising platform. Carefully\ncheck the fundraiser.\nIf you work in tech, you are likely an authority on IT matters for your family and friends. Make them aware of\nthe issue of disinformation, and encourage them to use only reliable information sources. Due to the threat of\ncyberattacks, encourage them to upgrade their systems and make backups.\nYou might also be able to apply your tech skills directly.\nRegardless of how the situation develops, its consequences will last for years. Do not stop with one-off actions,\nand keep on providing help as necessary.","guid":"https://blog.allegro.tech/2022/03/war-in-ukraine.html","categories":["tech","soft skills","helping"],"isoDate":"2022-02-28T23:00:00.000Z","thumbnail":"images/post-headers/default.jpg"},{"title":"Make your tests readable by example","link":"https://blog.allegro.tech/2022/02/readable-tests-by-example.html","pubDate":"Tue, 22 Feb 2022 00:00:00 +0100","authors":{"author":[{"name":["Kamil Jędrzejuk"],"photo":["https://blog.allegro.tech/img/authors/kamil.jedrzejuk.jpg"],"url":["https://blog.allegro.tech/authors/kamil.jedrzejuk"]}]},"content":"\u003cp\u003eHave you ever worked on a project where after downloading the code from the repository you start to wonder what business\nrequirements are hidden under the layer of unreadable tests? \u003cbr /\u003e\nOr maybe you are currently wondering how to test a new feature that you have been entrusted to implement?\u003c/p\u003e\n\n\u003cp\u003eNothing is more frustrating than code that we cannot control, and over time it becomes so troublesome that no one\nbothers about it too much. People do not pay enough attention to such a project and subsequent tests, if any, duplicate\nthe shortcomings of all the previous ones in the legacy.\u003c/p\u003e\n\n\u003cp\u003eIn this article I will show you how to disenchant this miserable state of affairs with a few simple tips. I invite\nyou to approach the tests in a completely different way to create their new version.\u003c/p\u003e\n\n\u003ch2 id=\"hello-domain\"\u003eHello domain!\u003c/h2\u003e\n\n\u003cp\u003eThe domain that will serve us as a background will not be too complicated, but at the same time not simple enough to\nactually be able to capture the benefit for which it is worth investing more time and effort in writing tests that are\nclear and easy to develop further.\u003c/p\u003e\n\n\u003cp\u003eFor the purpose of presenting to you a domain that is neither too complicated nor too trivial, I will use a model of a\nvinyl records online shop (I tried to create a domain which is universal and intuitive at the same time).\u003c/p\u003e\n\n\u003cp\u003eLet’s assume that we have the following very preliminary and explicitly written general business assumptions.\u003c/p\u003e\n\n\u003cdiv class=\"language-text highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003eAn online store sells vinyl records. Each order is delivered by a courier company cooperating with the store.\n\nThe cost of delivery is charged when the customer pays for the order.\n\nThe cost of delivery is always collected from the supplier’s system (the courier’s system).\n\nIn the event of its unavailability (e.g. when the external courier system cannot provide the cost amount),\nwe can assume that the cost of delivery is always a fixed amount of EUR 20.\n\nWe distinguish between two types of clients: STANDARD and VIP.\n\nIf the order is processed for a customer with a VIP status or the value of the order exceeds a certain amount\naccording to the running promotional campaign (current price list configuration), the order will be delivered free\nof charge.\n\nAdditionally, for the VIP customer, a free music track should be sent to their mailbox after the payment of the order.\n\nAfter paying for the order, no modifications can be made.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eSuch assumptions can be translated into one of the BDD-style scenarios:\u003c/p\u003e\n\n\u003cdiv class=\"language-gherkin highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e \u003cspan class=\"kn\"\u003eScenario\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e 1.1 (The VIP client pays for the order)\n   \u003cspan class=\"nf\"\u003eGiven \u003c/span\u003ethere is an unpaid order\n   \u003cspan class=\"nf\"\u003eAnd \u003c/span\u003ethe client is a VIP\n   \u003cspan class=\"nf\"\u003eWhen \u003c/span\u003ethe client makes the payment\n   \u003cspan class=\"nf\"\u003eThen \u003c/span\u003epayment succeeded\n   \u003cspan class=\"nf\"\u003eAnd \u003c/span\u003ethe client did not pay for delivery\n   \u003cspan class=\"nf\"\u003eAnd \u003c/span\u003efree music track was sent to the client\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3 id=\"architecture\"\u003eArchitecture\u003c/h3\u003e\n\n\u003cp\u003eThe structure of the code reflects the architecture that was adopted during the implementation works. The application is\na modular monolith written based on the architectural style\nof \u003ca href=\"https://blog.allegro.tech/2020/05/hexagonal-architecture-by-example.html\"\u003ePorts \u0026amp; Adapter\u003c/a\u003e, as well as\nthe \u003ca href=\"https://www.dddcommunity.org/learning-ddd/what_is_ddd/\"\u003eDomain Driven Design\u003c/a\u003e approach.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg alt=\"API package structure\" src=\"/img/articles/2022-02-22-readable-tests-by-example/1.png\" /\u003e\u003c/p\u003e\n\n\u003cp\u003eWe can distinguish the following packages:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecatalogue\u003c/code\u003e: reflects the catalogue of products with their unit prices\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclient\u003c/code\u003e: provides information on client scoring (VIP, STANDARD)\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecommon\u003c/code\u003e: contains common concepts, objects that appear in other contexts, e.g. the Money class\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003edelivery\u003c/code\u003e: calculates the delivery price based on the defined policy\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eorder\u003c/code\u003e: keeps the logic related to the user’s order, such as the amount of payment, or the ability\nto find them among other orders\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003esales\u003c/code\u003e: provides information on types promotions (e.g. price list configuration), especially the minimum value order\nneeded for free delivery\u003c/p\u003e\n  \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAs the order-related domain is the most complex, it actually coordinates the entire purchasing process, and thus it\nshould provide a comprehensive example for our further consideration.\u003c/p\u003e\n\n\u003ch2 id=\"how-can-we-test-such-code\"\u003eHow can we test such code?\u003c/h2\u003e\n\n\u003cp\u003eEach design must feature certain guidelines, which is also the case in choosing the testing methodology. In IT\nliterature, we can probably find many interesting references to how we should test an application code, nevertheless, in\nthis article I am going to show you how, on a daily basis, me and other teams at Allegro approach this issue in our\nwork.\u003c/p\u003e\n\n\u003cp\u003eBelow I have listed the main assumptions that will guide us throughout the rest of the article:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\n    \u003cp\u003eTests should be a living documentation describing the real requirements in the form of clear scenarios and should be\neasy to understand for every person who joins the project;\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003eApplication will be tested through a black-box approach that examines the functionality of the application without\nlooking into its internal structures or behavior. Thanks to this we focus on the functionality of what we are testing\nand not on the details of the implementation itself;\u003c/p\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\n    \u003cp\u003eAdding a new test to the existing scenario should not be difficult, and should be based on the existing ready-to-use\nconcepts which can also be easily modified.\u003c/p\u003e\n  \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"naive-approach--or-how-not-to-write-tests\"\u003eNaive approach — or how not to write tests\u003c/h2\u003e\n\n\u003cp\u003eAs I mentioned earlier, tests should be a living documentation of business requirements. It is typical of each\ndocumentation that you have to read and understand it first. It’s easy to guess that this shouldn’t be too much of a\nproblem for a potentially new person on the team.\u003c/p\u003e\n\n\u003cp\u003eLet’s take a closer look at \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eScenario 1.1\u003c/code\u003e, at the very beginning of our article, implemented in the form of an\nacceptance test. This is of course sample code that could be created in projects where no special attention is paid to\nthe quality of the provided test code. I would not recommend this type of testing.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"shouldn’t charge for delivery when the client has a VIP status\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003ebody\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\"\n          {\n             \"clientId\":\"${CLIENT_ID_1}\",\n             \"items\":[\n                {\n                   \"itemUnitPrice\":{\n                      \"productId\":\"${PRODUCT_ID_1}\",\n                      \"price\":{\n                         \"amount\":\"40.00\",\n                         \"currency\":\"EUR\"\n                      }\n                   },\n                   \"quantity\":1\n                }\n             ]\n          }\n        \"\"\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003erequestEntity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebuildHttpEntity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erestTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eexchange\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocalUrl\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/orders/$ORDER_ID_1\"\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erequestEntity\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMap\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003estatusCode\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCREATED\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewireMockServer\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003estubFor\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/reputation/${CLIENT_ID_1}\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithHeader\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eACCEPT\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eequalTo\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e()))\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewillReturn\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eaResponse\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithBody\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\"{\n                                   \"reputation\": \"VIP\",\n                                   \"clientId\": \"${CLIENT_ID_1}\"\n                                 }\"\"\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithHeader\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCONTENT_TYPE\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003ewhen:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ebody\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\"\n          {\n             \"clientId\": \"${CLIENT_ID_1}\",\n             \"cost\": { \"amount\": \"40.00\", \"currency\": \"EUR\" }\n          }\n          \"\"\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"n\"\u003erequestEntity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebuildHttpEntity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003eAPPLICATION_JSON\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoString\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erestTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eexchange\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocalUrl\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/orders/$ORDER_ID_1/payment\"\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erequestEntity\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMap\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003ethen:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003estatusCode\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eACCEPTED\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edomainEventPublisher\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003epublish\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eEvents\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eOrderPaid\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epollingConditions\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eeventually\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003efreeMusicTrackSender\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003esend\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eClientId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCLIENT_ID_1\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe above code is not easy to analyze as it requires the reader to focus on too many technical and implementation\ndetails, such as:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003edata exchange format JSON,\u003c/li\u003e\n  \u003cli\u003eHTTP data exchange protocol: PUT method, response code,\u003c/li\u003e\n  \u003cli\u003eREST architectural style,\u003c/li\u003e\n  \u003cli\u003eclasses derived from frameworks such as RestTemplate, PollingConditions.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eUndoubtedly, it is far from the appearance of the original \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eScenario 1.1\u003c/code\u003e. It contains many concepts that do not belong\nto the domain language that obscure the presence of natural expressions that we use in conversations with business\nstakeholders, for instance “event publisher” or “mock server”.\u003c/p\u003e\n\n\u003cp\u003eAnother disadvantage of this code is that it is not easily adaptable to further development, e.g. in the event of a\nchange in business requirements when it is necessary to modify or add another test.\u003c/p\u003e\n\n\u003cp\u003eThe conscious reader might notice that the example of our imperfect test is maybe too exaggerated and that each section\nof the ‘given’/‘when’/’then’ blocks, etc. could be extracted by the use of a separate private method. Certainly, this\nprocedure may result in some improvement of the code quality, but nevertheless such an approach still has many\ndrawbacks:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003ethe test class still contains code related to the technical implementation;\u003c/li\u003e\n  \u003cli\u003eif another test class uses a similar subset of functionalities, then sooner or later, there will be a need to copy\nsuch a method;\u003c/li\u003e\n  \u003cli\u003ewhat if I would like to change, for example, the library for mocking calls to another type of library?\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eLet’s take a closer look at a unit test this time. It covers a narrower range of requirements because, e.g., it does not\ncheck whether the client has been sent a free music track. Try to find similar defects in it as in the acceptance test.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eMoney\u003c/span\u003e \u003cspan class=\"n\"\u003eEUR_40\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMoney\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"40.00\"\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"EUR\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eClientId\u003c/span\u003e \u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eClientId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eVinyl\u003c/span\u003e \u003cspan class=\"n\"\u003eVINYL_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eVinyl\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eVinylId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eEUR_40\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eQuantity\u003c/span\u003e \u003cspan class=\"n\"\u003eONE\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderId\u003c/span\u003e \u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderDataSnapshot\u003c/span\u003e \u003cspan class=\"n\"\u003eUNPAID_ORDER_EUR_40\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eorderFactory\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ecreate\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMaps\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVINYL_1\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eONE\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoSnapshot\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eClientReputation\u003c/span\u003e \u003cspan class=\"n\"\u003eVIP\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eClientReputation\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003evip\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003ePayOrderCommand\u003c/span\u003e \u003cspan class=\"n\"\u003ePAY_FOR_ORDER_EUR_40\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePayOrderCommand\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEUR_40\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"shouldn’t charge for delivery when the client has a VIP status\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eorderRepository\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003efindBy\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eUNPAID_ORDER_EUR_40\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eclientReputationProvider\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eget\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eVIP\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003ewhen:\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epaymentHandler\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehandle\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePAY_FOR_ORDER_EUR_40\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003ethen:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eisSuccess\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n        \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edomainEventPublisher\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003epublish\u003c/span\u003e\u003cspan class=\"o\"\u003e({\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderPaid\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eorderId\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eamount\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eEUR_40\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003edelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e().\u003c/span\u003e\u003cspan class=\"na\"\u003ecost\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eMoney\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eZERO\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewhen\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eCURRENT_DATE\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e})\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn this case, it may seem that test is much better, because it is simpler and easier to read, but with a more in-depth\nanalysis it turns out that it still does not meet the expected requirements from the “How can we test such\ncode?” section, because:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eit uses concepts such as repository, provider, event publisher, handler, which were not mentioned in the written business\nscenarios — these are technical implementation details;\u003c/li\u003e\n  \u003cli\u003eall the variables used are within the specification, which in the case of a multitude of tests may constitute\nadditional complexity in their maintenance. Besides, it is not difficult to make a mistake here, e.g. by introducing a\nnew variable that is already defined somewhere under a different name;\u003c/li\u003e\n  \u003cli\u003eit is not easy to add further tests outside the specification that would need similar functionality — unfortunately, it\nwill require multiple repetition of fragments of the code.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eI have used the two examples of tests above to quickly highlight how many flaws the naive solution\nhas adopted, even though the business requirement was not too complicated. In summary, in each of the tests we have had\nto take extra care of:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003emanually creating objects using a constructor. This is not comfortable and additionally, with the large number of\nparameters, difficult to read; it also makes the tests messy and hard to maintain because changing the constructor\nmakes them very fragile;\u003c/li\u003e\n  \u003cli\u003ecreating body HTTP requests using text blocks, which in the case of larger objects leads to the creation of structures\noccupying a large part of the specification;\u003c/li\u003e\n  \u003cli\u003emocking or stubbing external dependencies using mechanisms from the framework as Stub or Mock, which can be\ncomfortable but does not necessarily improve the readability of the code and its further development;\u003c/li\u003e\n  \u003cli\u003estubbing the response to external services using the library Wiremock class directly in our code’s test;\u003c/li\u003e\n  \u003cli\u003echecking the final state of an object by referring directly to its content in the test. With complex structures it can\nbe very inconvenient and unreadable.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eIn the next section, I will focus on eliminating these shortcomings with a few simple solutions.\u003c/p\u003e\n\n\u003ch2 id=\"fixing-the-state-of-affairs\"\u003eFixing the state of affairs\u003c/h2\u003e\n\n\u003cp\u003eLet’s look at the first test again, which was presented in the previous section “Naive Approach”. It is not too hard to\nnotice that the vocabulary here resembles a more natural language, used by domain experts who do not use purely\ntechnical terms.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eOrderPaymentAcceptanceSpec\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"n\"\u003eBaseIntegrationTest\u003c/span\u003e \u003cspan class=\"kd\"\u003eimplements\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eCreateOrderAbility\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eClientReputationAbility\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSpecialPriceProviderAbility\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eCourierSystemAbility\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eOrderPaymentAbility\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eFreeMusicTrackSenderAbility\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"shouldn’t charge for delivery when the client has a VIP status\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n\n        \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eclientIsVip\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"nl\"\u003ewhen:\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003epayment\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eclientMakesThe\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eaPayment\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n\n        \u003cspan class=\"nl\"\u003ethen:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eassertThat\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epayment\u003c/span\u003e\u003cspan class=\"o\"\u003e).\u003c/span\u003e\u003cspan class=\"na\"\u003esucceeded\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eassertThatClientDidNotPayForDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"nl\"\u003eand:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eassertThatFreeMusicTrackWasSentToTheClient\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// other tests omitted\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn the following part of this section, I will show you how in a few steps you can use simple concepts to arrive at this\nmodel.\u003c/p\u003e\n\n\u003ch3 id=\"test-data-builder\"\u003eTest Data Builder\u003c/h3\u003e\n\n\u003cp\u003eTest Data Builder provides ready-made objects with sample data. It significantly improves the readability of the code by\nreplacing setter methods or invoking constructors with many parameters.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nd\"\u003e@Builder\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuilderStrategy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSimpleStrategy\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eprefix\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"with\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eCreateOrderJsonBuilder\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eorderId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eORDER_ID\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eclientId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCLIENT_ID\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eItemJsonBuilder\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eanItem\u003c/span\u003e\u003cspan class=\"o\"\u003e().\u003c/span\u003e\u003cspan class=\"na\"\u003ewithProductId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCZESLAW_NIEMEN_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e).\u003c/span\u003e\u003cspan class=\"na\"\u003ewithUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeuro\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e40.00\u003c/span\u003e\u003cspan class=\"o\"\u003e))]\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eCreateOrderJsonBuilder\u003c/span\u003e \u003cspan class=\"nf\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eCreateOrderJsonBuilder\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eCreateOrderJsonBuilder\u003c/span\u003e \u003cspan class=\"nf\"\u003ewithAmount\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMoneyJsonBuilder\u003c/span\u003e \u003cspan class=\"n\"\u003eanAmount\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eanItem\u003c/span\u003e\u003cspan class=\"o\"\u003e().\u003c/span\u003e\u003cspan class=\"na\"\u003ewithProductId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCZESLAW_NIEMEN_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e).\u003c/span\u003e\u003cspan class=\"na\"\u003ewithUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanAmount\u003c/span\u003e\u003cspan class=\"o\"\u003e)]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eMap\u003c/span\u003e \u003cspan class=\"nf\"\u003etoMap\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003eclientId:\u003c/span\u003e \u003cspan class=\"n\"\u003eclientId\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eitems\u003c/span\u003e   \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ecollect\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eit\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoMap\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn the above example, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003etoMap\u003c/code\u003e method returns a map, which can then be turned into a body of the HTTP request in JSON\nformat.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eTest Data Builder\u003c/code\u003e can be used both for constructing input data at the controller level and at the level of unit\ntests, e.g. by creating an object representing the initial state of the database. There is nothing to prevent us from\nusing this pattern, also for the construction of objects on which we make assertions.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"nd\"\u003e@Builder\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuilderStrategy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSimpleStrategy\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eprefix\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"with\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eOrderPaidEventBuilder\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eclientId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCLIENT_ID\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eorderId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eORDER_ID\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eInstant\u003c/span\u003e \u003cspan class=\"n\"\u003ewhen\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eDEFAULT_CURRENT_DATE\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eMoney\u003c/span\u003e \u003cspan class=\"n\"\u003eamount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eEUR_40\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDelivery\u003c/span\u003e \u003cspan class=\"n\"\u003edelivery\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderPaidEventBuilder\u003c/span\u003e \u003cspan class=\"nf\"\u003eanOrderPaidEventWithFreeDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eanOrderPaidEvent\u003c/span\u003e\u003cspan class=\"o\"\u003e().\u003c/span\u003e\u003cspan class=\"na\"\u003ewithFreeDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderPaidEventBuilder\u003c/span\u003e \u003cspan class=\"nf\"\u003eanOrderPaidEvent\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eOrderPaidEventBuilder\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eOrderPaidEventBuilder\u003c/span\u003e \u003cspan class=\"nf\"\u003ewithFreeDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edelivery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003efreeDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eOrderPaid\u003c/span\u003e \u003cspan class=\"nf\"\u003ebuild\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eOrderPaid\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eClientId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclientId\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eOrderId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eorderId\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewhen\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eamount\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edelivery\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eWhat is worth mentioning, we use the same constants in many places, which may seem a controversial idea for many\nreaders. However, I decided to split them into a separate \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eTestData\u003c/code\u003e class and based on the assumption that the class\nbuilders are assigned default values. Thanks to this I can focus on data relevant to a given test case only. It does not\nmake sense to introduce unnecessary noise into the test, as it should be set up with a minimal required data set.\u003c/p\u003e\n\n\u003cp\u003eThis pattern is also described by Nat Pryce on his \u003ca href=\"http://www.natpryce.com/articles/000714.html\"\u003eblog\u003c/a\u003e, where you can\nfind a more detailed explanation.\u003c/p\u003e\n\n\u003ch3 id=\"ability-pattern\"\u003eAbility Pattern\u003c/h3\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eOrderPaymentAcceptanceSpec\u003c/code\u003e class implements several traits with similar names ending with the word Ability. This\nis another concept that I want to discuss. As we understand it, and so it is giving certain abilities to the test\nscenario. As a result, with this approach, we can expand small blocks more and more.\u003c/p\u003e\n\n\u003cp\u003eNow, it is easy to imagine another test that needs the same ability or skill, by which we can get rid of duplicate code\nbetween different classes of tests.\u003c/p\u003e\n\n\u003cp\u003eLet’s analyse an example implementation of a trait named: \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eCreateOrderAbility\u003c/code\u003e\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003etrait\u003c/span\u003e \u003cspan class=\"nc\"\u003eCreateOrderAbility\u003c/span\u003e \u003cspan class=\"kd\"\u003eimplements\u003c/span\u003e \u003cspan class=\"n\"\u003eMakeRequestAbility\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateOrderJsonBuilder\u003c/span\u003e \u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eorderId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTestData\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecreateWithGivenId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nl\"\u003eanOrder:\u003c/span\u003e \u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"nl\"\u003eorderId:\u003c/span\u003e \u003cspan class=\"n\"\u003eorderId\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003estatusCode\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eCREATED\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eMap\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateOrderJsonBuilder\u003c/span\u003e \u003cspan class=\"n\"\u003eanOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003ejsonBody\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etoJson\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003etoMap\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003emakeRequest\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003eurl:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/orders\"\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003emethod:\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpMethod\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ePOST\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003econtentType:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003ebody:\u003c/span\u003e \u003cspan class=\"n\"\u003ejsonBody\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nl\"\u003eaccept:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIt extends the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eMakeRequestAbility\u003c/code\u003e trait responsible for building and sending an HTTP request to a given URL, which is\nalready served by the Spring controller, hiding all technical aspects from the reader. Moreover, the methods it exposes\nin conjunction with the passed parameters invoking the static method of the test builder class, read almost like prose.\nThis simple procedure makes our code more expressive, making it look closer to the text from the\nrequirements \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eScenario 1.1\u003c/code\u003e.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e  \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"shouldn’t charge for delivery when the client has a VIP status\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e \u003cspan class=\"c1\"\u003e// -\u0026gt; there is an unpaid order\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn the case of a unit test, such an ability may wrap the in-memory implementation of the repository.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003etrait\u003c/span\u003e \u003cspan class=\"nc\"\u003eOrderAbility\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"n\"\u003eOrderRepository\u003c/span\u003e \u003cspan class=\"n\"\u003eorderRepository\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eInMemoryOrderRepository\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOrderDataSnapshotBuilder\u003c/span\u003e \u003cspan class=\"n\"\u003eanOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eorderRepository\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003esave\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAnd this time we read the beginning of the test identically:\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"shouldn’t charge for delivery when the client has a VIP status\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e \u003cspan class=\"c1\"\u003e// -\u0026gt; there is an unpaid order\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn some cases, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAbility pattern\u003c/code\u003e can act as an assertion class, which I will mention later in the part regarding\ntailor-made assertions. Often in the case of black box tests, there is a need to check additional side effects, e.g.\nwhether an email was sent after the purchase of the order, or whether a service was asked with the data we want. We can\nthen split this logic into an appropriately named Ability class method.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003etrait\u003c/span\u003e \u003cspan class=\"nc\"\u003eOrderPaymentAbility\u003c/span\u003e \u003cspan class=\"kd\"\u003eimplements\u003c/span\u003e \u003cspan class=\"n\"\u003eMakeRequestAbility\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@SpyBean\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eDomainEventPublisher\u003c/span\u003e \u003cspan class=\"n\"\u003edomainEventPublisher\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003ePollingConditions\u003c/span\u003e \u003cspan class=\"n\"\u003epollingConditions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePollingConditions\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nl\"\u003etimeout:\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eassertThatClientDidNotPayForDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"n\"\u003eanEvent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eanOrderPaidEvent\u003c/span\u003e\u003cspan class=\"o\"\u003e().\u003c/span\u003e\u003cspan class=\"na\"\u003eanOrderPaidEventWithFreeDelivery\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epollingConditions\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eeventually\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMockito\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003everify\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edomainEventPublisher\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etimes\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003epublish\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanEventBuilder\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"o\"\u003e())\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// some code omitted\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe question is why we should make so much effort in creating our own solutions, and not use ready-made ones directly\nfrom the framework? Here are the arguments for:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003ereusability — we can use an ability written once in many places,\u003c/li\u003e\n  \u003cli\u003eextensibility — in the case of changing the library, which, for example, is used to mock other services, it is enough\nto make changes in one place,\u003c/li\u003e\n  \u003cli\u003eenriching the test with the language specific to our domain,\u003c/li\u003e\n  \u003cli\u003ewe are not limited by the capabilities of a given framework, e.g. Spock doesn’t allow you to mock final Java classes,\nthen we have to use an additional lib\nlike \u003ca href=\"https://tinyurl.com/readeable-test-by-example\"\u003espock-mockable\u003c/a\u003e\n.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"tailor-made-assertions\"\u003eTailor-made assertions\u003c/h3\u003e\n\n\u003cp\u003eThe last concept that I want to discuss is dedicated assertion classes. An assertion class is nothing more than a simple\nclass exposing methods which allow checking the input object appropriately.\u003c/p\u003e\n\n\u003cp\u003eIn some scenarios, we would actually like to verify the data that, for example, was eventually saved in the database.\nSome of our objects can be so complex that it would be inconvenient to check them directly in the test, referencing the\nnested objects or iterating the collections.\u003c/p\u003e\n\n\u003cdiv class=\"language-groovy highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e  \u003cspan class=\"kt\"\u003edef\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"should change the item quantity for unpaid order\"\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003egiven:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ethereIs\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanUnpaidOrder\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithClientId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithItems\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eanItem\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithProductId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCZESLAW_NIEMEN_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeuro\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e35.00\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"o\"\u003e),\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eanItem\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithProductId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBOHEMIAN_RHAPSODY_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeuro\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e55.00\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003ewhen:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003echangeItemQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eanItemQuantityChange\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithOrderId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithProductId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCZESLAW_NIEMEN_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ewithQuantityChange\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nl\"\u003ethen:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eassertThatThereIsOrderWithId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eORDER_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasClientId\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCLIENT_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasItemWithIdThat\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCZESLAW_NIEMEN_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeuro\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e35.00\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eand\u003c/span\u003e\u003cspan class=\"o\"\u003e()\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasItemWithIdThat\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBOHEMIAN_RHAPSODY_ALBUM_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasUnitPrice\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeuro\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e55.00\u003c/span\u003e\u003cspan class=\"o\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003ehasQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eApart from this, such an assertion can also be used in other places than just one test class.\u003c/p\u003e\n\n\u003ch2 id=\"the-end\"\u003eThe end\u003c/h2\u003e\n\n\u003cp\u003eI hope that by presenting the above example I have managed to show you how to use simple concepts to write or improve\ntests to be more readable. Consequently, they become a living documentation of our code, which undoubtedly is a great\nadded value to the project that we work on.\u003c/p\u003e\n\n\u003cp\u003eHowever, if you are wondering whether it is always worth investing time in writing tests as suggested in this article,\nmy answer is “No”.\u003c/p\u003e\n\n\u003cp\u003eI hold an opinion that not every project, or even part of it, e.g. a given module, requires this approach. In the case\nof simple applications with the complexity of the CRUD type, there is no need for sophisticated solutions. It is often\nenough to test such an application end to end, using the simplest solutions offered by a given framework.\u003c/p\u003e\n\n\u003cp\u003eIf you would like to have a look at the rest of the code from my example, you are welcome to have a look at\nthe \u003ca href=\"https://github.com/CamilYed/readable-tests-by-example\"\u003egithub repository\u003c/a\u003e.\u003c/p\u003e\n","contentSnippet":"Have you ever worked on a project where after downloading the code from the repository you start to wonder what business\nrequirements are hidden under the layer of unreadable tests? \nNothing is more frustrating than code that we cannot control, and over time it becomes so troublesome that no one\nbothers about it too much. People do not pay enough attention to such a project and subsequent tests, if any, duplicate\nthe shortcomings of all the previous ones in the legacy.\nIn this article I will show you how to disenchant this miserable state of affairs with a few simple tips. I invite\nyou to approach the tests in a completely different way to create their new version.\nHello domain!\nThe domain that will serve us as a background will not be too complicated, but at the same time not simple enough to\nactually be able to capture the benefit for which it is worth investing more time and effort in writing tests that are\nclear and easy to develop further.\nFor the purpose of presenting to you a domain that is neither too complicated nor too trivial, I will use a model of a\nvinyl records online shop (I tried to create a domain which is universal and intuitive at the same time).\nLet’s assume that we have the following very preliminary and explicitly written general business assumptions.\n\nAn online store sells vinyl records. Each order is delivered by a courier company cooperating with the store.\n\nThe cost of delivery is charged when the customer pays for the order.\n\nThe cost of delivery is always collected from the supplier’s system (the courier’s system).\n\nIn the event of its unavailability (e.g. when the external courier system cannot provide the cost amount),\nwe can assume that the cost of delivery is always a fixed amount of EUR 20.\n\nWe distinguish between two types of clients: STANDARD and VIP.\n\nIf the order is processed for a customer with a VIP status or the value of the order exceeds a certain amount\naccording to the running promotional campaign (current price list configuration), the order will be delivered free\nof charge.\n\nAdditionally, for the VIP customer, a free music track should be sent to their mailbox after the payment of the order.\n\nAfter paying for the order, no modifications can be made.\n\n\nSuch assumptions can be translated into one of the BDD-style scenarios:\n\n Scenario: 1.1 (The VIP client pays for the order)\n   Given there is an unpaid order\n   And the client is a VIP\n   When the client makes the payment\n   Then payment succeeded\n   And the client did not pay for delivery\n   And free music track was sent to the client\n\n\nArchitecture\nThe structure of the code reflects the architecture that was adopted during the implementation works. The application is\na modular monolith written based on the architectural style\nof Ports \u0026 Adapter, as well as\nthe Domain Driven Design approach.\n\nWe can distinguish the following packages:\ncatalogue: reflects the catalogue of products with their unit prices\nclient: provides information on client scoring (VIP, STANDARD)\ncommon: contains common concepts, objects that appear in other contexts, e.g. the Money class\ndelivery: calculates the delivery price based on the defined policy\norder: keeps the logic related to the user’s order, such as the amount of payment, or the ability\nto find them among other orders\nsales: provides information on types promotions (e.g. price list configuration), especially the minimum value order\nneeded for free delivery\nAs the order-related domain is the most complex, it actually coordinates the entire purchasing process, and thus it\nshould provide a comprehensive example for our further consideration.\nHow can we test such code?\nEach design must feature certain guidelines, which is also the case in choosing the testing methodology. In IT\nliterature, we can probably find many interesting references to how we should test an application code, nevertheless, in\nthis article I am going to show you how, on a daily basis, me and other teams at Allegro approach this issue in our\nwork.\nBelow I have listed the main assumptions that will guide us throughout the rest of the article:\nTests should be a living documentation describing the real requirements in the form of clear scenarios and should be\neasy to understand for every person who joins the project;\nApplication will be tested through a black-box approach that examines the functionality of the application without\nlooking into its internal structures or behavior. Thanks to this we focus on the functionality of what we are testing\nand not on the details of the implementation itself;\nAdding a new test to the existing scenario should not be difficult, and should be based on the existing ready-to-use\nconcepts which can also be easily modified.\nNaive approach — or how not to write tests\nAs I mentioned earlier, tests should be a living documentation of business requirements. It is typical of each\ndocumentation that you have to read and understand it first. It’s easy to guess that this shouldn’t be too much of a\nproblem for a potentially new person on the team.\nLet’s take a closer look at Scenario 1.1, at the very beginning of our article, implemented in the form of an\nacceptance test. This is of course sample code that could be created in projects where no special attention is paid to\nthe quality of the provided test code. I would not recommend this type of testing.\n\n def \"shouldn’t charge for delivery when the client has a VIP status\"() {\n    given:\n        def body = \"\"\"\n          {\n             \"clientId\":\"${CLIENT_ID_1}\",\n             \"items\":[\n                {\n                   \"itemUnitPrice\":{\n                      \"productId\":\"${PRODUCT_ID_1}\",\n                      \"price\":{\n                         \"amount\":\"40.00\",\n                         \"currency\":\"EUR\"\n                      }\n                   },\n                   \"quantity\":1\n                }\n             ]\n          }\n        \"\"\".toString()\n        def requestEntity = buildHttpEntity(body, APPLICATION_JSON.toString(), APPLICATION_JSON.toString())\n        def response = restTemplate.exchange(localUrl(\"/orders/$ORDER_ID_1\"), PUT, requestEntity, Map)\n    and:\n        assert response.statusCode == HttpStatus.CREATED\n\n    and:\n        wireMockServer.stubFor(\n            get(\"/reputation/${CLIENT_ID_1}\")\n                .withHeader(ACCEPT, equalTo(APPLICATION_JSON.toString()))\n                .willReturn(aResponse()\n                    .withBody(\"\"\"{\n                                   \"reputation\": \"VIP\",\n                                   \"clientId\": \"${CLIENT_ID_1}\"\n                                 }\"\"\")\n                    .withHeader(CONTENT_TYPE, APPLICATION_JSON.toString())\n                )\n        )\n    when:\n        body = \"\"\"\n          {\n             \"clientId\": \"${CLIENT_ID_1}\",\n             \"cost\": { \"amount\": \"40.00\", \"currency\": \"EUR\" }\n          }\n          \"\"\".toString()\n        requestEntity = buildHttpEntity(body, APPLICATION_JSON.toString(), APPLICATION_JSON.toString())\n        response = restTemplate.exchange(localUrl(\"/orders/$ORDER_ID_1/payment\"), PUT, requestEntity, Map)\n\n    then:\n        response.statusCode == HttpStatus.ACCEPTED\n\n    and:\n        1 * domainEventPublisher.publish(_ as Events.OrderPaid)\n\n    and:\n        pollingConditions.eventually {\n            1 * freeMusicTrackSender.send(new ClientId(CLIENT_ID_1))\n        }\n}\n// some code omitted\n\n\nThe above code is not easy to analyze as it requires the reader to focus on too many technical and implementation\ndetails, such as:\ndata exchange format JSON,\nHTTP data exchange protocol: PUT method, response code,\nREST architectural style,\nclasses derived from frameworks such as RestTemplate, PollingConditions.\nUndoubtedly, it is far from the appearance of the original Scenario 1.1. It contains many concepts that do not belong\nto the domain language that obscure the presence of natural expressions that we use in conversations with business\nstakeholders, for instance “event publisher” or “mock server”.\nAnother disadvantage of this code is that it is not easily adaptable to further development, e.g. in the event of a\nchange in business requirements when it is necessary to modify or add another test.\nThe conscious reader might notice that the example of our imperfect test is maybe too exaggerated and that each section\nof the ‘given’/‘when’/’then’ blocks, etc. could be extracted by the use of a separate private method. Certainly, this\nprocedure may result in some improvement of the code quality, but nevertheless such an approach still has many\ndrawbacks:\nthe test class still contains code related to the technical implementation;\nif another test class uses a similar subset of functionalities, then sooner or later, there will be a need to copy\nsuch a method;\nwhat if I would like to change, for example, the library for mocking calls to another type of library?\nLet’s take a closer look at a unit test this time. It covers a narrower range of requirements because, e.g., it does not\ncheck whether the client has been sent a free music track. Try to find similar defects in it as in the acceptance test.\n\nfinal Money EUR_40 = Money.of(\"40.00\", \"EUR\")\nfinal ClientId CLIENT_ID = new ClientId(\"1\")\nfinal Vinyl VINYL_1 = new Vinyl(new VinylId(\"1\"), EUR_40)\nfinal Quantity ONE = new Quantity(1)\nfinal OrderId ORDER_ID = new OrderId(\"1\")\nfinal OrderDataSnapshot UNPAID_ORDER_EUR_40 = orderFactory.create(ORDER_ID, CLIENT_ID, Maps.of(VINYL_1, ONE), true)\n    .toSnapshot()\nfinal ClientReputation VIP = ClientReputation.vip(CLIENT_ID)\nfinal PayOrderCommand PAY_FOR_ORDER_EUR_40 = new PayOrderCommand(ORDER_ID, EUR_40)\n\ndef \"shouldn’t charge for delivery when the client has a VIP status\"() {\n    given:\n        orderRepository.findBy(ORDER_ID) \u003e\u003e Optional.of(UNPAID_ORDER_EUR_40)\n\n    and:\n        clientReputationProvider.get(CLIENT_ID) \u003e\u003e VIP\n\n    when:\n        def result = paymentHandler.handle(PAY_FOR_ORDER_EUR_40)\n\n    then:\n        result.isSuccess()\n\n    and:\n        1 * domainEventPublisher.publish({ OrderPaid event -\u003e\n            assert event.orderId() == ORDER_ID\n            assert event.amount() == EUR_40\n            assert event.delivery().cost() == Money.ZERO\n            assert event.when() == CURRENT_DATE\n        })\n}\n\n\nIn this case, it may seem that test is much better, because it is simpler and easier to read, but with a more in-depth\nanalysis it turns out that it still does not meet the expected requirements from the “How can we test such\ncode?” section, because:\nit uses concepts such as repository, provider, event publisher, handler, which were not mentioned in the written business\nscenarios — these are technical implementation details;\nall the variables used are within the specification, which in the case of a multitude of tests may constitute\nadditional complexity in their maintenance. Besides, it is not difficult to make a mistake here, e.g. by introducing a\nnew variable that is already defined somewhere under a different name;\nit is not easy to add further tests outside the specification that would need similar functionality — unfortunately, it\nwill require multiple repetition of fragments of the code.\nI have used the two examples of tests above to quickly highlight how many flaws the naive solution\nhas adopted, even though the business requirement was not too complicated. In summary, in each of the tests we have had\nto take extra care of:\nmanually creating objects using a constructor. This is not comfortable and additionally, with the large number of\nparameters, difficult to read; it also makes the tests messy and hard to maintain because changing the constructor\nmakes them very fragile;\ncreating body HTTP requests using text blocks, which in the case of larger objects leads to the creation of structures\noccupying a large part of the specification;\nmocking or stubbing external dependencies using mechanisms from the framework as Stub or Mock, which can be\ncomfortable but does not necessarily improve the readability of the code and its further development;\nstubbing the response to external services using the library Wiremock class directly in our code’s test;\nchecking the final state of an object by referring directly to its content in the test. With complex structures it can\nbe very inconvenient and unreadable.\nIn the next section, I will focus on eliminating these shortcomings with a few simple solutions.\nFixing the state of affairs\nLet’s look at the first test again, which was presented in the previous section “Naive Approach”. It is not too hard to\nnotice that the vocabulary here resembles a more natural language, used by domain experts who do not use purely\ntechnical terms.\n\nclass OrderPaymentAcceptanceSpec extends BaseIntegrationTest implements\n    CreateOrderAbility,\n    ClientReputationAbility,\n    SpecialPriceProviderAbility,\n    CourierSystemAbility,\n    OrderPaymentAbility,\n    FreeMusicTrackSenderAbility {\n\n    def \"shouldn’t charge for delivery when the client has a VIP status\"() {\n        given:\n            thereIs(anUnpaidOrder())\n\n        and:\n            clientIsVip()\n\n        when:\n            def payment = clientMakesThe(aPayment())\n\n        then:\n            assertThat(payment).succeeded()\n\n        and:\n            assertThatClientDidNotPayForDelivery()\n\n        and:\n            assertThatFreeMusicTrackWasSentToTheClient()\n    }\n// other tests omitted\n\n\nIn the following part of this section, I will show you how in a few steps you can use simple concepts to arrive at this\nmodel.\nTest Data Builder\nTest Data Builder provides ready-made objects with sample data. It significantly improves the readability of the code by\nreplacing setter methods or invoking constructors with many parameters.\n\n@Builder(builderStrategy = SimpleStrategy, prefix = \"with\")\nclass CreateOrderJsonBuilder {\n    String orderId = TestData.ORDER_ID\n    String clientId = TestData.CLIENT_ID\n    List\u003cItemJsonBuilder\u003e items = [anItem().withProductId(TestData.CZESLAW_NIEMEN_ALBUM_ID).withUnitPrice(euro(40.00))]\n\n    static CreateOrderJsonBuilder anUnpaidOrder() {\n        return new CreateOrderJsonBuilder()\n    }\n    // some code omitted\n    CreateOrderJsonBuilder withAmount(MoneyJsonBuilder anAmount) {\n        items = [anItem().withProductId(TestData.CZESLAW_NIEMEN_ALBUM_ID).withUnitPrice(anAmount)]\n        return this\n    }\n\n    Map toMap() {\n        return [\n            clientId: clientId,\n            items   : items != null ? items.collect { it.toMap() } : null\n        ]\n    }\n}\n\n\nIn the above example, the toMap method returns a map, which can then be turned into a body of the HTTP request in JSON\nformat.\nThe Test Data Builder can be used both for constructing input data at the controller level and at the level of unit\ntests, e.g. by creating an object representing the initial state of the database. There is nothing to prevent us from\nusing this pattern, also for the construction of objects on which we make assertions.\n\n@Builder(builderStrategy = SimpleStrategy, prefix = \"with\")\nclass OrderPaidEventBuilder {\n    String clientId = TestData.CLIENT_ID\n    String orderId = TestData.ORDER_ID\n    Instant when = TestData.DEFAULT_CURRENT_DATE\n    Money amount = TestData.EUR_40\n    Delivery delivery\n\n    static OrderPaidEventBuilder anOrderPaidEventWithFreeDelivery() {\n        anOrderPaidEvent().withFreeDelivery()\n    }\n\n    static OrderPaidEventBuilder anOrderPaidEvent() {\n        return new OrderPaidEventBuilder()\n    }\n\n    OrderPaidEventBuilder withFreeDelivery() {\n        delivery = Delivery.freeDelivery()\n        return this\n    }\n\n    OrderPaid build() {\n        return new OrderPaid(\n            new ClientId(clientId),\n            new OrderId(orderId),\n            when,\n            amount,\n            delivery\n        )\n    }\n}\n\n\nWhat is worth mentioning, we use the same constants in many places, which may seem a controversial idea for many\nreaders. However, I decided to split them into a separate TestData class and based on the assumption that the class\nbuilders are assigned default values. Thanks to this I can focus on data relevant to a given test case only. It does not\nmake sense to introduce unnecessary noise into the test, as it should be set up with a minimal required data set.\nThis pattern is also described by Nat Pryce on his blog, where you can\nfind a more detailed explanation.\nAbility Pattern\nThe OrderPaymentAcceptanceSpec class implements several traits with similar names ending with the word Ability. This\nis another concept that I want to discuss. As we understand it, and so it is giving certain abilities to the test\nscenario. As a result, with this approach, we can expand small blocks more and more.\nNow, it is easy to imagine another test that needs the same ability or skill, by which we can get rid of duplicate code\nbetween different classes of tests.\nLet’s analyse an example implementation of a trait named: CreateOrderAbility\n\ntrait CreateOrderAbility implements MakeRequestAbility {\n\n    void thereIs(CreateOrderJsonBuilder anUnpaidOrder, String orderId = TestData.ORDER_ID) {\n        def response = createWithGivenId(anOrder: anUnpaidOrder, orderId: orderId)\n        assert response.statusCode == HttpStatus.CREATED\n    }\n\n    ResponseEntity\u003cMap\u003e create(CreateOrderJsonBuilder anOrder) {\n        def jsonBody = toJson(anOrder.toMap())\n        return makeRequest(\n            url: \"/orders\",\n            method: HttpMethod.POST,\n            contentType: \"application/json\",\n            body: jsonBody,\n            accept: \"application/json\",\n        )\n    }\n}\n\n\nIt extends the MakeRequestAbility trait responsible for building and sending an HTTP request to a given URL, which is\nalready served by the Spring controller, hiding all technical aspects from the reader. Moreover, the methods it exposes\nin conjunction with the passed parameters invoking the static method of the test builder class, read almost like prose.\nThis simple procedure makes our code more expressive, making it look closer to the text from the\nrequirements Scenario 1.1.\n\n  def \"shouldn’t charge for delivery when the client has a VIP status\"() {\n    given:\n        thereIs(anUnpaidOrder()) // -\u003e there is an unpaid order\n        // some code omitted\n}\n\n\nIn the case of a unit test, such an ability may wrap the in-memory implementation of the repository.\n\ntrait OrderAbility {\n\n    static final OrderRepository orderRepository = new InMemoryOrderRepository()\n\n    void thereIs(OrderDataSnapshotBuilder anOrder) {\n        orderRepository.save(anOrder.build())\n    }\n    // some code omitted\n}\n\n\nAnd this time we read the beginning of the test identically:\n\ndef \"shouldn’t charge for delivery when the client has a VIP status\"() {\n    given:\n        thereIs(anUnpaidOrder()) // -\u003e there is an unpaid order\n        // some code omitted\n}\n\n\nIn some cases, the Ability pattern can act as an assertion class, which I will mention later in the part regarding\ntailor-made assertions. Often in the case of black box tests, there is a need to check additional side effects, e.g.\nwhether an email was sent after the purchase of the order, or whether a service was asked with the data we want. We can\nthen split this logic into an appropriately named Ability class method.\n\ntrait OrderPaymentAbility implements MakeRequestAbility {\n\n    @SpyBean\n    private DomainEventPublisher domainEventPublisher\n\n    private PollingConditions pollingConditions = new PollingConditions(timeout: 5)\n\n    // some code omitted\n    void assertThatClientDidNotPayForDelivery(def anEvent = anOrderPaidEvent().anOrderPaidEventWithFreeDelivery()) {\n        pollingConditions.eventually {\n            Mockito.verify(domainEventPublisher, times(1))\n                .publish(anEventBuilder.build())\n        }\n    }\n    // some code omitted\n}\n\n\nThe question is why we should make so much effort in creating our own solutions, and not use ready-made ones directly\nfrom the framework? Here are the arguments for:\nreusability — we can use an ability written once in many places,\nextensibility — in the case of changing the library, which, for example, is used to mock other services, it is enough\nto make changes in one place,\nenriching the test with the language specific to our domain,\nwe are not limited by the capabilities of a given framework, e.g. Spock doesn’t allow you to mock final Java classes,\nthen we have to use an additional lib\nlike spock-mockable\n.\nTailor-made assertions\nThe last concept that I want to discuss is dedicated assertion classes. An assertion class is nothing more than a simple\nclass exposing methods which allow checking the input object appropriately.\nIn some scenarios, we would actually like to verify the data that, for example, was eventually saved in the database.\nSome of our objects can be so complex that it would be inconvenient to check them directly in the test, referencing the\nnested objects or iterating the collections.\n\n  def \"should change the item quantity for unpaid order\"() {\n    given:\n        thereIs(anUnpaidOrder()\n            .withId(ORDER_ID)\n            .withClientId(CLIENT_ID)\n            .withItems(\n                anItem()\n                    .withProductId(CZESLAW_NIEMEN_ALBUM_ID)\n                    .withUnitPrice(euro(35.00))\n                    .withQuantity(10),\n                anItem()\n                    .withProductId(BOHEMIAN_RHAPSODY_ALBUM_ID)\n                    .withUnitPrice(euro(55.00))\n                    .withQuantity(1)\n            )\n        )\n\n    when:\n        changeItemQuantity(anItemQuantityChange()\n            .withOrderId(ORDER_ID)\n            .withProductId(CZESLAW_NIEMEN_ALBUM_ID)\n            .withQuantityChange(20)\n        )\n\n    then:\n        assertThatThereIsOrderWithId(ORDER_ID)\n            .hasClientId(CLIENT_ID)\n            .hasItemWithIdThat(CZESLAW_NIEMEN_ALBUM_ID)\n                .hasUnitPrice(euro(35.00))\n                .hasQuantity(20)\n            .and()\n            .hasItemWithIdThat(BOHEMIAN_RHAPSODY_ALBUM_ID)\n                .hasUnitPrice(euro(55.00))\n                .hasQuantity(1)\n}\n\n\nApart from this, such an assertion can also be used in other places than just one test class.\nThe end\nI hope that by presenting the above example I have managed to show you how to use simple concepts to write or improve\ntests to be more readable. Consequently, they become a living documentation of our code, which undoubtedly is a great\nadded value to the project that we work on.\nHowever, if you are wondering whether it is always worth investing time in writing tests as suggested in this article,\nmy answer is “No”.\nI hold an opinion that not every project, or even part of it, e.g. a given module, requires this approach. In the case\nof simple applications with the complexity of the CRUD type, there is no need for sophisticated solutions. It is often\nenough to test such an application end to end, using the simplest solutions offered by a given framework.\nIf you would like to have a look at the rest of the code from my example, you are welcome to have a look at\nthe github repository.","guid":"https://blog.allegro.tech/2022/02/readable-tests-by-example.html","categories":["tech","backend","testing","tdd","bdd","java","groovy","ddd"],"isoDate":"2022-02-21T23:00:00.000Z","thumbnail":"images/post-headers/java.png"},{"title":"Why should we rewrite enzyme.js to react-testing-library and how to do that?","link":"https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html","pubDate":"Thu, 10 Feb 2022 00:00:00 +0100","authors":{"author":[{"name":["Magdalena Mazur"],"photo":["https://blog.allegro.tech/img/authors/magdalena.mazur.jpg"],"url":["https://blog.allegro.tech/authors/magdalena.mazur"]}]},"content":"\u003cp\u003eEveryone repeats like a mantra that tests are an indispensable element of development work. Is there anything to it?\nWell, I need to admit that as a developer, I rather often want to skip the test writing stage. I assume I’m not the\nonly one. I’m aware that it’s a mistake, even with testers on board. Effective and efficient testing of your own\ncode can help with catching bugs in new functionalities, as well as in changes to already existing ones. It cannot\nbe questioned. Sometimes tests also help to understand how some long-unused functionality or component works. And\nthat’s a small bonus too. \u003cstrong\u003eCan a large project cope without testing? Probably so. But the number of errors and\ntheir severity will probably be much higher.\u003c/strong\u003e That’s why in Allegro Ads we pay attention to writing tests.\u003c/p\u003e\n\n\u003ch2 id=\"frameworks\"\u003eFrameworks\u003c/h2\u003e\n\u003cp\u003eWe have a fairly large number of frameworks that are used to write tests in JavaScript. We can list tools like:\n\u003ca href=\"https://mochajs.org/\"\u003eMochaJS\u003c/a\u003e, \u003ca href=\"https://jestjs.io/\"\u003eJest\u003c/a\u003e, \u003ca href=\"https://karma-runner.github.io\"\u003eKarma\u003c/a\u003e,\n\u003ca href=\"https://jasmine.github.io/\"\u003eJasmine\u003c/a\u003e, \u003ca href=\"https://www.cypress.io/\"\u003eCypress\u003c/a\u003e. However, in this article, we will pay\nspecial attention and compare two javascript testing libraries: \u003ca href=\"https://enzymejs.github.io/enzyme/\"\u003eEnzyme.js\u003c/a\u003e\nand \u003ca href=\"https://testing-library.com/docs/react-testing-library/intro/\"\u003eReact Testing Library\u003c/a\u003e (often called RTL).\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/01.png\" alt=\"npm trends screen\" /\u003e\n\u003cem\u003eSource \u003ca href=\"https://www.npmtrends.com/@testing-library/react-vs-enzyme\"\u003enpm trends\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003ch2 id=\"enzymejs\"\u003eEnzymeJS\u003c/h2\u003e\n\u003cp\u003eFrom the Enzyme documentation we can read a short description:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eEnzyme is a JavaScript Testing utility for React that makes it easier to test your React Components’ output.\nYou can also manipulate, traverse, and in some ways simulate runtime given the output.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eEnzyme was released in \u003cstrong\u003e2015 by AirBnB\u003c/strong\u003e. And let’s face it, Enzyme has gained a lot of popularity. Last year, the\nlibrary was moved from AirBnB space to external Github space as a separate independent organization. This step was\nintended to encourage the community to further develop the library.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/02.png\" alt=\"commit diffrences\" /\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/03.png\" alt=\"commit diffrences\" /\u003e\n\u003cem\u003eSource \u003ca href=\"https://github.com/enzymejs/enzyme/commit/b06750bb5f6248ceb9c3fae903a71d0747a420d6\"\u003eEnzyme github\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eWhen it comes to raw data, the latest version of \u003cstrong\u003eEnzyme 3.11.0\u003c/strong\u003e has a bundle size of \u003cstrong\u003e463.2kB minified (127.5 kB\nminified + gzipped)\u003c/strong\u003e and was released on \u003cstrong\u003e20 December 2019\u003c/strong\u003e. Currently it has 258\n\u003ca href=\"https://github.com/enzymejs/enzyme/issues\"\u003eopen issues\u003c/a\u003e and 31 open PR’s.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/04.png\" alt=\"bundlephobia Enzyme sreen\" /\u003e\n\u003cem\u003eSource \u003ca href=\"https://bundlephobia.com/package/enzyme@3.11.0\"\u003eBundle Phobia\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eInteresting fact:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eThere are also Enzyme Adapter Packages for React. So you need to install adapter package and its dependencies\nrelated to the version of React that you are using. For example, for version 16, it also needs\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eenzyme-adapter-react-16\u003c/code\u003e to be installed. Unfortunately, it does not support all features completely.\nIt should be mentioned that there is not offical adapter for React 17 yet, which has been released in\nOctober 2020 (so it is more than a year!). If you don’t want to use community version you are still blocked and you\ncannot use the new React features.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"react-testing-library-often-called-rtl\"\u003eReact Testing Library (often called RTL)\u003c/h2\u003e\n\u003cp\u003eRTL says about itself:\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003eThe React Testing Library is a very light-weight solution for testing React components. It provides light utility\n functions on top of \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ereact-dom\u003c/code\u003e and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ereact-dom/test-utils\u003c/code\u003e, in a way that encourages better testing practices.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eReleased in \u003cstrong\u003eApril 2018 by Kent C. Dodds\u003c/strong\u003e. The latest stable version \u003cstrong\u003e12.1.2\u003c/strong\u003e of RTL has a bundle size of \u003cstrong\u003e215.8kB\nminified (47.3kB minified + gzipped)\u003c/strong\u003e . The RTL repository has 26\n\u003ca href=\"https://github.com/enzymejs/enzyme/issues\"\u003eopen issues\u003c/a\u003e and 2 open PR’s.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/05.png\" alt=\"bundlephobia RTL screen\" /\u003e\n\u003cem\u003eSource \u003ca href=\"https://bundlephobia.com/package/@testing-library/react@12.1.2\"\u003eBundle Phobia\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eInteresting facts:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eWhen you create a project by Create React App, you will get support for React Testing Library right away.\u003c/li\u003e\n  \u003cli\u003eJest documentation links to the RTL website in the\n\u003ca href=\"https://jestjs.io/docs/testing-frameworks#react\"\u003e\u003cem\u003eTesting Web Framework\u003c/em\u003e\u003c/a\u003e section as well as React documentation in\nthe \u003ca href=\"https://reactjs.org/docs/testing.html#tools\"\u003e\u003cem\u003eRecommended Tools\u003c/em\u003e\u003c/a\u003e.\u003c/li\u003e\n  \u003cli\u003eTesting library allows us to test with the same API not only React but also other frameworks like Vue\n(\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etesting-library/vue\u003c/code\u003e), Angular (\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etesting-library/angular\u003c/code\u003e), Svelte (\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etesting-library/svelte\u003c/code\u003e) etc. This could bring\nsome advantage for people working on several projects in different technologies. There is also\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003edom-testing-library\u003c/code\u003e which allows writing tests without any framework!\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"basic-differences\"\u003eBasic differences\u003c/h2\u003e\n\n\u003cp\u003eThe main differences between the two libraries that I can notice:\u003c/p\u003e\n\u003col\u003e\n  \u003cli\u003e\u003cstrong\u003eDifferent approaches to testing\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eWhat distinguishes RTL is that we find elements by their labels or texts, almost like a user would. The point is to\nreplicate and simulate the user’s behavior. RTL renders components to the DOM and doesn’t give us access\ndirectly to the component’s internals. While Enzyme uses shallow rendering (or sometimes deep rendering) and\nencourages us to test the components instance using its state and props. Enzyme also allows full rendering of DOM\nbut it is not the basic assumption of the library’s operation.\u003c/p\u003e\n\u003col\u003e\n  \u003cli\u003e\u003cstrong\u003eAge\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eEnzyme is 6 years old, RTL is 3 years old\u003c/p\u003e\n\n\u003ch2 id=\"comparison-of-downloads\"\u003eComparison of downloads\u003c/h2\u003e\n\n\u003cp\u003eBelow we can see a comparison of the number of downloads of both libraries in the last 5 years. Between August and\nSeptember 2020, the number of RTL downloads exceeded the number of Enzyme downloads.\u003c/p\u003e\n\n\u003cp\u003e\u003cimg src=\"/img/articles/2022-02-10-why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that/06.png\" alt=\"Enzyme and RTL dowloands graph\" /\u003e\n\u003cem\u003eSource \u003ca href=\"https://www.npmtrends.com/@testing-library/react-vs-enzyme\"\u003enpm trends\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eIn the case of RTL, it is clear that the number of downloads is still growing strongly. On the other hand, it can be\nsuspected that the highest peak of Enzyme downloads is already behind.\u003c/p\u003e\n\n\u003ch2 id=\"reasons-to-change-the-testing-library\"\u003eReasons to change the testing library\u003c/h2\u003e\n\n\u003cp\u003eWell, let’s be honest, Enzyme.js is a powerful library which has helped us test our React Components in an easier way\nfor a long time. But maybe… too long? The first official release was in December 2015. Do not get me wrong, I don’t\nwant to say that everything old is bad. But the frontend world is changing constantly, just as the approach to\ntesting it. I know that the Enzyme.js library hasn’t been deprecated yet, but there are a lot of reasons to switch\nyour test library right now. \u003cstrong\u003eIf you haven’t read it I highly recommend you to take a look at\n\u003ca href=\"https://www.piotrstaniow.pl/goodbye-enzyme\"\u003ethis article\u003c/a\u003e by Piotr Staniów\u003c/strong\u003e (it takes about 10 minutes to read).\u003c/p\u003e\n\n\u003cp\u003eThe main reasons for me to think about slowly rewriting my tests and switching to another library from this article\nare:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eone developer maintaining the entire Enzyme package,\u003c/li\u003e\n  \u003cli\u003enot keeping up with React changes.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eIf you ask me, these are big blockers in using this tool.\u003c/p\u003e\n\n\u003ch2 id=\"case-study-of-rewriting\"\u003eCase study of rewriting\u003c/h2\u003e\n\n\u003cp\u003eBelow I will present my own example created for the purposes of this article. It should present the minimal effort to\nrewrite tests from one library to another.\u003c/p\u003e\n\n\u003ch3 id=\"component\"\u003eComponent:\u003c/h3\u003e\n\n\u003cdiv class=\"language-js highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eheader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDefault header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetCounter\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eincrement\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003esetCounter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edecrement\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003esetCounter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eh1\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/h1\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\n\u003c/span\u003e            \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ep\u003c/span\u003e \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecounter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/p\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\n\u003c/span\u003e            \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eincrement\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eIncrement\u003c/span\u003e \u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/button\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\n\u003c/span\u003e            \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edecrement\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eDecrement\u003c/span\u003e \u003cspan class=\"nx\"\u003ecounter\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/button\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\n\u003c/span\u003e        \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/div\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\n\u003c/span\u003e    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3 id=\"enzyme-example\"\u003eEnzyme example:\u003c/h3\u003e\n\n\u003cdiv class=\"language-js highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eenzyme\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../Test\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026lt;Test /\u0026gt;\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render default header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoContain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDefault header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render header from props\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMy simple calculator\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoContain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMy simple calculator\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003enot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoContain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDefault header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render default defaultCounter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e0\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render defaultCounter from props\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e100\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould increment counter on click\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// given\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esimulate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eclick\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e101\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould decrement counter on click\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// given\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esimulate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eclick\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e99\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3 id=\"what-needs-to-be-changed\"\u003eWhat needs to be changed:\u003c/h3\u003e\n\u003cul\u003e\n  \u003cli\u003eremove \u003ccode class=\"language-plaintext highlighter-rouge\"\u003emount\u003c/code\u003e and use \u003ccode class=\"language-plaintext highlighter-rouge\"\u003erender\u003c/code\u003e instead\u003c/li\u003e\n  \u003cli\u003eremove \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ewrapper\u003c/code\u003e variable and use \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escreen\u003c/code\u003e to get elements\u003c/li\u003e\n  \u003cli\u003ereplace \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esimulate(’click’)\u003c/code\u003e with \u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserEvent\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"react-testing-library-example\"\u003eReact Testing Library example:\u003c/h3\u003e\n\n\u003cdiv class=\"language-js highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003escreen\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@testing-library/react\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003euserEvent\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@testing-library/user-event\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../Test\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026lt;Test /\u0026gt;\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render default header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByRole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eheading\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDefault header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e})).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render header from props\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMy simple calculator\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByRole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eheading\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eMy simple calculator\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e})).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003equeryByText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDefault header\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nx\"\u003enot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render default defaultCounter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e0\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould render defaultCounter from props\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e100\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould increment counter on click\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// given\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByRole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eIncrement counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003euserEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e101\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould decrement counter on click\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// given\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eTest\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultCounter\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"sr\"\u003e/\u0026gt;\u003c/span\u003e\u003cspan class=\"se\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e;\n\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByRole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eDecrement counter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// when\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003euserEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// then\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetByText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e99\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoBeInTheDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2 id=\"enzyme-and-rtl-in-allegro-ads\"\u003eEnzyme and RTL in Allegro Ads\u003c/h2\u003e\n\n\u003cp\u003eMy team is currently working on the development of \u003ca href=\"https://allegro.pl/ads\"\u003eAllegro Ads\u003c/a\u003e, which is an advertising tool\nfor our e-commerce platform sellers. It is a whole panel for viewing statistics, displaying advertising campaigns. We\nprovide sponsored offers for our Allegro site, Facebook, Google and recently even the partner websites. Our sellers\npay us for the opportunity to advertise their products, and at the same time we strive to ensure that these ads\naccurately reach people potentially interested in buying, thereby generating profits for sellers.\u003c/p\u003e\n\n\u003cp\u003eThe main technology stack is standard and still pretty cool. The core of the project is written in React, and\nsignificant parts have been rewritten to TypeScript. For testing purposes, we use Jest. In my opinion this is a very\ngood and stable tool, easy to work with. It has quite a low entry barrier, even if someone hasn’t had too much\nexperience with tests before. The main advantages of Jest for me are minimal configuration and quite good\ndocumentation. But for testing React components we currently have two libraries and I’ll explain why in a moment.\u003c/p\u003e\n\n\u003cp\u003eThe 2.0 version of platform Allegro Ads was released about 6 years ago. A year ago\nthe team added React Testing Library to \u003ccode class=\"language-plaintext highlighter-rouge\"\u003epackage.json\u003c/code\u003e. We have both packages so far. \u003cstrong\u003eRecently we officially\ndecided to slowly rewrite the Enzyme tests and get rid of the library for good.\u003c/strong\u003e We added the rule to our\nDeclaration of Code Convention that the new components are tested just in RTL, the old ones will be rewritten\nduring the development of specific parts.\u003c/p\u003e\n\n\u003ch2 id=\"migration-effects-so-far\"\u003eMigration effects so far\u003c/h2\u003e\n\n\u003cp\u003eCurrently we have got \u003cstrong\u003e592 test files\u003c/strong\u003e (counting after the file names with “spec” phrase). In these files we can also\nfind \u003cstrong\u003e709 of unique “describe”\u003c/strong\u003e usage, and \u003cstrong\u003e1796 unique test cases\u003c/strong\u003e. Half of tests\nare written only in Jest, but a significant number of tests for better testing use extra libraries.\u003c/p\u003e\n\n\u003cp\u003eReact Testing Library is used in \u003cstrong\u003e131 files\u003c/strong\u003e, which is around \u003cstrong\u003e22% of all test files\u003c/strong\u003e.\nEnzyme tests are in \u003cstrong\u003e137 files\u003c/strong\u003e which is around \u003cstrong\u003e23%\u003c/strong\u003e.\u003c/p\u003e\n\n\u003cp\u003eSo Enzyme is still used more often. However, keep in mind that we have been using Enzyme in this project from the\nbeginning and RTL for a year. So I’m quite stunned by these numbers. I did not think that the use of RTL would\nincrease so significantly in a year. Of course, there is still a long way to completely eliminate Enzyme, especially\namong other project priorities, but now I’m convinced that small steps will be enough to do that.\u003c/p\u003e\n\n\u003ch2 id=\"summary\"\u003eSummary\u003c/h2\u003e\n\n\u003cp\u003eHopefully this article showed you that switching from one library to another doesn’t have to be difficult. As\nprogrammers, we will encounter such situations frequently. I think that the effort put into replacing old libraries\nwith newer ones and keeping your code free of technological debt will bring tangible results for developers, project\nand, finally, users.\u003c/p\u003e\n\n\u003cp\u003eI hope that I was able to show you why we rewrite the Enzyme tests to RTL, how we do it and what stage we are at.\nProbably it is not the end. What are we going to replace RTL with in the future? We’ll see. :)\u003c/p\u003e\n","contentSnippet":"Everyone repeats like a mantra that tests are an indispensable element of development work. Is there anything to it?\nWell, I need to admit that as a developer, I rather often want to skip the test writing stage. I assume I’m not the\nonly one. I’m aware that it’s a mistake, even with testers on board. Effective and efficient testing of your own\ncode can help with catching bugs in new functionalities, as well as in changes to already existing ones. It cannot\nbe questioned. Sometimes tests also help to understand how some long-unused functionality or component works. And\nthat’s a small bonus too. Can a large project cope without testing? Probably so. But the number of errors and\ntheir severity will probably be much higher. That’s why in Allegro Ads we pay attention to writing tests.\nFrameworks\nWe have a fairly large number of frameworks that are used to write tests in JavaScript. We can list tools like:\nMochaJS, Jest, Karma,\nJasmine, Cypress. However, in this article, we will pay\nspecial attention and compare two javascript testing libraries: Enzyme.js\nand React Testing Library (often called RTL).\n\nSource npm trends\nEnzymeJS\nFrom the Enzyme documentation we can read a short description:\nEnzyme is a JavaScript Testing utility for React that makes it easier to test your React Components’ output.\nYou can also manipulate, traverse, and in some ways simulate runtime given the output.\nEnzyme was released in 2015 by AirBnB. And let’s face it, Enzyme has gained a lot of popularity. Last year, the\nlibrary was moved from AirBnB space to external Github space as a separate independent organization. This step was\nintended to encourage the community to further develop the library.\n\n\nSource Enzyme github\nWhen it comes to raw data, the latest version of Enzyme 3.11.0 has a bundle size of 463.2kB minified (127.5 kB\nminified + gzipped) and was released on 20 December 2019. Currently it has 258\nopen issues and 31 open PR’s.\n\nSource Bundle Phobia\nInteresting fact:\nThere are also Enzyme Adapter Packages for React. So you need to install adapter package and its dependencies\nrelated to the version of React that you are using. For example, for version 16, it also needs\nenzyme-adapter-react-16 to be installed. Unfortunately, it does not support all features completely.\nIt should be mentioned that there is not offical adapter for React 17 yet, which has been released in\nOctober 2020 (so it is more than a year!). If you don’t want to use community version you are still blocked and you\ncannot use the new React features.\nReact Testing Library (often called RTL)\nRTL says about itself:\nThe React Testing Library is a very light-weight solution for testing React components. It provides light utility\n functions on top of react-dom and react-dom/test-utils, in a way that encourages better testing practices.\nReleased in April 2018 by Kent C. Dodds. The latest stable version 12.1.2 of RTL has a bundle size of 215.8kB\nminified (47.3kB minified + gzipped) . The RTL repository has 26\nopen issues and 2 open PR’s.\n\nSource Bundle Phobia\nInteresting facts:\nWhen you create a project by Create React App, you will get support for React Testing Library right away.\nJest documentation links to the RTL website in the\nTesting Web Framework section as well as React documentation in\nthe Recommended Tools.\nTesting library allows us to test with the same API not only React but also other frameworks like Vue\n(testing-library/vue), Angular (testing-library/angular), Svelte (testing-library/svelte) etc. This could bring\nsome advantage for people working on several projects in different technologies. There is also\ndom-testing-library which allows writing tests without any framework!\nBasic differences\nThe main differences between the two libraries that I can notice:\nDifferent approaches to testing\nWhat distinguishes RTL is that we find elements by their labels or texts, almost like a user would. The point is to\nreplicate and simulate the user’s behavior. RTL renders components to the DOM and doesn’t give us access\ndirectly to the component’s internals. While Enzyme uses shallow rendering (or sometimes deep rendering) and\nencourages us to test the components instance using its state and props. Enzyme also allows full rendering of DOM\nbut it is not the basic assumption of the library’s operation.\nAge\nEnzyme is 6 years old, RTL is 3 years old\nComparison of downloads\nBelow we can see a comparison of the number of downloads of both libraries in the last 5 years. Between August and\nSeptember 2020, the number of RTL downloads exceeded the number of Enzyme downloads.\n\nSource npm trends\nIn the case of RTL, it is clear that the number of downloads is still growing strongly. On the other hand, it can be\nsuspected that the highest peak of Enzyme downloads is already behind.\nReasons to change the testing library\nWell, let’s be honest, Enzyme.js is a powerful library which has helped us test our React Components in an easier way\nfor a long time. But maybe… too long? The first official release was in December 2015. Do not get me wrong, I don’t\nwant to say that everything old is bad. But the frontend world is changing constantly, just as the approach to\ntesting it. I know that the Enzyme.js library hasn’t been deprecated yet, but there are a lot of reasons to switch\nyour test library right now. If you haven’t read it I highly recommend you to take a look at\nthis article by Piotr Staniów (it takes about 10 minutes to read).\nThe main reasons for me to think about slowly rewriting my tests and switching to another library from this article\nare:\none developer maintaining the entire Enzyme package,\nnot keeping up with React changes.\nIf you ask me, these are big blockers in using this tool.\nCase study of rewriting\nBelow I will present my own example created for the purposes of this article. It should present the minimal effort to\nrewrite tests from one library to another.\nComponent:\n\nimport React, { useState } from 'react';\n\nexport const Test = ({ defaultCounter = 0, header = 'Default header' }) =\u003e {\n    const [counter, setCounter] = useState(defaultCounter)\n    const increment = () =\u003e setCounter(counter + 1)\n    const decrement = () =\u003e setCounter(counter - 1)\n\n    return (\n        \u003cdiv\u003e\n            \u003ch1\u003e{header}\u003c/h1\u003e\n            \u003cp className='counter'\u003e{counter}\u003c/p\u003e\n            \u003cbutton onClick={increment}\u003eIncrement counter\u003c/button\u003e\n            \u003cbutton onClick={decrement}\u003eDecrement counter\u003c/button\u003e\n        \u003c/div\u003e\n    )\n};\n\n\n\nEnzyme example:\n\nimport React from 'react';\nimport { mount } from 'enzyme';\n\nimport { Test } from '../Test';\n\ndescribe('\u003cTest /\u003e', () =\u003e {\n  it('should render default header', () =\u003e {\n    // when\n    const wrapper = mount(\u003cTest /\u003e);\n\n    // then\n    expect(wrapper.text()).toContain('Default header');\n  });\n\n  it('should render header from props', () =\u003e {\n    // when\n    const wrapper = mount(\u003cTest header=\"My simple calculator\" /\u003e);\n\n    // then\n    expect(wrapper.text()).toContain('My simple calculator');\n    expect(wrapper.text()).not.toContain('Default header');\n  });\n\n  it('should render default defaultCounter', () =\u003e {\n    // when\n    const wrapper = mount(\u003cTest /\u003e);\n\n    // then\n    expect(wrapper.find('.counter').text()).toBe('0');\n  });\n\n  it('should render defaultCounter from props', () =\u003e {\n    // when\n    const wrapper = mount(\u003cTest defaultCounter={100} /\u003e);\n\n    // then\n    expect(wrapper.find('.counter').text()).toBe('100');\n  });\n\n  it('should increment counter on click', () =\u003e {\n    // given\n    const wrapper = mount(\u003cTest defaultCounter={100} /\u003e);\n    const button = wrapper.find('button').at(0);\n\n    // when\n    button.simulate('click');\n\n    // then\n    expect(wrapper.find('.counter').text()).toBe('101');\n  });\n\n  it('should decrement counter on click', () =\u003e {\n    // given\n    const wrapper = mount(\u003cTest defaultCounter={100} /\u003e);\n    const button = wrapper.find('button').at(1);\n\n    // when\n    button.simulate('click');\n\n    // then\n    expect(wrapper.find('.counter').text()).toBe('99');\n  });\n});\n\n\nWhat needs to be changed:\nremove mount and use render instead\nremove wrapper variable and use screen to get elements\nreplace simulate(’click’) with userEvent\nReact Testing Library example:\n\nimport React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\nimport { Test } from '../Test';\n\ndescribe('\u003cTest /\u003e', () =\u003e {\n  it('should render default header', () =\u003e {\n    // when\n    render(\u003cTest /\u003e);\n\n    // then\n    expect(screen.getByRole('heading', { name: 'Default header' })).toBeInTheDocument();\n  });\n\n  it('should render header from props', () =\u003e {\n    // when\n    render(\u003cTest header=\"My simple calculator\" /\u003e);\n\n    // then\n    expect(screen.getByRole('heading', { name: 'My simple calculator' })).toBeInTheDocument();\n    expect(screen.queryByText('Default header')).not.toBeInTheDocument();\n  });\n\n  it('should render default defaultCounter', () =\u003e {\n    // when\n    render(\u003cTest /\u003e);\n\n    // then\n    expect(screen.getByText('0')).toBeInTheDocument();\n  });\n\n  it('should render defaultCounter from props', () =\u003e {\n    // when\n    render(\u003cTest defaultCounter={100} /\u003e);\n\n    // then\n    expect(screen.getByText('100')).toBeInTheDocument();\n  });\n\n  it('should increment counter on click', () =\u003e {\n    // given\n    render(\u003cTest defaultCounter={100} /\u003e);\n\n    const button = screen.getByRole('button', { name: 'Increment counter' });\n\n    // when\n    userEvent.click(button);\n\n    // then\n    expect(screen.getByText('101')).toBeInTheDocument();\n  });\n\n  it('should decrement counter on click', () =\u003e {\n    // given\n    render(\u003cTest defaultCounter={100} /\u003e);\n\n    const button = screen.getByRole('button', { name: 'Decrement counter' });\n\n    // when\n    userEvent.click(button);\n\n    // then\n    expect(screen.getByText('99')).toBeInTheDocument();\n  });\n});\n\n\n\nEnzyme and RTL in Allegro Ads\nMy team is currently working on the development of Allegro Ads, which is an advertising tool\nfor our e-commerce platform sellers. It is a whole panel for viewing statistics, displaying advertising campaigns. We\nprovide sponsored offers for our Allegro site, Facebook, Google and recently even the partner websites. Our sellers\npay us for the opportunity to advertise their products, and at the same time we strive to ensure that these ads\naccurately reach people potentially interested in buying, thereby generating profits for sellers.\nThe main technology stack is standard and still pretty cool. The core of the project is written in React, and\nsignificant parts have been rewritten to TypeScript. For testing purposes, we use Jest. In my opinion this is a very\ngood and stable tool, easy to work with. It has quite a low entry barrier, even if someone hasn’t had too much\nexperience with tests before. The main advantages of Jest for me are minimal configuration and quite good\ndocumentation. But for testing React components we currently have two libraries and I’ll explain why in a moment.\nThe 2.0 version of platform Allegro Ads was released about 6 years ago. A year ago\nthe team added React Testing Library to package.json. We have both packages so far. Recently we officially\ndecided to slowly rewrite the Enzyme tests and get rid of the library for good. We added the rule to our\nDeclaration of Code Convention that the new components are tested just in RTL, the old ones will be rewritten\nduring the development of specific parts.\nMigration effects so far\nCurrently we have got 592 test files (counting after the file names with “spec” phrase). In these files we can also\nfind 709 of unique “describe” usage, and 1796 unique test cases. Half of tests\nare written only in Jest, but a significant number of tests for better testing use extra libraries.\nReact Testing Library is used in 131 files, which is around 22% of all test files.\nEnzyme tests are in 137 files which is around 23%.\nSo Enzyme is still used more often. However, keep in mind that we have been using Enzyme in this project from the\nbeginning and RTL for a year. So I’m quite stunned by these numbers. I did not think that the use of RTL would\nincrease so significantly in a year. Of course, there is still a long way to completely eliminate Enzyme, especially\namong other project priorities, but now I’m convinced that small steps will be enough to do that.\nSummary\nHopefully this article showed you that switching from one library to another doesn’t have to be difficult. As\nprogrammers, we will encounter such situations frequently. I think that the effort put into replacing old libraries\nwith newer ones and keeping your code free of technological debt will bring tangible results for developers, project\nand, finally, users.\nI hope that I was able to show you why we rewrite the Enzyme tests to RTL, how we do it and what stage we are at.\nProbably it is not the end. What are we going to replace RTL with in the future? We’ll see. :)","guid":"https://blog.allegro.tech/2022/02/why-we-should-rewrite-enzymejs-to-rtl-and-how-to-do-that.html","categories":["tech","frontend","javascript","jest","enzyme","react-testing-library","rtl","react"],"isoDate":"2022-02-09T23:00:00.000Z","thumbnail":"images/post-headers/javascript.png"}],"jobs":[{"id":"743999810853837","name":"Research Engineer - Machine Learning (Computer Vision)","uuid":"98abcad8-b820-4402-85a6-b6b6e03cfdaa","refNumber":"REF2880R","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2022-03-09T12:55:28.000Z","location":{"city":"Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572821","label":"IT - Machine Learning"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"185eb5a9-b884-4ee8-8ebc-0e5f3e852b27","valueLabel":"Tak"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"7d33e23d-3fa7-4d7d-86ae-7d7caff54fa9","valueLabel":"Tak"},{"fieldId":"58c158e9e4b0614667d5973e","fieldLabel":"Więcej lokalizacji","valueId":"3a186e8d-a82c-4955-af81-fcef9a63928a","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"cde0f8e7-5c9d-4d78-9f5c-e1c17ee499a8","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Proces rekrutacji","valueId":"c807eec2-8a53-4b55-b7c5-c03180f2059b","valueLabel":"(Archive) IT Allegro"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572821","valueLabel":"IT - Machine Learning"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro.pl sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"02d54f00-48b9-4669-b7b3-10c16ac4bada","valueLabel":"Tak"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"},{"fieldId":"5cdab2c84cedfd0006e7758c","fieldLabel":"Key words","valueLabel":"CV, Computer Vision, ML, AI, DS, Machine Learning, PyTorch, Python, Deep Learning"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999810853837","creator":{"name":"Maciej Matwiejczyk"},"language":{"code":"pl","label":"Polish","labelNative":"polski"}},{"id":"743999785422127","name":"Research Engineer - Machine Learning (Reinforcement Learning)","uuid":"229d607a-333b-431b-9abe-78137730f5fd","refNumber":"REF2881V","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2021-11-08T09:56:17.000Z","location":{"city":"Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572821","label":"IT - Machine Learning"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"185eb5a9-b884-4ee8-8ebc-0e5f3e852b27","valueLabel":"Tak"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"7d33e23d-3fa7-4d7d-86ae-7d7caff54fa9","valueLabel":"Tak"},{"fieldId":"58c158e9e4b0614667d5973e","fieldLabel":"Więcej lokalizacji","valueId":"3a186e8d-a82c-4955-af81-fcef9a63928a","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"cde0f8e7-5c9d-4d78-9f5c-e1c17ee499a8","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Proces rekrutacji","valueId":"c807eec2-8a53-4b55-b7c5-c03180f2059b","valueLabel":"(Archive) IT Allegro"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572821","valueLabel":"IT - Machine Learning"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro.pl sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"02d54f00-48b9-4669-b7b3-10c16ac4bada","valueLabel":"Tak"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"},{"fieldId":"5cdab2c84cedfd0006e7758c","fieldLabel":"Key words","valueLabel":"ML, Machine Learning, Python, Deep Learning, AI, Artificial Intelligence"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999785422127","creator":{"name":"Maciej Matwiejczyk"},"language":{"code":"en","label":"English","labelNative":"English (US)"}},{"id":"743999785421861","name":"Research Engineer - Machine Learning (Ranking and Recommendations)","uuid":"a6b2b59e-28e3-4bfa-89ab-b13ab97f06c8","refNumber":"REF2990T","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2021-11-08T09:54:52.000Z","location":{"city":"Warszawa, Poznań, Kraków, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572821","label":"IT - Machine Learning"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"58c158e9e4b0614667d5973e","fieldLabel":"Więcej lokalizacji","valueId":"3a186e8d-a82c-4955-af81-fcef9a63928a","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"60cb31a9c87e511299a3a050","fieldLabel":"Department II","valueId":"b8a4596e-d9ce-42bb-8de5-10995e9ccf99","valueLabel":"IT - Machine Learning"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Proces rekrutacji","valueId":"c807eec2-8a53-4b55-b7c5-c03180f2059b","valueLabel":"(Archive) IT Allegro"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572821","valueLabel":"IT - Machine Learning"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro.pl sp. z o.o."},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"},{"fieldId":"5cdab2c84cedfd0006e7758c","fieldLabel":"Key words","valueLabel":"ML, AI, Ranking, Research, Machine Learning"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999785421861","creator":{"name":"Maciej Matwiejczyk"},"language":{"code":"en","label":"English","labelNative":"English (US)"}},{"id":"743999779448775","name":"Research Engineer - Machine Learning (Reinforcement Learning)","uuid":"c8e577cc-c93a-43e7-8e73-e430989798d7","refNumber":"REF2881V","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2021-10-14T10:29:36.000Z","location":{"city":"Warszawa, Kraków, Poznań, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572821","label":"IT - Machine Learning"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"606235fe248e6f5bea0815ed","fieldLabel":"Katowice","valueId":"185eb5a9-b884-4ee8-8ebc-0e5f3e852b27","valueLabel":"Tak"},{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"606235bcefbac7156d6a470a","fieldLabel":"Łódź","valueId":"7d33e23d-3fa7-4d7d-86ae-7d7caff54fa9","valueLabel":"Tak"},{"fieldId":"58c158e9e4b0614667d5973e","fieldLabel":"Więcej lokalizacji","valueId":"3a186e8d-a82c-4955-af81-fcef9a63928a","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"6165609ee6b46b6506c66b63","fieldLabel":"Gdańsk","valueId":"cde0f8e7-5c9d-4d78-9f5c-e1c17ee499a8","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Proces rekrutacji","valueId":"c807eec2-8a53-4b55-b7c5-c03180f2059b","valueLabel":"(Archive) IT Allegro"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572821","valueLabel":"IT - Machine Learning"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro.pl sp. z o.o."},{"fieldId":"61656102a169ed164d546c31","fieldLabel":"Lublin","valueId":"02d54f00-48b9-4669-b7b3-10c16ac4bada","valueLabel":"Tak"},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"},{"fieldId":"5cdab2c84cedfd0006e7758c","fieldLabel":"Key words","valueLabel":"ML, Machine Learning, Python, Deep Learning, AI, Artificial Intelligence"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999779448775","creator":{"name":"Maciej Matwiejczyk"},"language":{"code":"pl","label":"Polish","labelNative":"polski"}},{"id":"743999779448676","name":"Research Engineer - Machine Learning (Ranking and Recommendations)","uuid":"7cb35dfc-f53c-4b51-81ac-61b683060f4c","refNumber":"REF2990T","company":{"identifier":"Allegro","name":"Allegro"},"releasedDate":"2021-10-14T10:29:00.000Z","location":{"city":"Warszawa, Poznań, Kraków, Toruń, Wrocław, Gdańsk, Katowice, Łódź, Lublin","country":"pl","remote":false},"industry":{"id":"internet","label":"Internet"},"department":{"id":"2572821","label":"IT - Machine Learning"},"function":{"id":"information_technology","label":"Information Technology"},"typeOfEmployment":{"label":"Full-time"},"experienceLevel":{"id":"mid_senior_level","label":"Mid-Senior Level"},"customField":[{"fieldId":"58c1575ee4b01d4b19ddf797","fieldLabel":"Kraków","valueId":"2cfcfcc1-da44-43f7-8eaa-3907faf2797c","valueLabel":"Tak"},{"fieldId":"58c158e9e4b0614667d5973e","fieldLabel":"Więcej lokalizacji","valueId":"3a186e8d-a82c-4955-af81-fcef9a63928a","valueLabel":"Tak"},{"fieldId":"58c1576ee4b0614667d59732","fieldLabel":"Toruń","valueId":"987e8884-bad1-4a8f-b149-99e4184cc221","valueLabel":"Tak"},{"fieldId":"58c156e6e4b01d4b19ddf793","fieldLabel":"Warszawa","valueId":"6a428533-1586-4372-89ec-65fb45366363","valueLabel":"Tak"},{"fieldId":"60cb31a9c87e511299a3a050","fieldLabel":"Department II","valueId":"b8a4596e-d9ce-42bb-8de5-10995e9ccf99","valueLabel":"IT - Machine Learning"},{"fieldId":"58c15608e4b01d4b19ddf790","fieldLabel":"Proces rekrutacji","valueId":"c807eec2-8a53-4b55-b7c5-c03180f2059b","valueLabel":"(Archive) IT Allegro"},{"fieldId":"COUNTRY","fieldLabel":"Country","valueId":"pl","valueLabel":"Poland"},{"fieldId":"58c15788e4b0614667d59733","fieldLabel":"Błonie","valueId":"25f6cb8c-81b3-434a-93ec-6dc851d5808d","valueLabel":"Nie"},{"fieldId":"58c15798e4b01d4b19ddf79b","fieldLabel":"Wrocław","valueId":"64818201-cdba-422e-8e8c-8ec633b0d327","valueLabel":"Tak"},{"fieldId":"58c13159e4b01d4b19ddf729","fieldLabel":"Department","valueId":"2572821","valueLabel":"IT - Machine Learning"},{"fieldId":"58c13159e4b01d4b19ddf728","fieldLabel":"Brands","valueId":"4ccb4fab-6c3f-4ed0-9140-8533fe17447f","valueLabel":"Allegro.pl sp. z o.o."},{"fieldId":"58c156b9e4b01d4b19ddf792","fieldLabel":"Poznań","valueId":"ac20917b-cb6a-4280-aff3-4fae2532a33e","valueLabel":"Tak"},{"fieldId":"5cdab2c84cedfd0006e7758c","fieldLabel":"Key words","valueLabel":"ML, AI, Ranking, Research, Machine Learning"}],"ref":"https://api.smartrecruiters.com/v1/companies/allegro/postings/743999779448676","creator":{"name":"Maciej Matwiejczyk"},"language":{"code":"pl","label":"Polish","labelNative":"polski"}}],"events":[{"created":1646677211000,"duration":7200000,"id":"284469437","name":"Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali","date_in_series_pattern":false,"status":"past","time":1647536400000,"local_date":"2022-03-17","local_time":"18:00","updated":1647544907000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":56,"is_online_event":false,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/284469437/","description":"Wydarzenie przełożone z 24 lutego. OBOWIĄZUJE REJESTRACJA: https://app.evenea.pl/event/allegro-tech-live-25/ Allegro Tech Live to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Kiedyś spotykaliśmy się…","visibility":"public","member_pay_fee":false},{"created":1644580206000,"duration":7200000,"id":"283913049","name":"Allegro Tech Live #25 - Przetwarzanie danych w ogromnej skali","date_in_series_pattern":false,"status":"past","time":1645722000000,"local_date":"2022-02-24","local_time":"18:00","updated":1645733471000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":104,"is_online_event":false,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/283913049/","description":"Ze względu na obecną sytuację polityczną pewnie dzisiaj wszyscy jesteśmy myślami z mieszkańcami Ukrainy, dlatego postanowiliśmy odwołać dzisiejszy Allegro Tech Live. Obiecujemy, że wrócimy z…","visibility":"public","member_pay_fee":false},{"created":1642501324000,"duration":5400000,"id":"283335598","name":"Allegro Tech Live #24 - Automatyzacja i usługi biznesowe w Allegro","date_in_series_pattern":false,"status":"past","time":1643907600000,"local_date":"2022-02-03","local_time":"18:00","updated":1643914840000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":56,"venue":{"id":26906060,"name":"Online event","repinned":false,"country":"","localized_country_name":""},"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/283335598/","description":"REJESTRACJA NA WYDARZENIE ---\u0026gt; https://app.evenea.pl/event/allegro-tech-live-24/ Allegro Tech Live to w 100% zdalna odsłona naszych stacjonarnych meetupów Allegro Tech Talks. Kiedyś spotykaliśmy się w naszych biurach,…","how_to_find_us":"https://app.evenea.pl/event/allegro-tech-live-24/","visibility":"public","member_pay_fee":false},{"created":1638356820000,"duration":7200000,"id":"282421464","name":"Allegro Tech Labs #9 Online: System design workshop","date_in_series_pattern":false,"status":"past","time":1639501200000,"local_date":"2021-12-14","local_time":"18:00","updated":1639514166000,"utc_offset":3600000,"waitlist_count":0,"yes_rsvp_count":62,"venue":{"id":26906060,"name":"Online event","repinned":false,"country":"","localized_country_name":""},"is_online_event":true,"group":{"created":1425052059000,"name":"allegro Tech","id":18465254,"join_mode":"open","lat":52.2599983215332,"lon":21.020000457763672,"urlname":"allegrotech","who":"Techs","localized_location":"Warsaw, Poland","state":"","country":"pl","region":"en_US","timezone":"Europe/Warsaw"},"link":"https://www.meetup.com/allegrotech/events/282421464/","description":"❗NA WYDARZENIE OBOWIĄZUJE REJESTRACJA: Liczba miejsc jest organiczona: https://app.evenea.pl/event/allegro-tech-labs-9/ ❗ To już druga edycja naszych warsztatów System Design Workshop! Czy chcesz poznać tajniki tworzenia systemów?…","how_to_find_us":"https://app.evenea.pl/event/allegro-tech-labs-9/","visibility":"public","member_pay_fee":false}],"podcasts":[{"title":"S02E12 - Piotr Betkier - Rola architekta w Allegro","link":"https://podcast.allegro.tech/rola_architekta_w_allegro/","pubDate":"Wed, 16 Jun 2021 00:00:00 GMT","content":"Od kodowania do tworzenia strategii technicznej... Jak wygląda rola architekta w Allegro? Ile takich osób pracuje w naszej firmie i dlaczego ta rola jest tak różnorodna? Czym jest Andamio i jak rozwijamy naszą platformę – o tym wszystkim opowie Piotr Betkier – Inżynier, Architekt Platformy Technicznej w Allegro oraz twórca piosenek o IT :)","contentSnippet":"Od kodowania do tworzenia strategii technicznej... Jak wygląda rola architekta w Allegro? Ile takich osób pracuje w naszej firmie i dlaczego ta rola jest tak różnorodna? Czym jest Andamio i jak rozwijamy naszą platformę – o tym wszystkim opowie Piotr Betkier – Inżynier, Architekt Platformy Technicznej w Allegro oraz twórca piosenek o IT :)","guid":"https://podcast.allegro.tech/rola_architekta_w_allegro/","isoDate":"2021-06-16T00:00:00.000Z"},{"title":"S02E11 - Piotr Michoński - Infrastruktura Allegro","link":"https://podcast.allegro.tech/infrastruktura_Allegro/","pubDate":"Tue, 01 Jun 2021 00:00:00 GMT","content":"Jak jest zbudowane środowisko uruchomienia aplikacji Allegro? Jak działają serwerownie firmy i ile ich potrzeba, a które elementy Allegro działają w chmurze publicznej? Jak przebiegała transformacja w Allegro i co zmieniało się przez lata? Jak wzrost biznesu wpływa na wielkość infrastruktury i jak infrastruktura Allegro odczuła przyjście pandemii? O tym, a także o rozwoju liderów technologii w Allegro oraz o historii powstania dżingla do naszych podcastów, opowie Piotr Michoński - menadżer Zespołów tworzących infrastrukturę Allegro.","contentSnippet":"Jak jest zbudowane środowisko uruchomienia aplikacji Allegro? Jak działają serwerownie firmy i ile ich potrzeba, a które elementy Allegro działają w chmurze publicznej? Jak przebiegała transformacja w Allegro i co zmieniało się przez lata? Jak wzrost biznesu wpływa na wielkość infrastruktury i jak infrastruktura Allegro odczuła przyjście pandemii? O tym, a także o rozwoju liderów technologii w Allegro oraz o historii powstania dżingla do naszych podcastów, opowie Piotr Michoński - menadżer Zespołów tworzących infrastrukturę Allegro.","guid":"https://podcast.allegro.tech/infrastruktura_Allegro/","isoDate":"2021-06-01T00:00:00.000Z"},{"title":"S02E10 - Dariusz Eliasz - Praca architekta ekosystemu big data w Allegro","link":"https://podcast.allegro.tech/praca_architekta_ekosystemu_big_data_w_Allegro/","pubDate":"Thu, 20 May 2021 00:00:00 GMT","content":"Jak wygląda praca architekta ekosystemu big data w Allegro? Jakie zadania realizuje nasz zespół odpowiedzialny za narzędzia i infrastrukturę dla przetwarzania danych? Kiedy możemy mówić o dużych danych i ile petabajtów przetwarza Allegro? Skąd pochodzą dane Allegro i dlaczego jest ich tak dużo oraz z jakiego powodu dopiero teraz przenosimy się do chmury? O tym wszystkim opowie zdobywca statuetki Allegro Tech Hero - Dariusz Eliasz – Team Manager \u0026 Platform Architect w Allegro.","contentSnippet":"Jak wygląda praca architekta ekosystemu big data w Allegro? Jakie zadania realizuje nasz zespół odpowiedzialny za narzędzia i infrastrukturę dla przetwarzania danych? Kiedy możemy mówić o dużych danych i ile petabajtów przetwarza Allegro? Skąd pochodzą dane Allegro i dlaczego jest ich tak dużo oraz z jakiego powodu dopiero teraz przenosimy się do chmury? O tym wszystkim opowie zdobywca statuetki Allegro Tech Hero - Dariusz Eliasz – Team Manager \u0026 Platform Architect w Allegro.","guid":"https://podcast.allegro.tech/praca_architekta_ekosystemu_big_data_w_Allegro/","isoDate":"2021-05-20T00:00:00.000Z"},{"title":"S02E09 - Bartosz Gałek - Od inżyniera do lidera w Allegro","link":"https://podcast.allegro.tech/od_inzyniera_do_lidera_w_allegro/","pubDate":"Thu, 06 May 2021 00:00:00 GMT","content":"Czym jest Opbox i jakie wyzwania przed nim stoją? Jak w Allegro angażujemy się w rozwój kultury Open Source? Ile mamy projektów na GitHubie i jak świętujemy Hacktoberfest? W jaki sposób można rozwinąć się od inżyniera do lidera? Na te pytania w najnowszym Allegro Tech Podcast odpowie Bartek Gałek, Team Leader w Allegro.","contentSnippet":"Czym jest Opbox i jakie wyzwania przed nim stoją? Jak w Allegro angażujemy się w rozwój kultury Open Source? Ile mamy projektów na GitHubie i jak świętujemy Hacktoberfest? W jaki sposób można rozwinąć się od inżyniera do lidera? Na te pytania w najnowszym Allegro Tech Podcast odpowie Bartek Gałek, Team Leader w Allegro.","guid":"https://podcast.allegro.tech/od_inzyniera_do_lidera_w_allegro/","isoDate":"2021-05-06T00:00:00.000Z"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"ETAZLkkz-7JFcJ9CFiM8w","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>